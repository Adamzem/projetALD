{"version":3,"file":"index.js","sources":["../src/context.js","../src/components/AutoCompleteInput.js","../src/assets/Poweredby_100px-White_VertText.png","../src/styles/theme.js","../src/components/Avatar.js","../src/components/MentionsItem.js","../src/components/CommandsItem.js","../src/utils/renderText.js","../src/utils/renderReactions.js","../src/utils/Streami18n.js","../src/utils/index.js","../src/components/Card.js","../src/components/DateSeparator.js","../src/components/EmptyStateIndicator.js","../src/components/EventIndicator.js","../src/images/PDF.png","../src/images/DOC.png","../src/images/PPT.png","../src/images/XLS.png","../src/images/TAR.png","../src/components/FileIcon.js","../src/components/AttachmentActions.js","../src/images/icons/close-round.png","../src/components/CloseButton.js","../src/components/Gallery.js","../src/components/FileAttachment.js","../src/components/Attachment.js","../src/components/FileAttachmentGroup.js","../src/images/reload1.png","../src/components/UploadProgressIndicator.js","../src/components/FileUploadPreview.js","../src/components/IconSquare.js","../src/components/ImageUploadPreview.js","../src/components/KeyboardCompatibleView.js","../src/components/LoadingErrorIndicator.js","../src/components/Spinner.js","../src/components/LoadingIndicator.js","../src/components/MessageSimple/MessageAvatar.js","../src/images/reactionlist/left-tail.png","../src/images/reactionlist/left-center.png","../src/images/reactionlist/left-end.png","../src/images/reactionlist/right-tail.png","../src/images/reactionlist/right-center.png","../src/images/reactionlist/right-end.png","../src/components/ReactionList.js","../src/components/MessageSimple/MessageTextContainer.js","../src/images/icons/icon_path.png","../src/components/MessageSimple/MessageReplies.js","../src/components/ReactionPicker.js","../src/components/ReactionPickerWrapper.js","../src/components/MessageSimple/MessageContent.js","../src/images/loading.gif","../src/images/icons/delivered_unseen.png","../src/components/MessageSimple/MessageStatus.js","../src/components/MessageSystem.js","../src/components/MessageSimple/index.js","../src/components/Message.js","../src/components/MessageNotification.js","../src/components/SuggestionsProvider.js","../src/native.js","../src/components/Chat.js","../src/components/ChannelInner.js","../src/components/Channel.js","../src/components/TypingIndicator.js","../src/components/MessageList.js","../src/images/icons/icon_edit.png","../src/images/icons/icon_new_message.png","../src/components/SendButton.js","../src/images/icons/plus-outline.png","../src/components/AttachButton.js","../src/images/icons/icon_attach-media.png","../src/images/icons/icon_folder.png","../src/images/icons/icon_close.png","../src/components/MessageInput.js","../src/components/ChannelPreviewMessenger.js","../src/components/ChannelPreview.js","../src/components/ChannelListHeaderNetworkDownIndicator.js","../src/components/ChannelListHeaderErrorIndicator.js","../src/components/ChannelListFooterLoadingIndicator.js","../src/components/ChannelListMessenger.js","../src/components/ChannelList.js","../src/components/Thread.js","../src/components/IconBadge.js"],"sourcesContent":["import React from 'react';\nimport { Keyboard } from 'react-native';\nexport const ChatContext = React.createContext({ client: null });\n\nexport function withChatContext(OriginalComponent) {\n  const ContextAwareComponent = getContextAwareComponent(\n    ChatContext,\n    OriginalComponent,\n  );\n  return ContextAwareComponent;\n}\n\nexport const TranslationContext = React.createContext({\n  t: () => 'Value not found',\n});\n\nexport function withTranslationContext(OriginalComponent) {\n  const ContextAwareComponent = getContextAwareComponent(\n    TranslationContext,\n    OriginalComponent,\n  );\n  return ContextAwareComponent;\n}\n\nexport const ChannelContext = React.createContext({});\n\nexport function withChannelContext(OriginalComponent) {\n  const ContextAwareComponent = getContextAwareComponent(\n    ChannelContext,\n    OriginalComponent,\n  );\n  return ContextAwareComponent;\n}\n\nexport const SuggestionsContext = React.createContext({});\n\nexport function withSuggestionsContext(OriginalComponent) {\n  return getContextAwareComponent(SuggestionsContext, OriginalComponent);\n}\n\nexport const MessageContentContext = React.createContext({});\n\nexport function withMessageContentContext(OriginalComponent) {\n  return getContextAwareComponent(MessageContentContext, OriginalComponent);\n}\n\nexport const KeyboardContext = React.createContext({\n  dismissKeyboard: Keyboard.dismiss,\n});\n\nexport function withKeyboardContext(OriginalComponent) {\n  return getContextAwareComponent(KeyboardContext, OriginalComponent);\n}\n\nconst getContextAwareComponent = function(context, originalComponent) {\n  const Context = context;\n  const OriginalComponent = originalComponent;\n  const ContextAwareComponent = function(props) {\n    return (\n      <Context.Consumer>\n        {(c) => <OriginalComponent {...c} {...props} />}\n      </Context.Consumer>\n    );\n  };\n\n  ContextAwareComponent.themePath = OriginalComponent.themePath;\n  ContextAwareComponent.extraThemePaths = OriginalComponent.extraThemePaths;\n  ContextAwareComponent.displayName =\n    OriginalComponent.displayName || OriginalComponent.name || 'Component';\n  ContextAwareComponent.displayName = ContextAwareComponent.displayName.replace(\n    'Base',\n    '',\n  );\n\n  return ContextAwareComponent;\n};\n","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport PropTypes from 'prop-types';\nimport { withTranslationContext } from '../context';\n\nconst InputBox = styled.TextInput`\n  max-height: 60px;\n  margin: -5px;\n  flex: 1;\n  ${({ theme }) => theme.messageInput.inputBox.css}\n`;\n\nclass AutoCompleteInput extends React.PureComponent {\n  static propTypes = {\n    value: PropTypes.string,\n    /** @see See [suggestions context](https://getstream.github.io/stream-chat-react-native/#suggestionscontext) */\n    openSuggestions: PropTypes.func,\n    /** @see See [suggestions context](https://getstream.github.io/stream-chat-react-native/#suggestionscontext) */\n    closeSuggestions: PropTypes.func,\n    /** @see See [suggestions context](https://getstream.github.io/stream-chat-react-native/#suggestionscontext) */\n    updateSuggestions: PropTypes.func,\n    triggerSettings: PropTypes.object,\n    setInputBoxRef: PropTypes.func,\n    /**\n     * @param text string\n     */\n    onChange: PropTypes.func,\n    /**\n     * Additional props for underlying TextInput component. These props will be forwarded as it is to TextInput component.\n     *\n     * @see See https://facebook.github.io/react-native/docs/textinput#reference\n     */\n    additionalTextInputProps: PropTypes.object,\n  };\n\n  static defaultProps = {\n    value: undefined,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectionStart: 0,\n      selectionEnd: 0,\n      currentTrigger: null,\n    };\n\n    this.isTrackingStarted = false;\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.value !== this.props.value) {\n      this.handleChange(this.props.value, true);\n    }\n  }\n\n  startTracking = () => {\n    this.isTrackingStarted = true;\n    const { component, title } = this.props.triggerSettings[\n      this.state.currentTrigger\n    ];\n    this.props.openSuggestions(title, component);\n  };\n\n  stopTracking = () => {\n    this.isTrackingStarted = false;\n    this.props.closeSuggestions();\n  };\n\n  updateSuggestions = async (q) => {\n    this.setState({\n      currentTokenForSuggestions: q,\n    });\n    const triggers = this.props.triggerSettings;\n    await triggers[this.state.currentTrigger].dataProvider(\n      q,\n      this.props.value,\n      (data, query) => {\n        // Make sure that the result is still relevant for current query\n        if (this.state.currentTokenForSuggestions !== query) {\n          return;\n        }\n        this.props.updateSuggestions({\n          data,\n          onSelect: this.onSelectSuggestion,\n        });\n      },\n    );\n  };\n\n  handleChange = (text, fromUpdate = false) => {\n    if (!fromUpdate) {\n      this.props.onChange(text);\n      return;\n    }\n\n    this.handleSuggestions(text);\n  };\n\n  handleSelectionChange = ({\n    nativeEvent: {\n      selection: { start, end },\n    },\n  }) => {\n    this.setState({ selectionStart: start, selectionEnd: end });\n  };\n\n  onSelectSuggestion = (item) => {\n    const { value: text } = this.props;\n    const { currentTrigger, selectionEnd } = this.state;\n    const triggers = this.props.triggerSettings;\n    const newToken = triggers[currentTrigger].output(item);\n    // const { onChange, trigger } = this.props;\n\n    if (!currentTrigger) return;\n\n    const computeCaretPosition = (token, startToken) =>\n      startToken + token.length;\n\n    const textToModify = text.slice(0, selectionEnd);\n\n    const startOfTokenPosition = textToModify.search(\n      /**\n       * It's important to escape the currentTrigger char for chars like [, (,...\n       */\n      new RegExp(`\\\\${currentTrigger}${`[^\\\\${currentTrigger}${'\\\\s'}]`}*$`),\n    );\n\n    // we add space after emoji is selected if a caret position is next\n    const newTokenString = `${newToken.text} `;\n\n    const newCaretPosition = computeCaretPosition(\n      newTokenString,\n      startOfTokenPosition,\n    );\n    const modifiedText =\n      textToModify.substring(0, startOfTokenPosition) + newTokenString;\n\n    this.stopTracking();\n    this.props.onChange(text.replace(textToModify, modifiedText));\n\n    this.syncCaretPosition(newCaretPosition);\n\n    if (triggers[currentTrigger].callback)\n      triggers[currentTrigger].callback(item);\n  };\n\n  syncCaretPosition = async (position = 0) => {\n    await this.setState({ selectionStart: position, selectionEnd: position });\n  };\n\n  isCommand = (text) => {\n    if (text[0] !== '/') return false;\n\n    const tokens = text.split(' ');\n\n    if (tokens.length > 1) return false;\n\n    return true;\n  };\n\n  handleCommand = (text) => {\n    if (!this.isCommand(text)) {\n      return false;\n    }\n\n    this.setState({ currentTrigger: '/' }, () => {\n      if (!this.isTrackingStarted) this.startTracking();\n\n      const actualToken = text.trim().slice(1);\n      return this.updateSuggestions(actualToken);\n    });\n\n    return true;\n  };\n\n  handleMentions = (text) => {\n    const { selectionEnd } = this.state;\n    // TODO: Move these const to props\n    const minChar = 0;\n\n    const tokenMatch = text\n      .slice(0, selectionEnd)\n      .match(/(?!^|\\W)?[:@][^\\s]*\\s?[^\\s]*$/g);\n\n    const lastToken = tokenMatch && tokenMatch[tokenMatch.length - 1].trim();\n    const triggers = this.props.triggerSettings;\n    const currentTrigger =\n      (lastToken && Object.keys(triggers).find((a) => a === lastToken[0])) ||\n      null;\n\n    /*\n      if we lost the trigger token or there is no following character we want to close\n      the autocomplete\n    */\n    if (!lastToken || lastToken.length <= minChar) {\n      this.stopTracking();\n      return;\n    }\n\n    const actualToken = lastToken.slice(1);\n\n    // if trigger is not configured step out from the function, otherwise proceed\n    if (!currentTrigger) {\n      return;\n    }\n\n    this.setState({ currentTrigger }, () => {\n      if (!this.isTrackingStarted) this.startTracking();\n    });\n\n    this.updateSuggestions(actualToken);\n  };\n\n  handleSuggestions = (text) => {\n    // react native is not consistent in order of execution of onSelectionChange and onTextChange\n    // with android and iOS. onSelectionChange gets executed first on iOS (which is ideal for our scenario)\n    // Although on android, this order is reversed. So need to add following 0 timeout to make sure that\n    // onSelectionChange is executed first before we proceed with handleSuggestions.\n    setTimeout(() => {\n      const { selectionEnd: selectionEnd } = this.state;\n\n      if (\n        text.slice(selectionEnd - 1, selectionEnd) === ' ' &&\n        !this.state.isTrackingStarted\n      ) {\n        this.stopTracking();\n        return;\n      }\n\n      if (this.handleCommand(text)) return;\n\n      this.handleMentions(text);\n    }, 100);\n  };\n\n  render() {\n    const { t, value } = this.props;\n\n    return (\n      <InputBox\n        ref={this.props.setInputBoxRef}\n        placeholder={t('Write your message')}\n        onChangeText={(text) => {\n          this.handleChange(text);\n        }}\n        value={value}\n        onSelectionChange={this.handleSelectionChange}\n        multiline\n        {...this.props.additionalTextInputProps}\n      />\n    );\n  }\n}\n\nconst AutoCompleteInputWithContext = withTranslationContext(AutoCompleteInput);\nexport { AutoCompleteInputWithContext as AutoCompleteInput };\n","const img = require('.//assets/Poweredby_100px-White_VertText.png'); export default img;","import React from 'react';\nimport { ThemeProvider, ThemeConsumer } from '@stream-io/styled-components';\nimport merge from 'lodash/merge';\nimport lodashSet from 'lodash/set';\nimport lodashGet from 'lodash/get';\nimport mapValues from 'lodash/mapValues';\nimport isPlainObject from 'lodash/isPlainObject';\n\nexport const BASE_FONT_SIZE = 16;\n\nexport const Colors = {\n  primary: '#006cff',\n  secondary: '#111',\n  danger: '#EDD8DD',\n  light: '#EBEBEB',\n  textLight: 'white',\n  textDark: 'rgba(0,0,0,1)',\n  textGrey: 'rgba(0,0,0,0.5)',\n  transparent: 'transparent',\n};\n\nexport const defaultTheme = {\n  colors: {\n    ...Colors,\n  },\n  avatar: {\n    container: {},\n    image: {},\n    text: {},\n    fallback: {},\n  },\n  channelListHeaderErrorIndicator: {\n    container: {},\n    errorText: {},\n  },\n  channelListHeaderNetworkDownIndicator: {\n    container: {},\n    errorText: {},\n  },\n  channelListFooterLoadingIndicator: {\n    container: {},\n  },\n  loadingErrorIndicator: {\n    container: {},\n    errorText: {},\n    retryText: {},\n  },\n  channelPreview: {\n    container: {},\n    details: {},\n    detailsTop: {},\n    title: {},\n    date: {},\n    message: {\n      color: '#767676',\n      unreadColor: '#000',\n      fontWeight: 'normal',\n      unreadFontWeight: 'bold',\n    },\n  },\n\n  closeButton: {\n    container: {},\n  },\n\n  iconBadge: {\n    container: {},\n    icon: {},\n    iconInner: {},\n    unreadCount: {},\n  },\n\n  iconSquare: {\n    container: {},\n  },\n\n  message: {\n    container: {},\n    content: {\n      container: {\n        borderRadiusL: 16,\n        borderRadiusS: 2,\n      },\n      containerInner: {},\n      metaContainer: {},\n      metaText: {},\n      errorContainer: {\n        backgroundColor: Colors.danger,\n      },\n      deletedContainer: {},\n      deletedText: {},\n      textContainer: {\n        borderRadiusL: 16,\n        borderRadiusS: 2,\n        leftBorderWidth: 0.5,\n        leftBorderColor: 'rgba(0,0,0,0.08)',\n        rightBorderWidth: 0,\n        rightBorderColor: 'transparent',\n      },\n      // Available options for styling text: https://github.com/CharlesMangwa/react-native-simple-markdown/tree/next#styles-1\n      markdown: {},\n    },\n    status: {\n      spacer: {},\n      deliveredContainer: {},\n      deliveredCircle: {},\n      checkMark: {},\n      sendingContainer: {},\n      sendingImage: {},\n      readByContainer: {},\n      readByCount: {},\n    },\n    avatarWrapper: {\n      container: {},\n      spacer: {},\n    },\n    replies: {\n      container: {},\n      messageRepliesText: {},\n      image: {},\n    },\n    file: {\n      container: {},\n      details: {},\n      title: {},\n      size: {},\n      icon: {},\n    },\n    actions: {\n      container: {},\n      button: {\n        primaryBackgroundColor: Colors.primary,\n        defaultBackgroundColor: 'white',\n        primaryBorderColor: Colors.light,\n        defaultBorderColor: 'transparent',\n      },\n      buttonText: {\n        primaryColor: 'white',\n        defaultColor: 'black',\n      },\n    },\n    card: {\n      container: {},\n      cover: {},\n      footer: {\n        title: {},\n        description: {},\n        link: {},\n        logo: {},\n      },\n    },\n\n    gallery: {\n      width: 240,\n      size: 120,\n      halfSize: 80,\n      doubleSize: 240,\n\n      single: {},\n      imageContainer: {},\n      galleryContainer: {},\n      header: {\n        container: {},\n        button: {},\n      },\n    },\n    reactionList: {\n      container: {},\n      reactionCount: {},\n    },\n\n    reactionPicker: {\n      container: {},\n      containerView: {},\n      column: {},\n      emoji: {},\n      reactionCount: {},\n      text: {},\n    },\n    actionSheet: {\n      titleContainer: {},\n      titleText: {},\n      buttonContainer: {},\n      buttonText: {},\n      cancelButtonContainer: {},\n      cancelButtonText: {},\n    },\n  },\n  loadingIndicator: {\n    container: {},\n    loadingText: {},\n  },\n  messageInput: {\n    container: {\n      conditionalPadding: 20,\n    },\n    inputBox: {},\n    inputBoxContainer: {},\n    editingBoxContainer: {},\n    editingBoxHeader: {},\n    editingBoxHeaderTitle: {},\n    attachButton: {},\n    attachButtonIcon: {},\n    sendButton: {},\n    sendButtonIcon: {},\n    imageUploadPreview: {\n      container: {},\n      itemContainer: {},\n      dismiss: {},\n      dismissImage: {},\n      upload: {},\n    },\n    uploadProgressIndicator: {\n      overlay: {},\n      container: {},\n    },\n\n    suggestions: {\n      wrapper: {},\n      container: {\n        maxHeight: 250,\n        itemHeight: 50,\n      },\n      title: {},\n      separator: {},\n      item: {},\n      mention: {\n        container: {},\n        name: {},\n      },\n      command: {\n        container: {},\n        top: {},\n        title: {},\n        args: {},\n        description: {},\n      },\n    },\n    actionSheet: {\n      titleContainer: {},\n      titleText: {},\n      buttonContainer: {},\n      buttonText: {},\n    },\n  },\n\n  messageList: {\n    listContainer: {},\n    messageNotification: {\n      container: {},\n      text: {},\n    },\n    errorNotification: {},\n    errorNotificationText: {},\n    dateSeparator: {\n      container: {},\n      line: {},\n      date: {},\n      dateText: {},\n    },\n    messageSystem: {\n      container: {},\n      line: {},\n      text: {},\n      textContainer: {},\n      dateText: {},\n    },\n    eventIndicator: {\n      date: {},\n      memberUpdateContainer: {},\n      memberUpdateTextContainer: {},\n      memberUpdateText: {},\n    },\n    typingIndicatorContainer: {},\n  },\n\n  spinner: {},\n\n  thread: {\n    newThread: {\n      text: {},\n    },\n  },\n\n  typingIndicator: {\n    text: {\n      fontSize: 14,\n      color: Colors.textGrey,\n    },\n    container: {},\n  },\n};\n\nexport const themed = (OriginalComponent) => {\n  if (OriginalComponent.themePath == null) {\n    throw Error('Only use themed on components that have a static themePath');\n  }\n  const ThemedComponent = ({ style, ...props }) => (\n    <ThemeConsumer>\n      {(themeProviderTheme) => {\n        if (!style && themeProviderTheme) {\n          return <OriginalComponent {...props} />;\n        }\n        let modifiedTheme = themeProviderTheme || defaultTheme;\n        if (style) {\n          const themeDiff = {};\n          const path = [];\n\n          // replaces\n          // { 'avatar.fallback': 'background-color: red;' }\n          // with\n          // { 'avatar.fallback': { css: 'background-color: red;' } }\n          const replaceCssShorthand = (v) => {\n            if (isPlainObject(v)) {\n              const m = mapValues(v, (v, k) => {\n                path.push(k);\n                return replaceCssShorthand(v);\n              });\n              path.pop();\n              return m;\n            }\n            if (isPlainObject(lodashGet(defaultTheme, path.join('.')))) {\n              path.pop();\n              return { css: v };\n            }\n            path.pop();\n            return v;\n          };\n\n          style = replaceCssShorthand(style);\n          for (const k in style) {\n            if (\n              lodashGet(defaultTheme, OriginalComponent.themePath + '.' + k)\n            ) {\n              merge(\n                themeDiff,\n                lodashSet({}, OriginalComponent.themePath + '.' + k, style[k]),\n              );\n            } else if (lodashGet(defaultTheme, k)) {\n              merge(themeDiff, lodashSet({}, k, style[k]));\n            } else {\n              throw Error(`Unknown theme key ${k}`);\n            }\n          }\n\n          modifiedTheme = merge({}, modifiedTheme, themeDiff);\n        }\n        return (\n          <ThemeProvider theme={modifiedTheme}>\n            <OriginalComponent {...props} />\n          </ThemeProvider>\n        );\n      }}\n    </ThemeConsumer>\n  );\n  ThemedComponent.themePath = OriginalComponent.themePath;\n  ThemedComponent.extraThemePaths = OriginalComponent.extraThemePaths;\n  ThemedComponent.displayName = `Themed${getDisplayName(OriginalComponent)}`;\n  return ThemedComponent;\n};\n\n// Copied from here:\n// https://reactjs.org/docs/higher-order-components.html#convention-wrap-the-display-name-for-easy-debugging\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n\nexport const originalCSS = {};\n\nexport function setOriginalCSS(path, string) {\n  // remove junk at the start and end of the code snippet\n  string = string\n    .split('`')[1]\n    .split('\\n')\n    .slice(1, -2)\n    .join('\\n');\n  lodashSet(originalCSS, path + '.defaultCSS', string);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\n\nconst BASE_AVATAR_FALLBACK_TEXT_SIZE = 14;\nconst BASE_AVATAR_SIZE = 32;\n\nconst AvatarContainer = styled.View`\n  display: flex;\n  align-items: center;\n  ${({ theme }) => theme.avatar.container.css}\n`;\n\nconst AvatarImage = styled.Image`\n  border-radius: ${({ size }) => size / 2};\n  width: ${({ size }) => size};\n  height: ${({ size }) => size};\n  ${({ theme }) => theme.avatar.image.css}\n`;\n\nconst AvatarFallback = styled.View`\n  border-radius: ${({ size }) => size / 2};\n  width: ${({ size }) => size};\n  height: ${({ size }) => size};\n  background-color: ${({ theme }) => theme.colors.primary};\n  justify-content: center;\n  align-items: center;\n  ${({ theme }) => theme.avatar.fallback.css}\n`;\n\nconst AvatarText = styled.Text`\n  color: ${({ theme }) => theme.colors.textLight};\n  text-transform: uppercase;\n  font-size: ${({ fontSize }) => fontSize};\n  font-weight: bold;\n  ${({ theme }) => theme.avatar.text.css}\n`;\n\n/**\n * Avatar - A round avatar image with fallback to user's initials\n *\n * @example ./docs/Avatar.md\n * @extends PureComponent\n */\nexport const Avatar = themed(\n  class Avatar extends React.PureComponent {\n    static themePath = 'avatar';\n    static propTypes = {\n      /** image url */\n      image: PropTypes.string,\n      /** name of the picture, used for title tag fallback */\n      name: PropTypes.string,\n      /** size in pixels */\n      size: PropTypes.number,\n      /** Style overrides */\n      style: PropTypes.object,\n    };\n\n    static defaultProps = {\n      size: 32,\n    };\n\n    state = {\n      imageError: false,\n    };\n\n    setError = () => {\n      this.setState({\n        imageError: true,\n      });\n    };\n\n    getInitials = (name) =>\n      name\n        ? name\n            .split(' ')\n            .slice(0, 2)\n            .map((name) => name.charAt(0))\n        : null;\n\n    render() {\n      const { size, name, image } = this.props;\n      const initials = this.getInitials(name);\n      const fontSize =\n        BASE_AVATAR_FALLBACK_TEXT_SIZE * (size / BASE_AVATAR_SIZE);\n\n      return (\n        <AvatarContainer>\n          {image && !this.state.imageError ? (\n            <AvatarImage\n              size={size}\n              source={{ uri: image }}\n              accessibilityLabel=\"initials\"\n              resizeMethod=\"resize\"\n              onError={this.setError}\n            />\n          ) : (\n            <AvatarFallback size={size}>\n              <AvatarText fontSize={fontSize}>{initials}</AvatarText>\n            </AvatarFallback>\n          )}\n        </AvatarContainer>\n      );\n    }\n  },\n);\n","import React from 'react';\nimport { Avatar } from './Avatar';\nimport PropTypes from 'prop-types';\n\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\n\nconst Container = styled.View`\n  flex-direction: row;\n  align-items: center;\n  padding: 10px;\n  ${({ theme }) => theme.messageInput.suggestions.mention.container.css}\n`;\n\nconst Name = styled.Text`\n  padding: 10px;\n  color: black;\n  font-weight: bold;\n  ${({ theme }) => theme.messageInput.suggestions.mention.name.css}\n`;\n\nexport const MentionsItem = themed(\n  class MentionsItem extends React.Component {\n    static themePath = 'messageInput.suggestions.mention';\n    render() {\n      const {\n        item: { name, image, id },\n      } = this.props;\n      return (\n        <Container>\n          <Avatar image={image} name={name} />\n          <Name>{name || id}</Name>\n        </Container>\n      );\n    }\n  },\n);\n\nMentionsItem.propTypes = {\n  name: PropTypes.string,\n  image: PropTypes.string,\n  id: PropTypes.string,\n};\n","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport PropTypes from 'prop-types';\nimport { themed } from '../styles/theme';\n\nconst Container = styled.View`\n  flex-direction: column;\n  padding: 10px;\n  ${({ theme }) => theme.messageInput.suggestions.command.container.css}\n`;\n\nconst Top = styled.View`\n  flex-direction: row;\n  align-items: center;\n  ${({ theme }) => theme.messageInput.suggestions.command.top.css}\n`;\n\nconst Title = styled.Text`\n  font-weight: bold;\n  ${({ theme }) => theme.messageInput.suggestions.command.title.css}\n`;\n\nconst CommandArgs = styled.Text`\n  ${({ theme }) => theme.messageInput.suggestions.command.args.css}\n`;\n\nconst CommandDescription = styled.Text`\n  ${({ theme }) => theme.messageInput.suggestions.command.description.css}\n`;\n\n/**\n * @example ./docs/CommandsItem.md\n * @extends PureComponent\n */\nexport const CommandsItem = themed(\n  class CommandsItem extends React.Component {\n    static themePath = 'messageInput.suggestions.command';\n    static propTypes = {\n      name: PropTypes.string,\n      args: PropTypes.string,\n      description: PropTypes.string,\n    };\n\n    render() {\n      const {\n        item: { name, args, description },\n      } = this.props;\n\n      return (\n        <Container>\n          <Top>\n            <Title>/{name} </Title>\n            <CommandArgs>{args}</CommandArgs>\n          </Top>\n          <CommandDescription>{description}</CommandDescription>\n        </Container>\n      );\n    }\n  },\n);\n","import React from 'react';\nimport Markdown from '@stream-io/react-native-simple-markdown';\nimport anchorme from 'anchorme';\nimport { truncate } from 'lodash-es';\n\nexport const renderText = (message, styles, markdownRules) => {\n  // take the @ mentions and turn them into markdown?\n  // translate links\n  let { text } = message;\n  const { mentioned_users = [] } = message;\n\n  if (!text) {\n    return;\n  }\n  text = text.trim();\n  const urls = anchorme(text, {\n    list: true,\n  });\n  for (const urlInfo of urls) {\n    const displayLink = truncate(urlInfo.encoded.replace(/^(www\\.)/, ''), {\n      length: 20,\n      omission: '...',\n    });\n    const mkdown = `[${displayLink}](${urlInfo.protocol}${urlInfo.encoded})`;\n    text = text.replace(urlInfo.raw, mkdown);\n  }\n  let newText = text;\n  if (mentioned_users.length) {\n    for (let i = 0; i < mentioned_users.length; i++) {\n      const username = mentioned_users[i].name || mentioned_users[i].id;\n      const mkdown = `**@${username}**`;\n      const re = new RegExp(`@${username}`, 'g');\n      newText = newText.replace(re, mkdown);\n    }\n  }\n\n  newText = newText.replace(/[<&\"'>]/g, '\\\\$&');\n  const markdownStyles = {\n    ...defaultMarkdownStyles,\n    ...styles,\n  };\n\n  return (\n    <Markdown rules={markdownRules} styles={markdownStyles}>\n      {newText}\n    </Markdown>\n  );\n};\n\nconst defaultMarkdownStyles = {\n  link: {\n    color: 'blue',\n    textDecorationLine: 'underline',\n  },\n  url: {\n    color: 'blue',\n    textDecorationLine: 'underline',\n  },\n  inlineCode: {\n    backgroundColor: '#F3F3F3',\n    borderColor: '#dddddd',\n    color: 'red',\n    fontSize: 13,\n    padding: 3,\n    paddingHorizontal: 5,\n  },\n};\n","import React from 'react';\nimport { Text } from 'react-native';\n\nexport const renderReactions = (reactions, supportedReactions) => {\n  const reactionsByType = {};\n  reactions.map((item) => {\n    if (reactions[item.type] === undefined) {\n      return (reactionsByType[item.type] = [item]);\n    } else {\n      return (reactionsByType[item.type] = [\n        ...reactionsByType[item.type],\n        item,\n      ]);\n    }\n  });\n\n  const emojiDataByType = {};\n  supportedReactions.forEach((e) => (emojiDataByType[e.id] = e));\n\n  const reactionTypes = supportedReactions.map((e) => e.id);\n  return Object.keys(reactionsByType).map((type) =>\n    reactionTypes.indexOf(type) > -1 ? (\n      <Text key={type}>{emojiDataByType[type].icon}</Text>\n    ) : null,\n  );\n};\n","import i18n from 'i18next';\nimport Dayjs from 'dayjs';\nimport calendar from 'dayjs/plugin/calendar';\nimport updateLocale from 'dayjs/plugin/updateLocale';\nimport LocalizedFormat from 'dayjs/plugin/localizedFormat';\nimport localeData from 'dayjs/plugin/localeData';\nimport relativeTime from 'dayjs/plugin/relativeTime';\n\nimport {\n  enTranslations,\n  nlTranslations,\n  ruTranslations,\n  trTranslations,\n  frTranslations,\n  hiTranslations,\n  itTranslations,\n} from '../i18n';\n\nconst defaultNS = 'translation';\nconst defaultLng = 'en';\n\nimport 'dayjs/locale/nl';\nimport 'dayjs/locale/ru';\nimport 'dayjs/locale/tr';\nimport 'dayjs/locale/fr';\nimport 'dayjs/locale/hi';\nimport 'dayjs/locale/it';\n// These locale imports also set these locale globally.\n// So As a last step I am going to import english locale\n// to make sure I don't mess up language at other places in app.\nimport 'dayjs/locale/en';\n\nDayjs.extend(updateLocale);\n\nDayjs.updateLocale('en', {\n  format: {\n    LT: 'hh:mmA',\n    LTS: 'HH:mm:ss',\n    L: 'DD/MM/YYYY',\n    LL: 'D MMMM YYYY',\n    LLL: 'D MMMM YYYY HH:mm',\n    LLLL: 'dddd, D MMMM YYYY HH:mm',\n  },\n});\nDayjs.updateLocale('nl', {\n  calendar: {\n    sameDay: '[vandaag om] LT',\n    nextDay: '[morgen om] LT',\n    nextWeek: 'dddd [om] LT',\n    lastDay: '[gisteren om] LT',\n    lastWeek: '[afgelopen] dddd [om] LT',\n    sameElse: 'L',\n  },\n});\nDayjs.updateLocale('it', {\n  calendar: {\n    sameDay: '[Oggi alle] LT',\n    nextDay: '[Domani alle] LT',\n    nextWeek: 'dddd [alle] LT',\n    lastDay: '[Ieri alle] LT',\n    lastWeek: '[lo scorso] dddd [alle] LT',\n    sameElse: 'L',\n  },\n});\nDayjs.updateLocale('hi', {\n  calendar: {\n    sameDay: '[आज] LT',\n    nextDay: '[कल] LT',\n    nextWeek: 'dddd, LT',\n    lastDay: '[कल] LT',\n    lastWeek: '[पिछले] dddd, LT',\n    sameElse: 'L',\n  },\n  // Hindi notation for meridiems are quite fuzzy in practice. While there exists\n  // a rigid notion of a 'Pahar' it is not used as rigidly in modern Hindi.\n  meridiemParse: /रात|सुबह|दोपहर|शाम/,\n  meridiemHour(hour, meridiem) {\n    if (hour === 12) {\n      hour = 0;\n    }\n    if (meridiem === 'रात') {\n      return hour < 4 ? hour : hour + 12;\n    } else if (meridiem === 'सुबह') {\n      return hour;\n    } else if (meridiem === 'दोपहर') {\n      return hour >= 10 ? hour : hour + 12;\n    } else if (meridiem === 'शाम') {\n      return hour + 12;\n    }\n  },\n  meridiem(hour) {\n    if (hour < 4) {\n      return 'रात';\n    } else if (hour < 10) {\n      return 'सुबह';\n    } else if (hour < 17) {\n      return 'दोपहर';\n    } else if (hour < 20) {\n      return 'शाम';\n    } else {\n      return 'रात';\n    }\n  },\n});\nDayjs.updateLocale('fr', {\n  calendar: {\n    sameDay: '[Aujourd’hui à] LT',\n    nextDay: '[Demain à] LT',\n    nextWeek: 'dddd [à] LT',\n    lastDay: '[Hier à] LT',\n    lastWeek: 'dddd [dernier à] LT',\n    sameElse: 'L',\n  },\n});\nDayjs.updateLocale('tr', {\n  calendar: {\n    sameDay: '[bugün saat] LT',\n    nextDay: '[yarın saat] LT',\n    nextWeek: '[gelecek] dddd [saat] LT',\n    lastDay: '[dün] LT',\n    lastWeek: '[geçen] dddd [saat] LT',\n    sameElse: 'L',\n  },\n});\nDayjs.updateLocale('ru', {\n  calendar: {\n    sameDay: '[Сегодня, в] LT',\n    nextDay: '[Завтра, в] LT',\n    lastDay: '[Вчера, в] LT',\n  },\n});\n\nconst en_locale = {\n  weekdays: 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split(\n    '_',\n  ),\n  months: 'January_February_March_April_May_June_July_August_September_October_November_December'.split(\n    '_',\n  ),\n};\n\n/**\n * Wrapper around [i18next](https://www.i18next.com/) class for Stream related translations.\n * Instance of this class should be provided to Chat component to handle translations.\n * Stream provides following list of in-built translations:\n * 1. English (en)\n * 2. Dutch (nl)\n * 3. Russian (ru)\n * 4. Turkish (tr)\n * 5. French (fr)\n * 6. Italian (it)\n * 7. Hindi (hi)\n *\n * Simplest way to start using chat components in one of the in-built languages would be following:\n *\n * ```\n * const i18n = new Streami18n({ language 'nl' });\n * <Chat client={chatClient} i18nInstance={i18n}>\n *  ...\n * </Chat>\n * ```\n *\n * If you would like to override certain keys in in-built translation.\n * UI will be automatically updated in this case.\n *\n * ```\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  translationsForLanguage: {\n *    'Nothing yet...': 'Nog Niet ...',\n *    '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} en {{ secondUser }} zijn aan het typen...',\n *  }\n * });\n *\n * If you would like to register additional languages, use registerTranslation. You can add as many languages as you want:\n *\n * i18n.registerTranslation('zh', {\n *  'Nothing yet...': 'Nog Niet ...',\n *  '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} en {{ secondUser }} zijn aan het typen...',\n * });\n *\n * <Chat client={chatClient} i18nInstance={i18n}>\n *  ...\n * </Chat>\n * ```\n *\n * You can use the same function to add whole new language as well.\n *\n * ```\n * const i18n = new Streami18n();\n *\n * i18n.registerTranslation('mr', {\n *  'Nothing yet...': 'काहीही नाही  ...',\n *  '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} आणि {{ secondUser }} टीपी करत आहेत ',\n * });\n *\n * // Make sure to call setLanguage to reflect new language in UI.\n * i18n.setLanguage('it');\n * <Chat client={chatClient} i18nInstance={i18n}>\n *  ...\n * </Chat>\n * ```\n *\n * ## Datetime translations\n *\n * Stream react chat components uses [dayjs](https://day.js.org/en/) internally by default to format datetime stamp.\n * e.g., in ChannelPreview, MessageContent components.\n * Dayjs has locale support as well - https://day.js.org/docs/en/i18n/i18n\n * Dayjs is a lightweight alternative to Momentjs with the same modern API.\n *\n * Dayjs provides locale config for plenty of languages, you can check the whole list of locale configs at following url\n * https://github.com/iamkun/dayjs/tree/dev/src/locale\n *\n * You can either provide the dayjs locale config while registering\n * language with Streami18n (either via constructor or registerTranslation()) or you can provide your own Dayjs or Moment instance\n * to Streami18n constructor, which will be then used internally (using the language locale) in components.\n *\n * 1. Via language registration\n *\n * e.g.,\n * ```\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  dayjsLocaleConfigForLanguage: {\n *    months: [...],\n *    monthsShort: [...],\n *    calendar: {\n *      sameDay: ...'\n *    }\n *  }\n * });\n * ```\n *\n * Similarly, you can add locale config for moment while registering translation via `registerTranslation` function.\n *\n * e.g.,\n * ```\n * const i18n = new Streami18n();\n *\n * i18n.registerTranslation(\n *  'mr',\n *  {\n *    'Nothing yet...': 'काहीही नाही  ...',\n *    '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} आणि {{ secondUser }} टीपी करत आहेत ',\n *  },\n *  {\n *    months: [...],\n *    monthsShort: [...],\n *    calendar: {\n *      sameDay: ...'\n *    }\n *  }\n * );\n *```\n * 2. Provide your own Moment object\n *\n * ```js\n * import 'moment/locale/nl';\n * import 'moment/locale/it';\n * // or if you want to include all locales\n * import 'moment/min/locales';\n *\n * import Moment from moment\n *\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  DateTimeParser: Moment\n * })\n * ```\n *\n * 3. Provide your own Dayjs object\n *\n * ```js\n * import Dayjs from 'dayjs'\n *\n * import 'dayjs/locale/nl';\n * import 'dayjs/locale/it';\n * // or if you want to include all locales\n * import 'dayjs/min/locales';\n *\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  DateTimeParser: Dayjs\n * })\n * ```\n * If you would like to stick with english language for datetimes in Stream compoments, you can set `disableDateTimeTranslations` to true.\n *\n */\nconst defaultStreami18nOptions = {\n  language: 'en',\n  disableDateTimeTranslations: false,\n  debug: false,\n  logger: (msg) => console.warn(msg),\n  dayjsLocaleConfigForLanguage: null,\n  DateTimeParser: Dayjs,\n  /**\n   * @deprecated Please use DateTimeParser instead\n   */\n  Moment: null,\n};\nexport class Streami18n {\n  i18nInstance = i18n.createInstance();\n  Dayjs = null;\n  setLanguageCallback = () => null;\n  initialized = false;\n\n  t = null;\n  tDateTimeParser = null;\n  translations = {\n    en: { [defaultNS]: enTranslations },\n    nl: { [defaultNS]: nlTranslations },\n    ru: { [defaultNS]: ruTranslations },\n    tr: { [defaultNS]: trTranslations },\n    fr: { [defaultNS]: frTranslations },\n    hi: { [defaultNS]: hiTranslations },\n    it: { [defaultNS]: itTranslations },\n  };\n  /**\n   * dayjs.defineLanguage('nl') also changes the global locale. We don't want to do that\n   * when user calls registerTranslation() function. So intead we will store the locale configs\n   * given to registerTranslation() function in `dayjsLocales` object, and register the required locale\n   * with moment, when setLanguage is called.\n   * */\n  dayjsLocales = {};\n  /**\n   * Contructor accepts following options:\n   *  - language (String) default: 'en'\n   *    Language code e.g., en, tr\n   *\n   *  - translationsForLanguage (object)\n   *    Translations object. Please check src/i18n/en.json for example.\n   *\n   *  - disableDateTimeTranslations (boolean) default: false\n   *    Disable translations for datetimes\n   *\n   *  - debug (boolean) default: false\n   *    Enable debug mode in internal i18n class\n   *\n   *  - logger (function) default: () => {}\n   *    Logger function to log warnings/errors from this class\n   *\n   *  - dayjsLocaleConfigForLanguage (object) default: 'enConfig'\n   *    [Config object](https://momentjs.com/docs/#/i18n/changing-locale/) for internal moment object,\n   *    corresponding to language (param)\n   *\n   *  - DateTimeParser (function) Moment or Dayjs instance/function.\n   *    Make sure to load all the required locales in this Moment or Dayjs instance that you will be provide to Streami18n\n   *\n   * @param {*} options\n   */\n  constructor(options = {}) {\n    const finalOptions = {\n      ...defaultStreami18nOptions,\n      ...options,\n    };\n    // Prepare the i18next configuration.\n    this.logger = finalOptions.logger;\n\n    this.currentLanguage = finalOptions.language;\n    this.DateTimeParser = finalOptions.Moment || finalOptions.DateTimeParser;\n\n    if (options.Moment) {\n      this.logger(\n        '\"Moment\" option has been deprecated from Streami18n options. Please use DateTimeParser instead.',\n      );\n    }\n\n    try {\n      // This is a shallow check to see if given parser is instance of Dayjs.\n      // For some reason Dayjs.isDayjs(this.DateTimeParser()) doesn't work.\n      if (this.DateTimeParser && this.DateTimeParser.extend) {\n        this.DateTimeParser.extend(LocalizedFormat);\n        this.DateTimeParser.extend(calendar);\n        this.DateTimeParser.extend(localeData);\n        this.DateTimeParser.extend(relativeTime);\n      }\n    } catch (error) {\n      throw Error(\n        `Streami18n: Looks like you wanted to provide Dayjs instance, but something went wrong while adding plugins`,\n        error,\n      );\n    }\n\n    this.isCustomDateTimeParser = !!(options.Moment || options.DateTimeParser);\n    const translationsForLanguage = finalOptions.translationsForLanguage;\n\n    if (translationsForLanguage) {\n      this.translations[this.currentLanguage] = {\n        [defaultNS]: translationsForLanguage,\n      };\n    }\n\n    // If translations don't exist for given language, then set it as empty object.\n    if (!this.translations[this.currentLanguage]) {\n      this.translations[this.currentLanguage] = {\n        [defaultNS]: {},\n      };\n    }\n\n    this.i18nextConfig = {\n      nsSeparator: false,\n      keySeparator: false,\n      fallbackLng: false,\n      debug: finalOptions.debug,\n      lng: this.currentLanguage,\n      interpolation: { escapeValue: false },\n\n      parseMissingKeyHandler: (key) => {\n        this.logger(`Streami18n: Missing translation for key: ${key}`);\n\n        return key;\n      },\n    };\n\n    this.validateCurrentLanguage(this.currentLanguage);\n\n    const dayjsLocaleConfigForLanguage =\n      finalOptions.dayjsLocaleConfigForLanguage;\n\n    if (dayjsLocaleConfigForLanguage) {\n      this.addOrUpdateLocale(this.currentLanguage, {\n        ...dayjsLocaleConfigForLanguage,\n      });\n    } else if (!this.localeExists(this.currentLanguage)) {\n      this.logger(\n        `Streami18n: Streami18n(...) - Locale config for ${this.currentLanguage} does not exist in momentjs.` +\n          `Please import the locale file using \"import 'moment/locale/${this.currentLanguage}';\" in your app or ` +\n          `register the locale config with Streami18n using registerTranslation(language, translation, customDayjsLocale)`,\n      );\n    }\n\n    this.tDateTimeParser = (timestamp) => {\n      if (\n        finalOptions.disableDateTimeTranslations ||\n        !this.localeExists(this.currentLanguage)\n      ) {\n        return this.DateTimeParser(timestamp).locale(defaultLng);\n      }\n      return this.DateTimeParser(timestamp).locale(this.currentLanguage);\n    };\n  }\n\n  /**\n   * Initializes the i18next instance with configuration (which enables natural language as default keys)\n   */\n  async init() {\n    this.validateCurrentLanguage();\n    try {\n      this.t = await this.i18nInstance.init({\n        ...this.i18nextConfig,\n        resources: this.translations,\n        lng: this.currentLanguage,\n      });\n      this.initialized = true;\n\n      return {\n        t: this.t,\n        tDateTimeParser: this.tDateTimeParser,\n      };\n    } catch (e) {\n      this.logger(`Something went wrong with init:`, e);\n    }\n  }\n\n  localeExists = (language) => {\n    if (this.isCustomDateTimeParser) return true;\n\n    return Object.keys(Dayjs.Ls).indexOf(language) > -1;\n  };\n\n  validateCurrentLanguage = () => {\n    const availableLanguages = Object.keys(this.translations);\n    if (availableLanguages.indexOf(this.currentLanguage) === -1) {\n      this.logger(\n        `Streami18n: '${this.currentLanguage}' language is not registered.` +\n          ` Please make sure to call streami18n.registerTranslation('${this.currentLanguage}', {...}) or ` +\n          `use one the built-in supported languages - ${this.getAvailableLanguages()}`,\n      );\n\n      this.currentLanguage = defaultLng;\n    }\n  };\n\n  /** Returns an instance of i18next used within this class instance */\n  geti18Instance = () => this.i18nInstance;\n\n  /** Returns list of available languages. */\n  getAvailableLanguages = () => Object.keys(this.translations);\n\n  /** Returns all the translation dictionary for all inbuilt-languages */\n  getTranslations = () => this.translations;\n\n  /**\n   * Returns current version translator function.\n   */\n  async getTranslators() {\n    if (!this.initialized) {\n      if (this.dayjsLocales[this.currentLanguage]) {\n        this.addOrUpdateLocale(\n          this.currentLanguage,\n          this.dayjsLocales[this.currentLanguage],\n        );\n      }\n      return await this.init();\n    } else {\n      return {\n        t: this.t,\n        tDateTimeParser: this.tDateTimeParser,\n      };\n    }\n  }\n\n  /**\n   * Register translation\n   *\n   * @param {*} language\n   * @param {*} translation\n   * @param {*} customDayjsLocale\n   */\n  registerTranslation(language, translation, customDayjsLocale) {\n    if (!translation) {\n      this.logger(\n        `Streami18n: registerTranslation(language, translation, customDayjsLocale) called without translation`,\n      );\n      return;\n    }\n\n    if (!this.translations[language]) {\n      this.translations[language] = { [defaultNS]: translation };\n    } else {\n      this.translations[language][defaultNS] = translation;\n    }\n\n    if (customDayjsLocale) {\n      this.dayjsLocales[language] = { ...customDayjsLocale };\n    } else if (!this.localeExists(language)) {\n      this.logger(\n        `Streami18n: registerTranslation(language, translation, customDayjsLocale) - ` +\n          `Locale config for ${language} does not exist in Dayjs.` +\n          `Please import the locale file using \"import 'dayjs/locale/${language}';\" in your app or ` +\n          `register the locale config with Streami18n using registerTranslation(language, translation, customDayjsLocale)`,\n      );\n    }\n\n    if (this.initialized) {\n      this.i18nInstance.addResources(language, defaultNS, translation);\n    }\n  }\n\n  addOrUpdateLocale(key, config) {\n    if (this.localeExists(key)) {\n      Dayjs.updateLocale(key, { ...config });\n    } else {\n      // Merging the custom locale config with en config, so missing keys can default to english.\n      Dayjs.locale({ name: key, ...{ ...en_locale, ...config } }, null, true);\n    }\n  }\n\n  /**\n   * Changes the language.\n   * @param {*} language\n   */\n  async setLanguage(language) {\n    this.currentLanguage = language;\n\n    if (!this.initialized) return;\n\n    try {\n      const t = await this.i18nInstance.changeLanguage(language);\n      if (this.dayjsLocales[language]) {\n        this.addOrUpdateLocale(\n          this.currentLanguage,\n          this.dayjsLocales[this.currentLanguage],\n        );\n      }\n\n      this.setLanguageCallback(t);\n      return t;\n    } catch (e) {\n      this.logger(`Failed to set language:`, e);\n    }\n  }\n\n  /**\n   *\n   * @param {*} callback\n   */\n  registerSetLanguageCallback(callback) {\n    this.setLanguageCallback = callback;\n  }\n}\n","import { MentionsItem } from '../components/MentionsItem';\nimport { CommandsItem } from '../components/CommandsItem';\nimport debounce from 'lodash/debounce';\n\nexport { renderText } from './renderText';\nexport { renderReactions } from './renderReactions';\n\nexport { Streami18n } from './Streami18n';\nexport const emojiData = [\n  {\n    id: 'like',\n    icon: '👍',\n  },\n  {\n    id: 'love',\n    icon: '❤️️',\n  },\n  {\n    id: 'haha',\n    icon: '😂',\n  },\n  {\n    id: 'wow',\n    icon: '😮',\n  },\n  {\n    id: 'sad',\n    icon: '😔',\n  },\n  {\n    id: 'angry',\n    icon: '😠',\n  },\n];\n\nexport const capitalize = (s) => {\n  if (typeof s !== 'string') return '';\n  return s.charAt(0).toUpperCase() + s.slice(1);\n};\n\nexport const FileState = Object.freeze({\n  NO_FILE: 'no_file',\n  UPLOADING: 'uploading',\n  UPLOADED: 'uploaded',\n  UPLOAD_FAILED: 'upload_failed',\n});\n\nexport const ProgressIndicatorTypes = Object.freeze({\n  IN_PROGRESS: 'in_progress',\n  RETRY: 'retry',\n});\n\nconst getCommands = (channel) => {\n  const config = channel.getConfig();\n\n  if (!config) return [];\n\n  const allCommands = config.commands;\n  return allCommands;\n};\n\nconst getMembers = (channel) => {\n  const result = [];\n  const members = channel.state.members;\n  if (members && Object.values(members).length) {\n    Object.values(members).forEach((member) => result.push(member.user));\n  }\n\n  return result;\n};\n\nconst getWatchers = (channel) => {\n  const result = [];\n  const watchers = channel.state.watchers;\n  if (watchers && Object.values(watchers).length) {\n    result.push(...Object.values(watchers));\n  }\n\n  return result;\n};\n\nconst getMembersAndWatchers = (channel) => {\n  const users = [...getMembers(channel), ...getWatchers(channel)];\n\n  // make sure we don't list users twice\n  const uniqueUsers = {};\n  for (const user of users) {\n    if (user !== undefined && !uniqueUsers[user.id]) {\n      uniqueUsers[user.id] = user;\n    }\n  }\n  const usersArray = Object.values(uniqueUsers);\n\n  return usersArray;\n};\n\nconst queryMembers = async (channel, query, onReady) => {\n  const response = await channel.queryMembers({\n    name: { $autocomplete: query },\n  });\n\n  const users = response.members.map((m) => m.user);\n  onReady && onReady(users);\n};\n\nconst queryMembersDebounced = debounce(queryMembers, 200, {\n  trailing: true,\n  leading: false,\n});\n\n// ACI = AutoCompleteInput\n//\n// dataProvider accepts `onReady` function, which will executed once the data is ready.\n// Another approach would have been to simply return the data from dataProvider and let the\n// component await for it and then execute the required logic. We are going for callback instead\n// of async-await since we have debounce function in dataProvider. Which will delay the execution\n// of api call on trailing end of debounce (lets call it a1) but will return with result of\n// previous call without waiting for a1. So in this case, we want to execute onReady, when trailing\n// end of debounce executes.\nexport const ACITriggerSettings = ({\n  channel,\n  onMentionSelectItem,\n  t = (msg) => msg,\n}) => ({\n  '@': {\n    dataProvider: (query, text, onReady) => {\n      const members = channel.state.members;\n      // By default, we return maximum 100 members via queryChannels api call.\n      // Thus it is safe to assume, that if number of members in channel.state is < 100,\n      // then all the members are already available on client side and we don't need to\n      // make any api call to queryMembers endpoint.\n      if (!query || Object.values(members).length < 100) {\n        const users = getMembersAndWatchers(channel);\n\n        const matchingUsers = users.filter((user) => {\n          if (!query) return true;\n          if (\n            user.name !== undefined &&\n            user.name.toLowerCase().indexOf(query.toLowerCase()) !== -1\n          ) {\n            return true;\n          } else if (\n            user.id.toLowerCase().indexOf(query.toLowerCase()) !== -1\n          ) {\n            return true;\n          } else {\n            return false;\n          }\n        });\n        const data = matchingUsers.slice(0, 10);\n\n        onReady && onReady(data, query);\n\n        return data;\n      }\n\n      return queryMembersDebounced(channel, query, (data) => {\n        onReady(data, query);\n      });\n    },\n    component: MentionsItem,\n    title: t('Searching for people'),\n    output: (entity) => ({\n      key: entity.id,\n      text: `@${entity.name || entity.id}`,\n      caretPosition: 'next',\n    }),\n    callback: (item) => {\n      onMentionSelectItem(item);\n    },\n  },\n  '/': {\n    dataProvider: (q, text, onReady) => {\n      if (text.indexOf('/') !== 0) {\n        return [];\n      }\n\n      const selectedCommands = getCommands(channel).filter(\n        (c) => c.name.indexOf(q) !== -1,\n      );\n\n      // sort alphabetically unless the you're matching the first char\n      selectedCommands.sort((a, b) => {\n        let nameA = a.name.toLowerCase();\n        let nameB = b.name.toLowerCase();\n        if (nameA.indexOf(q) === 0) {\n          nameA = `0${nameA}`;\n        }\n        if (nameB.indexOf(q) === 0) {\n          nameB = `0${nameB}`;\n        }\n        if (nameA < nameB) {\n          return -1;\n        }\n        if (nameA > nameB) {\n          return 1;\n        }\n\n        return 0;\n      });\n\n      const result = selectedCommands.slice(0, 10);\n\n      onReady && onReady(result, q);\n\n      return result;\n    },\n    title: t('Commands'),\n    component: CommandsItem,\n    output: (entity) => ({\n      key: entity.id,\n      text: `/${entity.name}`,\n      caretPosition: 'next',\n    }),\n  },\n});\n\nexport const MESSAGE_ACTIONS = {\n  edit: 'edit',\n  delete: 'delete',\n  reactions: 'reactions',\n  reply: 'reply',\n};\n\nexport const makeImageCompatibleUrl = (url) => {\n  if (!url) return url;\n\n  let newUrl = url;\n  if (url.indexOf('//') === 0) newUrl = 'https:' + url;\n\n  return newUrl.trim();\n};\n","import React from 'react';\nimport { View, Linking } from 'react-native';\nimport PropTypes from 'prop-types';\nimport giphyLogo from '../assets/Poweredby_100px-White_VertText.png';\nimport { themed } from '../styles/theme';\nimport { withMessageContentContext } from '../context';\n\nimport styled from '@stream-io/styled-components';\nimport { makeImageCompatibleUrl } from '../utils';\n\nconst Container = styled.TouchableOpacity`\n  border-top-left-radius: 16;\n  border-top-right-radius: 16;\n  overflow: hidden;\n  border-bottom-left-radius: ${({ alignment }) =>\n    alignment === 'right' ? 16 : 2};\n  border-bottom-right-radius: ${({ alignment }) =>\n    alignment === 'left' ? 16 : 2};\n  background-color: ${({ theme }) => theme.colors.light};\n  width: 250;\n  ${({ theme }) => theme.message.card.container.css}\n`;\n\nconst CardCover = styled.Image`\n  display: flex;\n  height: 150;\n  ${({ theme }) => theme.message.card.cover.css}\n`;\n\nconst CardFooter = styled.View`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 10px;\n  ${({ theme }) => theme.message.card.footer.css}\n`;\n\nconst FooterTitle = styled.Text`\n  ${({ theme }) => theme.message.card.footer.title.css}\n`;\nconst FooterDescription = styled.Text`\n  ${({ theme }) => theme.message.card.footer.description.css}\n`;\nconst FooterLink = styled.Text`\n  ${({ theme }) => theme.message.card.footer.link.css}\n`;\nconst FooterLogo = styled.Image`\n  ${({ theme }) => theme.message.card.footer.logo.css}\n`;\n/**\n * UI component for card in attachments.\n *\n * @example ./docs/Card.md\n * @extends PureComponent\n */\nexport const Card = withMessageContentContext(\n  themed(\n    class Card extends React.Component {\n      static themePath = 'card';\n      static propTypes = {\n        /** Title retured by the OG scraper */\n        title: PropTypes.string,\n        /** Link retured by the OG scraper */\n        title_link: PropTypes.string,\n        /** The scraped url, used as a fallback if the OG-data doesnt include a link */\n        og_scrape_url: PropTypes.string,\n        /** The url of the full sized image */\n        image_url: PropTypes.string,\n        /** The url for thumbnail sized image*/\n        thumb_url: PropTypes.string,\n        /** Description retured by the OG scraper */\n        text: PropTypes.string,\n        type: PropTypes.string,\n        alignment: PropTypes.string,\n        onLongPress: PropTypes.func,\n        /**\n         * Provide any additional props for child `TouchableOpacity`.\n         * Please check docs for TouchableOpacity for supported props - https://reactnative.dev/docs/touchableopacity#props\n         */\n        additionalTouchableProps: PropTypes.object,\n        Header: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n        Cover: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n        Footer: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      };\n\n      constructor(props) {\n        super(props);\n      }\n\n      trimUrl = (url) => {\n        let trimmedUrl;\n        if (url !== undefined && url !== null) {\n          trimmedUrl = url\n            .replace(/^(?:https?:\\/\\/)?(?:www\\.)?/i, '')\n            .split('/')[0];\n        }\n        return trimmedUrl;\n      };\n\n      _goToURL = (url) => {\n        Linking.canOpenURL(url).then((supported) => {\n          if (supported) {\n            Linking.openURL(url);\n          } else {\n            console.log(\"Don't know how to open URI: \" + url);\n          }\n        });\n      };\n\n      render() {\n        const {\n          image_url,\n          thumb_url,\n          title,\n          text,\n          title_link,\n          og_scrape_url,\n          type,\n          alignment,\n          onLongPress,\n          additionalTouchableProps,\n          Header,\n          Cover,\n          Footer,\n        } = this.props;\n        const uri = makeImageCompatibleUrl(image_url || thumb_url);\n        return (\n          <Container\n            onPress={() => {\n              this._goToURL(og_scrape_url || image_url || thumb_url);\n            }}\n            onLongPress={onLongPress}\n            alignment={alignment}\n            {...additionalTouchableProps}\n          >\n            {Header && <Header {...this.props} />}\n            {Cover && <Cover {...this.props} />}\n            {uri && !Cover && <CardCover source={{ uri }} resizeMode=\"cover\" />}\n            {Footer ? (\n              <Footer {...this.props} />\n            ) : (\n              <CardFooter>\n                <View\n                  style={{\n                    display: 'flex',\n                    flexDirection: 'column',\n                    backgroundColor: 'transparent',\n                  }}\n                >\n                  {title && <FooterTitle>{title}</FooterTitle>}\n                  {text && <FooterDescription>{text}</FooterDescription>}\n                  <FooterLink>\n                    {this.trimUrl(title_link || og_scrape_url)}\n                  </FooterLink>\n                </View>\n                {type === 'giphy' && <FooterLogo source={giphyLogo} />}\n              </CardFooter>\n            )}\n          </Container>\n        );\n      }\n    },\n  ),\n);\n","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\nimport PropTypes from 'prop-types';\nimport { withTranslationContext } from '../context';\n\nconst Container = styled.View`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  margin-top: 20;\n  margin-bottom: 20;\n  ${({ theme }) => theme.messageList.dateSeparator.container.css}\n`;\n\nconst Line = styled.View`\n  flex: 1;\n  height: 0.5;\n  background-color: ${({ theme }) => theme.colors.light};\n  ${({ theme }) => theme.messageList.dateSeparator.line.css}\n`;\n\nconst DateText = styled.Text`\n  margin-left: 5;\n  margin-right: 5;\n  text-align: center;\n  text-transform: uppercase;\n  font-size: 10;\n  opacity: 0.8;\n  ${({ theme }) => theme.messageList.dateSeparator.dateText.css}\n`;\n\nconst Date = styled.Text`\n  font-weight: 700;\n  font-size: 10;\n  text-transform: uppercase;\n  opacity: 0.8;\n  ${({ theme }) => theme.messageList.dateSeparator.date.css}\n`;\n\n/**\n * @extends PureComponent\n * @example ./docs/DateSeparator.md\n */\n\nclass DateSeparator extends React.PureComponent {\n  static propTypes = {\n    message: PropTypes.object.isRequired,\n    /**\n     * Formatter function for date object.\n     *\n     * @param date Date object of message\n     * @returns string\n     */\n    formatDate: PropTypes.func,\n  };\n\n  static themePath = 'messageList.dateSeparator';\n\n  render() {\n    const { message, formatDate, tDateTimeParser } = this.props;\n\n    return (\n      <Container>\n        <Line />\n        <DateText>\n          {formatDate ? (\n            formatDate(message.date)\n          ) : (\n            <React.Fragment>\n              <Date>{tDateTimeParser(message.date).calendar()}</Date>\n            </React.Fragment>\n          )}\n        </DateText>\n        <Line />\n      </Container>\n    );\n  }\n}\n\nconst DateSeparatorWithContext = withTranslationContext(themed(DateSeparator));\nexport { DateSeparatorWithContext as DateSeparator };\n","import React from 'react';\nimport { Text } from 'react-native';\n\nexport const EmptyStateIndicator = ({ listType }) => {\n  let Indicator;\n  switch (listType) {\n    case 'channel':\n      Indicator = <Text>You have no channels currently</Text>;\n      break;\n    case 'message':\n      Indicator = null;\n      break;\n    default:\n      Indicator = <Text>No items exist</Text>;\n      break;\n  }\n\n  return Indicator;\n};\n","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport { Avatar } from './Avatar';\nimport PropTypes from 'prop-types';\nimport { withTranslationContext } from '../context';\n\nconst Date = styled.Text`\n  font-size: 10;\n  color: rgba(0, 0, 0, 0.5);\n  ${({ theme }) => theme.messageList.eventIndicator.date.css}\n`;\n\nconst MemberUpdateContainer = styled.View`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n  ${({ theme }) => theme.messageList.eventIndicator.memberUpdateContainer.css}\n`;\n\nconst MemberUpdateTextContainer = styled.View`\n  display: flex;\n  flex-direction: column;\n  margin-left: 10px;\n  ${({ theme }) =>\n    theme.messageList.eventIndicator.memberUpdateTextContainer.css}\n`;\n\nconst MemberUpdateText = styled.Text`\n  font-size: 13px;\n  font-style: italic;\n  color: rgba(0, 0, 0, 0.5);\n  ${({ theme }) => theme.messageList.eventIndicator.memberUpdateText.css}\n`;\n\n/**\n * A component to display a message regarding channel notifications such as\n * 'member.added', 'member.removed' etc.\n */\nconst EventIndicator = ({ event, t, tDateTimeParser }) => {\n  if (event.type === 'member.added' || event.type === 'member.removed') {\n    return (\n      <MemberUpdateContainer>\n        <Avatar name={event.user.name} image={event.user.image} />\n        <MemberUpdateTextContainer>\n          <MemberUpdateText>\n            {event.type === 'member.added'\n              ? t('{{ username }} joined the chat', {\n                  username: event.user.name,\n                })\n              : t('{{ username }} was removed from the chat', {\n                  username: event.user.name,\n                })}\n          </MemberUpdateText>\n          <Date>{tDateTimeParser(event.received_at).format('LT')}</Date>\n        </MemberUpdateTextContainer>\n      </MemberUpdateContainer>\n    );\n  }\n\n  return null;\n};\n\nEventIndicator.propTypes = {\n  event: PropTypes.object,\n};\n\nconst EventIndicatorWithContext = withTranslationContext(EventIndicator);\nexport { EventIndicatorWithContext as EventIndicator };\n","const img = require('.//images/PDF.png'); export default img;","const img = require('.//images/DOC.png'); export default img;","const img = require('.//images/PPT.png'); export default img;","const img = require('.//images/XLS.png'); export default img;","const img = require('.//images/TAR.png'); export default img;","import * as React from 'react';\nimport styled from '@stream-io/styled-components';\n\nimport iconPDF from '../images/PDF.png';\nimport iconDOC from '../images/DOC.png';\nimport iconPPT from '../images/PPT.png';\nimport iconXLS from '../images/XLS.png';\nimport iconTAR from '../images/TAR.png';\n\nconst Icon = styled.Image`\n  ${({ theme }) => theme.message.file.icon.css};\n`;\n\n// Partially based on:\n// https://stackoverflow.com/a/4212908/2570866\n\nconst wordMimeTypes = [\n  // Microsoft Word\n  // .doc .dot\n  'application/msword',\n  // .doc .dot\n  'application/msword-template',\n  // .docx\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  // .dotx (no test)\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n  // .docm\n  'application/vnd.ms-word.document.macroEnabled.12',\n  // .dotm (no test)\n  'application/vnd.ms-word.template.macroEnabled.12',\n\n  // LibreOffice/OpenOffice Writer\n  // .odt\n  'application/vnd.oasis.opendocument.text',\n  // .ott\n  'application/vnd.oasis.opendocument.text-template',\n  // .fodt\n  'application/vnd.oasis.opendocument.text-flat-xml',\n  // .uot\n  // NOTE: firefox doesn't know mimetype so maybe ignore\n];\n\nconst excelMimeTypes = [\n  // .csv\n  'text/csv',\n  // TODO: maybe more data files\n\n  // Microsoft Excel\n  // .xls .xlt .xla (no test for .xla)\n  'application/vnd.ms-excel',\n  // .xlsx\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  // .xltx (no test)\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n  // .xlsm\n  'application/vnd.ms-excel.sheet.macroEnabled.12',\n  // .xltm (no test)\n  'application/vnd.ms-excel.template.macroEnabled.12',\n  // .xlam (no test)\n  'application/vnd.ms-excel.addin.macroEnabled.12',\n  // .xlsb (no test)\n  'application/vnd.ms-excel.addin.macroEnabled.12',\n\n  // LibreOffice/OpenOffice Calc\n  // .ods\n  'application/vnd.oasis.opendocument.spreadsheet',\n  // .ots\n  'application/vnd.oasis.opendocument.spreadsheet-template',\n  // .fods\n  'application/vnd.oasis.opendocument.spreadsheet-flat-xml',\n  // .uos\n  // NOTE: firefox doesn't know mimetype so maybe ignore\n];\n\nconst powerpointMimeTypes = [\n  // Microsoft Word\n  // .ppt .pot .pps .ppa (no test for .ppa)\n  'application/vnd.ms-powerpoint',\n  // .pptx\n  'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n  // .potx (no test)\n  'application/vnd.openxmlformats-officedocument.presentationml.template',\n  // .ppsx\n  'application/vnd.openxmlformats-officedocument.presentationml.slideshow',\n  // .ppam\n  'application/vnd.ms-powerpoint.addin.macroEnabled.12',\n  // .pptm\n  'application/vnd.ms-powerpoint.presentation.macroEnabled.12',\n  // .potm\n  'application/vnd.ms-powerpoint.template.macroEnabled.12',\n  // .ppsm\n  'application/vnd.ms-powerpoint.slideshow.macroEnabled.12',\n\n  // LibreOffice/OpenOffice Writer\n  // .odp\n  'application/vnd.oasis.opendocument.presentation',\n  // .otp\n  'application/vnd.oasis.opendocument.presentation-template',\n  // .fodp\n  'application/vnd.oasis.opendocument.presentation-flat-xml',\n  // .uop\n  // NOTE: firefox doesn't know mimetype so maybe ignore\n];\n\nconst archiveFileTypes = [\n  // .zip\n  'application/zip',\n  // .z7\n  'application/x-7z-compressed',\n  // .ar\n  'application/x-archive',\n  // .tar\n  'application/x-tar',\n  // .tar.gz\n  'application/gzip',\n  // .tar.Z\n  'application/x-compress',\n  // .tar.bz2\n  'application/x-bzip',\n  // .tar.lz\n  'application/x-lzip',\n  // .tar.lz4\n  'application/x-lz4',\n  // .tar.lzma\n  'application/x-lzma',\n  // .tar.lzo (no test)\n  'application/x-lzop',\n  // .tar.xz\n  'application/x-xz',\n  // .war\n  'application/x-webarchive',\n  // .rar\n  'application/vnd.rar',\n];\n\nconst codeFileTypes = [\n  // .html .htm\n  'text/html',\n  // .css\n  'text/css',\n  // .js\n  'application/x-javascript',\n  // .json\n  'application/json',\n  // .py\n  'text/x-python',\n  // .go\n  'text/x-go',\n  // .c\n  'text/x-csrc',\n  // .cpp\n  'text/x-c++src',\n  // .rb\n  'application/x-ruby',\n  // .rust\n  'text/rust',\n  // .java\n  'text/x-java',\n  // .php\n  'application/x-php',\n  // .cs\n  'text/x-csharp',\n  // .scala\n  'text/x-scala',\n  // .erl\n  'text/x-erlang',\n  // .sh\n  'application/x-shellscript',\n];\n\nconst mimeTypeToIconMap = {\n  'application/pdf': iconPDF,\n};\n\nfor (const type of wordMimeTypes) {\n  mimeTypeToIconMap[type] = iconDOC;\n}\n\nfor (const type of excelMimeTypes) {\n  mimeTypeToIconMap[type] = iconXLS;\n}\n\nfor (const type of powerpointMimeTypes) {\n  mimeTypeToIconMap[type] = iconPPT;\n}\n\nfor (const type of archiveFileTypes) {\n  mimeTypeToIconMap[type] = iconTAR;\n}\n\nfor (const type of codeFileTypes) {\n  mimeTypeToIconMap[type] = iconDOC;\n}\n\nfunction mimeTypeToIcon(mimeType) {\n  if (mimeType == null) {\n    return iconDOC;\n  }\n\n  const icon = mimeTypeToIconMap[mimeType];\n  if (icon) {\n    return icon;\n  }\n\n  return iconDOC;\n}\n\nexport class FileIcon extends React.Component {\n  render() {\n    const { mimeType, size } = this.props;\n    return (\n      <Icon\n        source={mimeTypeToIcon(mimeType)}\n        style={size ? { height: size, width: size } : {}}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Text, TouchableOpacity } from 'react-native';\n\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\nimport registerCSS from '../css.macro';\n\nconst Container = registerCSS(\n  'message.actions.container',\n  styled.View`\n    flex-direction: row;\n    justify-content: space-between;\n    padding: 5px;\n    ${({ theme }) => theme.message.actions.container.css}\n  `,\n);\n\nconst Button = registerCSS(\n  'message.actions.button',\n  styled(({ buttonStyle, ...rest }) => <TouchableOpacity {...rest} />)`\n    background-color: ${({ theme, buttonStyle }) =>\n      buttonStyle === 'primary'\n        ? theme.message.actions.button.primaryBackgroundColor\n        : theme.message.actions.button.defaultBackgroundColor};\n    border-color: ${({ theme, buttonStyle }) =>\n      buttonStyle === 'primary'\n        ? theme.message.actions.button.primaryBorderColor\n        : theme.message.actions.button.defaultBorderColor};\n    border-width: 1;\n    border-radius: 20;\n    padding-top: 5px;\n    padding-bottom: 5px;\n    padding-left: 10px;\n    padding-right: 10px;\n    ${({ theme }) => theme.message.actions.button.css}\n  `,\n);\n\nconst ButtonText = registerCSS(\n  'message.actions.buttonText',\n  styled(({ buttonStyle, ...rest }) => <Text {...rest} />)`\n    color: ${({ theme, buttonStyle }) =>\n      buttonStyle === 'primary'\n        ? theme.message.actions.buttonText.primaryColor\n        : theme.message.actions.buttonText.defaultColor};\n    ${({ theme }) => theme.message.actions.buttonText.css}\n  `,\n);\n\n/**\n * AttachmentActions - The actions you can take on an attachment.\n * Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands).\n *\n * @example ./docs/AttachmentActions.md\n * @extends PureComponent\n */\nexport const AttachmentActions = themed(\n  class AttachmentActions extends React.PureComponent {\n    static themePath = 'message.actions';\n    static propTypes = {\n      // /** The id of the form input */\n      // id: PropTypes.string.isRequired,\n      /** The text for the form input */\n      text: PropTypes.string,\n      /** A list of actions */\n      actions: PropTypes.array.isRequired,\n      /** The handler to execute after selecting an action */\n      actionHandler: PropTypes.func.isRequired,\n    };\n\n    render() {\n      const { id, actions, actionHandler } = this.props;\n      return (\n        <Container>\n          {actions.map((action) => (\n            <Button\n              key={`${id}-${action.value}`}\n              buttonStyle={action.style}\n              onPress={actionHandler.bind(this, action.name, action.value)}\n            >\n              <ButtonText buttonStyle={action.style}>{action.text}</ButtonText>\n            </Button>\n          ))}\n        </Container>\n      );\n    }\n  },\n);\n","const img = require('.//images/icons/close-round.png'); export default img;","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\nimport { Image } from 'react-native';\nimport closeRound from '../images/icons/close-round.png';\n\nconst Container = styled.View`\n  width: 30;\n  height: 30;\n  border-radius: 3;\n  align-items: center;\n  justify-content: center;\n  background-color: white;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  ${({ theme }) => theme.closeButton.container.css}\n`;\n\nexport const CloseButton = themed(\n  class CloseButton extends React.PureComponent {\n    static themePath = 'closeButton';\n    render() {\n      return (\n        <Container>\n          <Image source={closeRound} />\n        </Container>\n      );\n    }\n  },\n);\n\nCloseButton.propTypes = {};\n","import React from 'react';\nimport { Text, View, Modal, Image, SafeAreaView } from 'react-native';\nimport ImageViewer from 'react-native-image-zoom-viewer';\nimport PropTypes from 'prop-types';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\nimport { withMessageContentContext, withTranslationContext } from '../context';\nimport { makeImageCompatibleUrl } from '../utils';\n\nimport { CloseButton } from './CloseButton';\n\nconst Single = styled.TouchableOpacity`\n  display: flex;\n  height: 200px;\n  width: ${({ theme }) => theme.message.gallery.width};\n  border-top-left-radius: 16;\n  border-top-right-radius: 16;\n  border-bottom-left-radius: ${({ alignment }) =>\n    alignment === 'right' ? 16 : 2};\n  border-bottom-right-radius: ${({ alignment }) =>\n    alignment === 'left' ? 16 : 2};\n  overflow: hidden;\n  ${({ theme }) => theme.message.gallery.single.css}\n`;\n\nconst GalleryContainer = styled.View`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  width: ${({ theme }) => theme.message.gallery.width};\n\n  height: ${({ theme, length }) =>\n    length >= 4\n      ? theme.message.gallery.doubleSize\n      : length === 3\n      ? theme.message.gallery.halfSize\n      : theme.message.gallery.size};\n\n  overflow: hidden;\n  border-radius: 16;\n  border-bottom-right-radius: ${({ alignment }) =>\n    alignment === 'left' ? 16 : 2};\n  border-bottom-left-radius: ${({ alignment }) =>\n    alignment === 'right' ? 16 : 2};\n  ${({ theme }) => theme.message.gallery.galleryContainer.css}\n`;\n\nconst ImageContainer = styled.TouchableOpacity`\n  display: flex;\n  height: ${({ theme, length }) =>\n    length !== 3 ? theme.message.gallery.size : theme.message.gallery.halfSize};\n  width: ${({ theme, length }) =>\n    length !== 3 ? theme.message.gallery.size : theme.message.gallery.halfSize};\n  ${({ theme }) => theme.message.gallery.imageContainer.css}\n`;\n/**\n * UI component for card in attachments.\n *\n * @example ./docs/Gallery.md\n */\n\nclass Gallery extends React.PureComponent {\n  static themePath = 'message.gallery';\n  static propTypes = {\n    /** The images to render */\n    images: PropTypes.arrayOf(\n      PropTypes.shape({\n        image_url: PropTypes.string,\n        thumb_url: PropTypes.string,\n      }),\n    ),\n    onLongPress: PropTypes.func,\n    /**\n     * Provide any additional props for child `TouchableOpacity`.\n     * Please check docs for TouchableOpacity for supported props - https://reactnative.dev/docs/touchableopacity#props\n     */\n    additionalTouchableProps: PropTypes.object,\n    alignment: PropTypes.string,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      viewerModalOpen: false,\n      viewerModalImageIndex: 0,\n    };\n  }\n\n  render() {\n    const { t, additionalTouchableProps } = this.props;\n    if (!this.props.images || this.props.images.length === 0) return null;\n\n    const images = [...this.props.images].map((i) => ({\n      url: makeImageCompatibleUrl(i.image_url || i.thumb_url),\n    }));\n\n    if (images.length === 1) {\n      return (\n        <React.Fragment>\n          <Single\n            onPress={() => {\n              this.setState({ viewerModalOpen: true });\n            }}\n            onLongPress={() => {\n              this.props.onLongPress();\n            }}\n            alignment={this.props.alignment}\n            {...additionalTouchableProps}\n          >\n            <Image\n              style={{\n                width: 100 + '%',\n                height: 100 + '%',\n              }}\n              resizeMode=\"cover\"\n              source={{ uri: images[0].url }}\n            />\n          </Single>\n          <Modal\n            visible={this.state.viewerModalOpen}\n            transparent={true}\n            onRequestClose={() => {\n              this.setState({ viewerModalOpen: false });\n            }}\n          >\n            <SafeAreaView style={{ flex: 1, backgroundColor: 'transparent' }}>\n              <ImageViewer\n                imageUrls={images}\n                // TODO: We don't have 'save image' functionality.\n                // Until we do, lets disable this feature. saveToLocalByLongPress prop basically\n                // opens up popup menu to with an option \"Save to the album\", which basically does nothing.\n                saveToLocalByLongPress={false}\n                onCancel={() => {\n                  this.setState({ viewerModalOpen: false });\n                }}\n                enableSwipeDown\n                renderHeader={() => (\n                  <GalleryHeader\n                    handleDismiss={() => {\n                      this.setState({ viewerModalOpen: false });\n                    }}\n                  />\n                )}\n              />\n            </SafeAreaView>\n          </Modal>\n        </React.Fragment>\n      );\n    }\n\n    return (\n      <React.Fragment>\n        <GalleryContainer\n          length={images.length}\n          alignment={this.props.alignment}\n        >\n          {images.slice(0, 4).map((image, i) => (\n            <ImageContainer\n              key={`gallery-item-${i}`}\n              length={images.length}\n              activeOpacity={0.8}\n              onPress={() => {\n                this.setState({\n                  viewerModalOpen: true,\n                  viewerModalImageIndex: i,\n                });\n              }}\n              onLongPress={this.props.onLongPress}\n              {...additionalTouchableProps}\n            >\n              {i === 3 && images.length > 4 ? (\n                <View\n                  style={{\n                    width: '100%',\n                    height: '100%',\n                  }}\n                >\n                  <Image\n                    style={{\n                      width: 100 + '%',\n                      height: 100 + '%',\n                    }}\n                    resizeMode=\"cover\"\n                    source={{ uri: images[3].url }}\n                  />\n                  <View\n                    style={{\n                      position: 'absolute',\n                      height: '100%',\n                      width: '100%',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      backgroundColor: 'rgba(0,0,0,0.69)',\n                    }}\n                  >\n                    <Text\n                      style={{\n                        color: 'white',\n                        fontWeight: '700',\n                        fontSize: 22,\n                      }}\n                    >\n                      {' '}\n                      +{' '}\n                      {t('{{ imageCount }} more', {\n                        imageCount: images.length - 3,\n                      })}\n                    </Text>\n                  </View>\n                </View>\n              ) : (\n                <Image\n                  style={{\n                    width: 100 + '%',\n                    height: 100 + '%',\n                  }}\n                  resizeMode=\"cover\"\n                  source={{ uri: image.url }}\n                />\n              )}\n            </ImageContainer>\n          ))}\n        </GalleryContainer>\n        <Modal\n          onRequestClose={() => {\n            this.setState({ viewerModalOpen: false });\n          }}\n          visible={this.state.viewerModalOpen}\n          transparent={true}\n        >\n          <SafeAreaView style={{ flex: 1, backgroundColor: 'transparent' }}>\n            <ImageViewer\n              imageUrls={images}\n              // TODO: We don't have 'save image' functionality.\n              // Until we do, lets disable this feature. saveToLocalByLongPress prop basically\n              // opens up popup menu to with an option \"Save to the album\", which basically does nothing.\n              saveToLocalByLongPress={false}\n              onCancel={() => {\n                this.setState({ viewerModalOpen: false });\n              }}\n              index={this.state.viewerModalImageIndex}\n              enableSwipeDown\n              renderHeader={() => (\n                <GalleryHeader\n                  handleDismiss={() => {\n                    this.setState({ viewerModalOpen: false });\n                  }}\n                />\n              )}\n            />\n          </SafeAreaView>\n        </Modal>\n      </React.Fragment>\n    );\n  }\n}\n\nconst HeaderContainer = styled.View`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  position: absolute;\n  width: 100%;\n  z-index: 1000;\n  ${({ theme }) => theme.message.gallery.header.container.css}\n`;\n\nconst HeaderButton = styled.TouchableOpacity`\n  width: 30;\n  height: 30;\n  margin-right: 20;\n  margin-top: 20;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 20;\n  ${({ theme }) => theme.message.gallery.header.button.css}\n`;\n\nconst GalleryHeader = ({ handleDismiss }) => (\n  <HeaderContainer>\n    <HeaderButton onPress={handleDismiss}>\n      <CloseButton />\n    </HeaderButton>\n  </HeaderContainer>\n);\n\nconst GalleyWithContext = withTranslationContext(\n  withMessageContentContext(themed(Gallery)),\n);\n\nexport { GalleyWithContext as Gallery };\n","import React from 'react';\nimport { TouchableOpacity, Linking } from 'react-native';\nimport PropTypes from 'prop-types';\n\nimport styled from '@stream-io/styled-components';\n\nimport { AttachmentActions } from './AttachmentActions';\nimport { withMessageContentContext } from '../context';\n\nconst FileContainer = styled.View`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  background-color: #ebebeb;\n  padding: 10px;\n  border-radius: ${({ groupStyle }) => {\n    if (groupStyle === 'middle' || groupStyle === 'bottom') return 0;\n\n    return 16;\n  }};\n  border-bottom-left-radius: ${({ alignment, groupStyle }) => {\n    if (groupStyle === 'top' || groupStyle === 'middle') return 0;\n\n    return alignment === 'right' ? 16 : 2;\n  }};\n  border-bottom-right-radius: ${({ alignment, groupStyle }) => {\n    if (groupStyle === 'top' || groupStyle === 'middle') return 0;\n\n    return alignment === 'left' ? 16 : 2;\n  }};\n  ${({ theme }) => theme.message.file.container.css}\n`;\n\nconst FileDetails = styled.View`\n  display: flex;\n  flex-direction: column;\n  padding-left: 10px;\n  ${({ theme }) => theme.message.file.details.css}\n`;\n\nconst FileTitle = styled.Text`\n  font-weight: 700;\n  ${({ theme }) => theme.message.file.title.css}\n`;\n\nconst FileSize = styled.Text`\n  ${({ theme }) => theme.message.file.size.css}\n`;\n\nconst goToURL = (url) => {\n  Linking.canOpenURL(url).then((supported) => {\n    if (supported) {\n      Linking.openURL(url);\n    } else {\n      console.log(\"Don't know how to open URI: \" + url);\n    }\n  });\n};\n\nexport const FileAttachment = withMessageContentContext(\n  ({\n    attachment,\n    actionHandler,\n    AttachmentFileIcon,\n    onLongPress,\n    alignment,\n    groupStyle,\n    additionalTouchableProps,\n  }) => (\n    <TouchableOpacity\n      onPress={() => {\n        goToURL(attachment.asset_url);\n      }}\n      onLongPress={onLongPress}\n      {...additionalTouchableProps}\n    >\n      <FileContainer alignment={alignment} groupStyle={groupStyle}>\n        <AttachmentFileIcon\n          filename={attachment.title}\n          mimeType={attachment.mime_type}\n        />\n        <FileDetails>\n          <FileTitle ellipsizeMode=\"tail\" numberOfLines={2}>\n            {attachment.title}\n          </FileTitle>\n          <FileSize>{attachment.file_size} KB</FileSize>\n        </FileDetails>\n      </FileContainer>\n      {attachment.actions && attachment.actions.length > 0 && (\n        <AttachmentActions\n          key={'key-actions-' + attachment.id}\n          {...attachment}\n          actionHandler={actionHandler}\n        />\n      )}\n    </TouchableOpacity>\n  ),\n);\n\nFileAttachment.propTypes = {\n  /** The attachment to render */\n  attachment: PropTypes.object.isRequired,\n  /**\n   * Position of message. 'right' | 'left'\n   * 'right' message belongs with current user while 'left' message belonds to other users.\n   * */\n  alignment: PropTypes.string,\n  /** Handler for actions. Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands). */\n  actionHandler: PropTypes.func,\n  /**\n   * Position of message in group - top, bottom, middle, single.\n   *\n   * Message group is a group of consecutive messages from same user. groupStyles can be used to style message as per their position in message group\n   * e.g., user avatar (to which message belongs to) is only showed for last (bottom) message in group.\n   */\n  groupStyle: PropTypes.oneOf(['single', 'top', 'middle', 'bottom']),\n  /** Handler for long press event on attachment */\n  onLongPress: PropTypes.func,\n  /**\n   * Provide any additional props for child `TouchableOpacity`.\n   * Please check docs for TouchableOpacity for supported props - https://reactnative.dev/docs/touchableopacity#props\n   */\n  additionalTouchableProps: PropTypes.object,\n  /**\n   * Custom UI component for attachment icon for type 'file' attachment.\n   * Defaults to and accepts same props as: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileIcon.js\n   */\n  AttachmentFileIcon: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.elementType,\n  ]),\n  AttachmentActions: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.elementType,\n  ]),\n};\n","import React from 'react';\nimport { View } from 'react-native';\n\nimport { themed } from '../styles/theme';\n\nimport PropTypes from 'prop-types';\nimport { Card } from './Card';\nimport { FileIcon } from './FileIcon';\nimport { AttachmentActions } from './AttachmentActions';\nimport { Gallery } from './Gallery';\n\nimport { withMessageContentContext } from '../context';\nimport { FileAttachment } from './FileAttachment';\n\n/**\n * Attachment - The message attachment\n *\n * @example ./docs/Attachment.md\n * @extends PureComponent\n */\nexport const Attachment = withMessageContentContext(\n  themed(\n    class Attachment extends React.PureComponent {\n      static themePath = 'attachment';\n      static propTypes = {\n        /** The attachment to render */\n        attachment: PropTypes.object.isRequired,\n        /**\n         * Position of message. 'right' | 'left'\n         * 'right' message belongs with current user while 'left' message belonds to other users.\n         * */\n        alignment: PropTypes.string,\n        /** Handler for actions. Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands). */\n        actionHandler: PropTypes.func,\n        /**\n         * Position of message in group - top, bottom, middle, single.\n         *\n         * Message group is a group of consecutive messages from same user. groupStyles can be used to style message as per their position in message group\n         * e.g., user avatar (to which message belongs to) is only showed for last (bottom) message in group.\n         */\n        groupStyle: PropTypes.oneOf(['single', 'top', 'middle', 'bottom']),\n        /** Handler for long press event on attachment */\n        onLongPress: PropTypes.func,\n        /**\n         * Provide any additional props for child `TouchableOpacity`.\n         * Please check docs for TouchableOpacity for supported props - https://reactnative.dev/docs/touchableopacity#props\n         */\n        additionalTouchableProps: PropTypes.object,\n        /**\n         * Custom UI component to display enriched url preview.\n         * Defaults to https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/Card.js\n         */\n        UrlPreview: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n        /**\n         * Custom UI component to display Giphy image.\n         * Defaults to https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/Card.js\n         */\n        Giphy: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n        /**\n         * Custom UI component to display group of File type attachments or multiple file attachments (in single message).\n         * Defaults to https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileAttachmentGroup.js\n         */\n        FileAttachmentGroup: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n        /**\n         * Custom UI component to display File type attachment.\n         * Defaults to https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileAttachment.js\n         */\n        FileAttachment: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n        /**\n         * Custom UI component for attachment icon for type 'file' attachment.\n         * Defaults to: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileIcon.js\n         */\n        AttachmentFileIcon: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n        /**\n         * Custom UI component to display image attachments.\n         * Defaults to https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/Gallery.js\n         */\n        Gallery: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n        /**\n         * Custom UI component to display generic media type e.g. giphy, url preview etc\n         * Defaults to https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/Card.js\n         */\n        Card: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n        /**\n         * Custom UI component to override default header of Card component.\n         * Accepts the same props as Card component.\n         */\n        CardHeader: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n        /**\n         * Custom UI component to override default cover (between Header and Footer) of Card component.\n         * Accepts the same props as Card component.\n         */\n        CardCover: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n        /**\n         * Custom UI component to override default Footer of Card component.\n         * Accepts the same props as Card component.\n         */\n        CardFooter: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n        /**\n         * Custom UI component to display attachment actions. e.g., send, shuffle, cancel in case of giphy\n         * Defaults to https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/AttachmentActions.js\n         */\n        AttachmentActions: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n      };\n      static defaultProps = {\n        AttachmentFileIcon: FileIcon,\n        AttachmentActions,\n        Gallery,\n        Card,\n        FileAttachment,\n      };\n\n      constructor(props) {\n        super(props);\n      }\n\n      render() {\n        const {\n          attachment: a,\n          Gallery,\n          Card,\n          CardHeader,\n          CardCover,\n          CardFooter,\n          FileAttachment,\n          AttachmentActions,\n        } = this.props;\n        if (!a) {\n          return null;\n        }\n\n        const Giphy = this.props.Giphy ? this.props.Giphy : Card;\n        const UrlPreview = this.props.UrlPreview ? this.props.UrlPreview : Card;\n\n        const cardProps = {\n          Header: CardHeader ? CardHeader : undefined,\n          Cover: CardCover ? CardCover : undefined,\n          Footer: CardFooter ? CardFooter : undefined,\n        };\n        let type;\n\n        if (a.type === 'giphy' || a.type === 'imgur') {\n          type = 'giphy';\n        } else if (\n          (a.title_link || a.og_scrape_url) &&\n          (a.image_url || a.thumb_url)\n        ) {\n          type = 'urlPreview';\n        } else if (a.type === 'image') {\n          type = 'image';\n        } else if (a.type === 'file') {\n          type = 'file';\n        } else if (a.type === 'audio') {\n          type = 'audio';\n        } else if (a.type === 'video') {\n          type = 'media';\n        } else if (a.type === 'product') {\n          type = 'product';\n        } else {\n          type = 'card';\n          // extra = 'no-image';\n        }\n\n        if (type === 'image') {\n          return (\n            <React.Fragment>\n              <Gallery alignment={this.props.alignment} images={[a]} />\n              {a.actions && a.actions.length > 0 && (\n                <AttachmentActions\n                  key={'key-actions-' + a.id}\n                  {...a}\n                  actionHandler={this.props.actionHandler}\n                />\n              )}\n            </React.Fragment>\n          );\n        }\n        if (type === 'giphy') {\n          if (a.actions && a.actions.length) {\n            return (\n              <View>\n                <Giphy {...a} alignment={this.props.alignment} {...cardProps} />\n                {a.actions && a.actions.length > 0 && (\n                  <AttachmentActions\n                    key={'key-actions-' + a.id}\n                    {...a}\n                    actionHandler={this.props.actionHandler}\n                  />\n                )}\n              </View>\n            );\n          } else {\n            return (\n              <Giphy alignment={this.props.alignment} {...a} {...cardProps} />\n            );\n          }\n        }\n        if (type === 'card') {\n          if (a.actions && a.actions.length) {\n            return (\n              <View>\n                <Card {...a} alignment={this.props.alignment} {...cardProps} />\n                {a.actions && a.actions.length > 0 && (\n                  <AttachmentActions\n                    key={'key-actions-' + a.id}\n                    {...a}\n                    actionHandler={this.props.actionHandler}\n                  />\n                )}\n              </View>\n            );\n          } else {\n            return <Card alignment={this.props.alignment} {...a} />;\n          }\n        }\n\n        if (type === 'urlPreview') {\n          return (\n            <UrlPreview\n              alignment={this.props.alignment}\n              {...a}\n              {...cardProps}\n            />\n          );\n        }\n\n        if (type === 'file') {\n          const {\n            AttachmentFileIcon,\n            actionHandler,\n            onLongPress,\n            alignment,\n            groupStyle,\n          } = this.props;\n\n          return (\n            <FileAttachment\n              attachment={a}\n              actionHandler={actionHandler}\n              AttachmentFileIcon={AttachmentFileIcon}\n              onLongPress={onLongPress}\n              alignment={alignment}\n              groupStyle={groupStyle}\n            />\n          );\n        }\n\n        if (type === 'media' && a.asset_url && a.image_url) {\n          return (\n            // TODO: Put in video component\n            <Card alignment={this.props.alignment} {...a} {...cardProps} />\n          );\n        }\n\n        return false;\n      }\n    },\n  ),\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from '@stream-io/styled-components';\nimport { Attachment } from './Attachment';\n\nconst Container = styled.View`\n  display: flex;\n  align-items: stretch;\n`;\n\nexport class FileAttachmentGroup extends React.PureComponent {\n  static propTypes = {\n    messageId: PropTypes.string,\n    files: PropTypes.array,\n    handleAction: PropTypes.func,\n    alignment: PropTypes.oneOf(['right', 'left']),\n    /**\n     * Custom UI component to display File type attachment.\n     * Deaults to https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileAttachment.js\n     */\n    FileAttachment: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    /**\n     * Custom UI component for attachment icon for type 'file' attachment.\n     * Defaults to: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileIcon.js\n     */\n    AttachmentFileIcon: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {\n      messageId,\n      files,\n      handleAction,\n      alignment,\n      FileAttachment,\n      AttachmentFileIcon,\n      AttachmentActions,\n    } = this.props;\n\n    return (\n      <Container>\n        {files &&\n          files.map((file, index, files) => {\n            let groupStyle;\n\n            if (files.length === 1) groupStyle = 'single';\n            else if (index === 0) {\n              groupStyle = 'top';\n            } else if (index < files.length - 1 && index > 0) {\n              groupStyle = 'middle';\n            } else if (index === files.length - 1) groupStyle = 'bottom';\n\n            return (\n              <Attachment\n                key={`${messageId}-${index}`}\n                attachment={file}\n                actionHandler={handleAction}\n                alignment={alignment}\n                groupStyle={groupStyle}\n                AttachmentFileIcon={AttachmentFileIcon}\n                FileAttachment={FileAttachment}\n                AttachmentActions={AttachmentActions}\n              />\n            );\n          })}\n      </Container>\n    );\n  }\n}\n","const img = require('.//images/reload1.png'); export default img;","import React from 'react';\nimport { View, ActivityIndicator, Image, TouchableOpacity } from 'react-native';\nimport iconReload from '../images/reload1.png';\nimport PropTypes from 'prop-types';\nimport styled from '@stream-io/styled-components';\nimport { ProgressIndicatorTypes } from '../utils';\nimport { themed } from '../styles/theme';\n\nconst Overlay = styled.View`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(0, 0, 0, 0.3);\n  opacity: 0;\n  ${({ theme }) => theme.messageInput.uploadProgressIndicator.overlay.css};\n`;\n\nconst Container = styled.View`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(255, 255, 255, 0);\n  ${({ theme }) => theme.messageInput.uploadProgressIndicator.container.css};\n`;\n\nexport const UploadProgressIndicator = themed(\n  class UploadProgressIndicator extends React.PureComponent {\n    static themePath = 'messageInput.uploadProgressIndicator';\n    constructor(props) {\n      super(props);\n    }\n\n    static propTypes = {\n      active: PropTypes.bool,\n      type: PropTypes.oneOf([\n        ProgressIndicatorTypes.IN_PROGRESS,\n        ProgressIndicatorTypes.RETRY,\n      ]),\n      action: PropTypes.func,\n    };\n\n    render() {\n      const { active, children, type } = this.props;\n      if (!active) {\n        return <View>{children}</View>;\n      }\n\n      return (\n        <TouchableOpacity onPress={this.props.action}>\n          {children}\n          <Overlay />\n          <Container>\n            {type === ProgressIndicatorTypes.IN_PROGRESS && (\n              <View\n                style={{\n                  position: 'absolute',\n                  top: 0,\n                  left: 0,\n                  right: 0,\n                  bottom: 0,\n                  justifyContent: 'center',\n                  alignItems: 'center',\n                }}\n              >\n                <ActivityIndicator style={{}} color=\"white\" />\n              </View>\n            )}\n            {type === ProgressIndicatorTypes.RETRY && (\n              <Image source={iconReload} style={{ height: 18, width: 18 }} />\n            )}\n          </Container>\n        </TouchableOpacity>\n      );\n    }\n  },\n);\n","import React from 'react';\nimport { View, Text, FlatList } from 'react-native';\nimport PropTypes from 'prop-types';\nimport { FileIcon } from './FileIcon';\nimport { UploadProgressIndicator } from './UploadProgressIndicator';\nimport { FileState, ProgressIndicatorTypes } from '../utils';\n/**\n * FileUploadPreview\n *\n * @example ./docs/FileUploadPreview.md\n * @extends PureComponent\n */\nconst FILE_PREVIEW_HEIGHT = 50;\nconst FILE_PREVIEW_PADDING = 10;\n\n/**\n * UI Component to preview the files set for upload\n *\n * @example ./docs/FileUploadPreview.md\n * @extends PureComponent\n */\nexport class FileUploadPreview extends React.PureComponent {\n  constructor(props) {\n    super(props);\n  }\n  static propTypes = {\n    fileUploads: PropTypes.array.isRequired,\n    removeFile: PropTypes.func,\n    retryUpload: PropTypes.func,\n    /**\n     * Custom UI component for attachment icon for type 'file' attachment.\n     * Defaults to and accepts same props as: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileIcon.js\n     */\n    AttachmentFileIcon: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n  };\n\n  static defaultProps = {\n    AttachmentFileIcon: FileIcon,\n  };\n\n  _renderItem = ({ item }) => {\n    let type;\n\n    if (item.state === FileState.UPLOADING)\n      type = ProgressIndicatorTypes.IN_PROGRESS;\n\n    if (item.state === FileState.UPLOAD_FAILED)\n      type = ProgressIndicatorTypes.RETRY;\n\n    const AttachmentFileIcon = this.props.AttachmentFileIcon;\n    return (\n      <UploadProgressIndicator\n        active={item.state !== FileState.UPLOADED}\n        type={type}\n        action={this.props.retryUpload.bind(this, item.id)}\n      >\n        <View\n          style={{\n            height: FILE_PREVIEW_HEIGHT,\n            padding: FILE_PREVIEW_PADDING,\n            display: 'flex',\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: 5,\n            borderColor: '#EBEBEB',\n            borderWidth: 0.5,\n          }}\n        >\n          <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n            <AttachmentFileIcon mimeType={item.file.type} size={20} />\n            <Text style={{ paddingLeft: 10 }}>\n              {item.file.name.length > 35\n                ? item.file.name.substring(0, 35).concat('...')\n                : item.file.name}\n            </Text>\n          </View>\n          <Text onPress={this.props.removeFile.bind(this, item.id)}>X</Text>\n        </View>\n      </UploadProgressIndicator>\n    );\n  };\n\n  render() {\n    if (!this.props.fileUploads || this.props.fileUploads.length === 0)\n      return null;\n\n    return (\n      <View\n        style={{\n          display: 'flex',\n          height: this.props.fileUploads.length * (FILE_PREVIEW_HEIGHT + 5),\n          marginRight: 10,\n          marginLeft: 10,\n        }}\n      >\n        <FlatList\n          style={{ flex: 1 }}\n          data={this.props.fileUploads}\n          keyExtractor={(item) => item.id}\n          renderItem={this._renderItem}\n        />\n      </View>\n    );\n  }\n}\n","import React from 'react';\nimport { Image } from 'react-native';\nimport PropTypes from 'prop-types';\nimport styled from '@stream-io/styled-components';\n\nconst StyledTouchableOpacity = styled.TouchableOpacity`\n  background-color: rgba(0, 0, 0, 0.05);\n  border-radius: 5px;\n  padding: 5px;\n  ${({ theme }) => theme.iconSquare.container.css}\n`;\n\nconst StyledView = styled.View`\n  background-color: rgba(0, 0, 0, 0.05);\n  border-radius: 5px;\n  padding: 5px;\n  ${({ theme }) => theme.iconSquare.container.css}\n`;\n\nexport const IconSquare = ({ icon, onPress }) => {\n  if (onPress)\n    return (\n      <StyledTouchableOpacity onPress={onPress}>\n        <Image source={icon} style={{ height: 15, width: 15 }} />\n      </StyledTouchableOpacity>\n    );\n  else\n    return (\n      <StyledView>\n        <Image source={icon} style={{ height: 15, width: 15 }} />\n      </StyledView>\n    );\n};\n\nIconSquare.propTypes = {\n  icon: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  onPress: PropTypes.func,\n};\n","import React from 'react';\nimport { FlatList } from 'react-native';\nimport { UploadProgressIndicator } from './UploadProgressIndicator';\nimport PropTypes from 'prop-types';\nimport { FileState, ProgressIndicatorTypes } from '../utils';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\n\nimport closeRound from '../images/icons/close-round.png';\n\nconst Container = styled.View`\n  height: 70;\n  display: flex;\n  padding: 10px;\n  ${({ theme }) => theme.messageInput.imageUploadPreview.container.css};\n`;\n\nconst ItemContainer = styled.View`\n  display: flex;\n  height: 50;\n  flex-direction: row;\n  align-items: flex-start;\n  margin-left: 5;\n  ${({ theme }) => theme.messageInput.imageUploadPreview.itemContainer.css};\n`;\n\nconst Dismiss = styled.TouchableOpacity`\n  position: absolute;\n  top: 5;\n  right: 5;\n  background-color: #fff;\n  width: 20;\n  height: 20;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 20;\n  ${({ theme }) => theme.messageInput.imageUploadPreview.dismiss.css};\n`;\n\nconst Upload = styled.Image`\n  width: 50;\n  height: 50;\n  border-radius: 10;\n  ${({ theme }) => theme.messageInput.imageUploadPreview.upload.css};\n`;\n\nconst DismissImage = styled.Image`\n  width: 10;\n  height: 10;\n  ${({ theme }) => theme.messageInput.imageUploadPreview.dismissImage.css};\n`;\n\n/**\n * UI Component to preview the images set for upload\n *\n * @example ./docs/ImageUploadPreview.md\n * @extends PureComponent\n */\nexport const ImageUploadPreview = themed(\n  class ImageUploadPreview extends React.PureComponent {\n    static themePath = 'messageInput.imageUploadPreview';\n    constructor(props) {\n      super(props);\n    }\n    static propTypes = {\n      /**\n       * Its an object/map of id vs image objects which are set for upload. It has following structure:\n       *\n       * ```json\n       *  {\n       *    \"randomly_generated_temp_id_1\": {\n       *        \"id\": \"randomly_generated_temp_id_1\",\n       *        \"file\": // File object\n       *        \"status\": \"Uploading\" // or \"Finished\"\n       *      },\n       *    \"randomly_generated_temp_id_2\": {\n       *        \"id\": \"randomly_generated_temp_id_2\",\n       *        \"file\": // File object\n       *        \"status\": \"Uploading\" // or \"Finished\"\n       *      },\n       *  }\n       * ```\n       *\n       * */\n      imageUploads: PropTypes.array.isRequired,\n      /**\n       * @param id Index of image in `imageUploads` array in state of MessageInput.\n       */\n      removeImage: PropTypes.func,\n      /**\n       * @param id Index of image in `imageUploads` array in state of MessageInput.\n       */\n      retryUpload: PropTypes.func,\n    };\n\n    _renderItem = ({ item }) => {\n      let type;\n\n      const { retryUpload } = this.props;\n\n      if (item.state === FileState.UPLOADING)\n        type = ProgressIndicatorTypes.IN_PROGRESS;\n\n      if (item.state === FileState.UPLOAD_FAILED)\n        type = ProgressIndicatorTypes.RETRY;\n      return (\n        <React.Fragment>\n          <ItemContainer>\n            <UploadProgressIndicator\n              active={item.state !== FileState.UPLOADED}\n              type={type}\n              action={retryUpload && retryUpload.bind(this, item.id)}\n            >\n              <Upload\n                resizeMode=\"cover\"\n                source={{ uri: item.url || item.file.uri }}\n              />\n            </UploadProgressIndicator>\n            <Dismiss\n              onPress={() => {\n                this.props.removeImage(item.id);\n              }}\n            >\n              <DismissImage source={closeRound} />\n            </Dismiss>\n          </ItemContainer>\n        </React.Fragment>\n      );\n    };\n\n    render() {\n      if (!this.props.imageUploads || this.props.imageUploads.length === 0)\n        return null;\n\n      return (\n        <Container>\n          <FlatList\n            horizontal\n            style={{ flex: 1 }}\n            data={this.props.imageUploads}\n            keyExtractor={(item) => item.id}\n            renderItem={this._renderItem}\n          />\n        </Container>\n      );\n    }\n  },\n);\n","import React from 'react';\nimport {\n  Platform,\n  View,\n  Keyboard,\n  Animated,\n  Dimensions,\n  StatusBar,\n  AppState,\n} from 'react-native';\nimport { KeyboardContext } from '../context';\nimport PropTypes from 'prop-types';\n\n/**\n * KeyboardCompatibleView is HOC component similar to [KeyboardAvoidingView](https://facebook.github.io/react-native/docs/keyboardavoidingview),\n * designed to work with MessageInput and MessageList component.\n *\n * Main motivation of writing this our own component was to get rid of issues that come with KeyboardAvoidingView from react-native\n * when used with components of fixed height. [Channel](https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/ChannelInner.js) component\n * uses `KeyboardCompatibleView` internally, so you don't need to explicitly add it.\n *\n * ```json\n * <KeyboardCompatibleView>\n *  <MessageList />\n *  <MessageInput />\n * </KeyboardCompatibleView>\n * ```\n */\nexport class KeyboardCompatibleView extends React.PureComponent {\n  static propTypes = {\n    keyboardDismissAnimationDuration: PropTypes.number,\n    keyboardOpenAnimationDuration: PropTypes.number,\n    enabled: PropTypes.bool,\n  };\n  static defaultProps = {\n    keyboardDismissAnimationDuration: 500,\n    keyboardOpenAnimationDuration: 500,\n    enabled: true,\n  };\n  unmounted = false;\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      channelHeight: new Animated.Value(0),\n      // For some reason UI doesn't update sometimes, when state is updated using setValue.\n      // So to force update the component, I am using following key, which will be incremented\n      // for every keyboard slide up and down.\n      key: 0,\n      appState: AppState.currentState,\n    };\n\n    this._keyboardOpen = false;\n    // Following variable takes care of race condition between keyboardDidHide and keyboardDidShow.\n    this._hidingKeyboardInProgress = false;\n    this.rootChannelView = false;\n    this.initialHeight = 0;\n  }\n\n  componentDidMount() {\n    if (!this.props.enabled) return;\n\n    this.setupListeners();\n    this.unmounted = false;\n  }\n\n  componentWillUnmount() {\n    if (!this.props.enabled) return;\n\n    this.removeListeners();\n    this.unmounted = true;\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.enabled !== prevProps.enabled && this.props.enabled) {\n      this.setupListeners();\n    }\n\n    if (this.props.enabled !== prevProps.enabled && !this.props.enabled) {\n      this.removeListeners();\n    }\n  }\n\n  _handleAppStateChange = (nextAppState) => {\n    if (\n      this.state.appState.match(/inactive|background/) &&\n      nextAppState === 'active'\n    ) {\n      this.setupKeyboardListeners();\n      this.setState({ appState: nextAppState });\n    }\n\n    if (\n      this.state.appState === 'active' &&\n      nextAppState.match(/inactive|background/)\n    ) {\n      /**\n       * When leaving an active app state but still mounted we want to reset\n       * animated height values so when active again, animations will properly\n       * adjust the view instead of having no difference in value to animate to\n       */\n      this.setState({ channelHeight: new Animated.Value(this.initialHeight) });\n      this.initialHeight = 0;\n      this.dismissKeyboard();\n      this.removeKeyboardListeners();\n      this.setState({ appState: nextAppState });\n    }\n  };\n\n  setupListeners = () => {\n    AppState.addEventListener('change', this._handleAppStateChange);\n    this.setupKeyboardListeners();\n  };\n\n  removeListeners = () => {\n    AppState.removeEventListener('change', this._handleAppStateChange);\n    this.removeKeyboardListeners();\n  };\n\n  setupKeyboardListeners = () => {\n    if (Platform.OS === 'ios') {\n      this.keyboardDidShowListener = Keyboard.addListener(\n        'keyboardWillShow',\n        this.keyboardDidShow,\n      );\n    } else {\n      // Android doesn't support keyboardWillShow event.\n      this.keyboardDidShowListener = Keyboard.addListener(\n        'keyboardDidShow',\n        this.keyboardDidShow,\n      );\n    }\n\n    // We dismiss the keyboard manually (along with keyboardWillHide function) when message is touched.\n    // Following listener is just for a case when keyboard gets dismissed due to something besides message touch.\n    this.keyboardDidHideListener = Keyboard.addListener(\n      'keyboardDidHide',\n      this.keyboardDidHide,\n    );\n  };\n\n  removeKeyboardListeners = () => {\n    this.keyboardDidShowListener.remove();\n    this.keyboardDidHideListener.remove();\n  };\n\n  // TODO: Better to extract following functions to different HOC.\n  keyboardDidShow = (e) => {\n    if (!this.props.enabled) return;\n    const keyboardHidingInProgressBeforeMeasure = this\n      ._hidingKeyboardInProgress;\n    const keyboardHeight = e.endCoordinates.height;\n\n    if (this.rootChannelView) {\n      this.rootChannelView.measureInWindow((x, y) => {\n        // In case if keyboard was closed in meanwhile while\n        // this measure function was being executed, then we\n        // should abort further execution and let the event callback\n        // keyboardDidHide proceed.\n        if (\n          !keyboardHidingInProgressBeforeMeasure &&\n          this._hidingKeyboardInProgress\n        ) {\n          return;\n        }\n\n        const { height: windowHeight } = Dimensions.get('window');\n        let finalHeight;\n\n        if (Platform.OS === 'android') {\n          finalHeight =\n            windowHeight - y - keyboardHeight - StatusBar.currentHeight;\n        } else {\n          finalHeight = windowHeight - y - keyboardHeight;\n        }\n        Animated.timing(this.state.channelHeight, {\n          toValue: finalHeight,\n          duration: this.props.keyboardOpenAnimationDuration,\n          useNativeDriver: false,\n        }).start(() => {\n          // Force the final value, in case animation halted in between.\n          this.state.channelHeight.setValue(finalHeight);\n          this.safeSetState({\n            key: this.state.key + 1,\n          });\n        });\n      });\n    }\n    this._keyboardOpen = true;\n  };\n\n  keyboardDidHide = () => {\n    this._hidingKeyboardInProgress = true;\n    Animated.timing(this.state.channelHeight, {\n      toValue: this.initialHeight,\n      duration: this.props.keyboardDismissAnimationDuration,\n      useNativeDriver: false,\n    }).start(() => {\n      // Force the final value, in case animation halted in between.\n      this.state.channelHeight.setValue(this.initialHeight);\n      this._hidingKeyboardInProgress = false;\n      this._keyboardOpen = false;\n      this.safeSetState({\n        key: this.state.key + 1,\n      });\n    });\n  };\n\n  safeSetState = (state) => {\n    if (this.unmounted) return;\n\n    this.setState(state);\n  };\n\n  keyboardWillDismiss = () =>\n    new Promise((resolve) => {\n      if (!this._keyboardOpen) {\n        resolve();\n        return;\n      }\n\n      Animated.timing(this.state.channelHeight, {\n        toValue: this.initialHeight,\n        duration: this.props.keyboardDismissAnimationDuration,\n        useNativeDriver: false,\n      }).start((response) => {\n        this.state.channelHeight.setValue(this.initialHeight);\n        if (response && !response.finished) {\n          // If by some chance animation didn't go smooth or had some issue,\n          // then simply defer promise resolution until after 500 ms.\n          // This is the time we perform animation for adjusting animation of Channel component height\n          // during keyboard dismissal.\n          setTimeout(() => {\n            resolve();\n          }, this.props.keyboardDismissAnimationDuration);\n          return;\n        }\n\n        resolve();\n      });\n    });\n\n  setRootChannelView = (o) => {\n    this.rootChannelView = o;\n  };\n\n  onLayout = ({\n    nativeEvent: {\n      layout: { height },\n    },\n  }) => {\n    // Not to set initial height again.\n    if (!this.initialHeight) {\n      this.initialHeight = height;\n      this.state.channelHeight.setValue(this.initialHeight);\n    }\n  };\n\n  dismissKeyboard = async () => {\n    Keyboard.dismiss();\n    if (this.props.enabled) await this.keyboardWillDismiss();\n  };\n\n  getContext = () => ({\n    dismissKeyboard: this.dismissKeyboard,\n  });\n\n  render() {\n    const height = this.initialHeight\n      ? { height: this.state.channelHeight }\n      : {};\n\n    const animatedViewProps = {\n      style: { display: 'flex', ...height },\n    };\n\n    if (this.props.enabled) {\n      animatedViewProps.onLayout = this.onLayout;\n    }\n\n    if (!this.props.enabled) {\n      return (\n        <KeyboardContext.Provider value={this.getContext()}>\n          {this.props.children}\n        </KeyboardContext.Provider>\n      );\n    }\n    return (\n      <Animated.View {...animatedViewProps}>\n        <KeyboardContext.Provider value={this.getContext()}>\n          <View ref={this.setRootChannelView} collapsable={false}>\n            {this.props.children}\n          </View>\n        </KeyboardContext.Provider>\n      </Animated.View>\n    );\n  }\n}\n","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport PropTypes from 'prop-types';\nimport { withTranslationContext } from '../context';\n\nconst Container = styled.TouchableOpacity`\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  ${({ theme }) => theme.loadingErrorIndicator.container.css}\n`;\n\nconst ErrorText = styled.Text`\n  margin-top: 20px;\n  font-size: 14px;\n  font-weight: 600;\n  ${({ theme }) => theme.loadingErrorIndicator.errorText.css}\n`;\n\nconst RetryText = styled.Text`\n  font-size: 30px;\n  font-weight: 600;\n  ${({ theme }) => theme.loadingErrorIndicator.retryText.css}\n`;\n\nconst LoadingErrorIndicator = ({ listType, retry, t }) => {\n  let Loader;\n  switch (listType) {\n    case 'channel':\n      Loader = (\n        <Container\n          onPress={() => {\n            retry && retry();\n          }}\n        >\n          <ErrorText>{t('Error loading channel list ...')}</ErrorText>\n          <RetryText>⟳</RetryText>\n        </Container>\n      );\n      break;\n    case 'message':\n      Loader = (\n        <Container>\n          <ErrorText>\n            {t('Error loading messages for this channel ...')}\n          </ErrorText>\n        </Container>\n      );\n      break;\n    default:\n      Loader = (\n        <Container>\n          <ErrorText>{t('Error loading')}</ErrorText>\n        </Container>\n      );\n      break;\n  }\n\n  return Loader;\n};\n\nLoadingErrorIndicator.propTypes = {\n  listType: PropTypes.oneOf(['channel', 'message', 'default']),\n  // Calls the retry handler.\n  retry: PropTypes.func,\n};\n\nconst LoadingErrorIndicatorWithContext = withTranslationContext(\n  LoadingErrorIndicator,\n);\nexport { LoadingErrorIndicatorWithContext as LoadingErrorIndicator };\n","import React from 'react';\nimport { View, Animated, Easing } from 'react-native';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\n\nconst AnimatedView = Animated.createAnimatedComponent(View);\n\nexport const Circle = styled(AnimatedView)`\n  height: 30px;\n  width: 30px;\n  margin: 5px;\n  border-width: 2px;\n  border-radius: 30px;\n  justify-content: center;\n  border-color: ${({ theme }) => theme.colors.primary};\n  border-right-color: transparent;\n  ${({ theme }) => theme.spinner.css}\n`;\n/**\n * @example ./docs/Spinner.md\n * @extends PureComponent\n */\nexport const Spinner = themed(\n  class Spinner extends React.PureComponent {\n    static themePath = 'spinner';\n    state = {\n      rotateValue: new Animated.Value(0),\n    };\n\n    componentDidMount() {\n      this._start();\n    }\n\n    _start = () => {\n      Animated.loop(\n        Animated.timing(this.state.rotateValue, {\n          toValue: 1,\n          duration: 800,\n          easing: Easing.linear,\n          useNativeDriver: true,\n        }),\n      ).start();\n    };\n\n    render() {\n      return (\n        <Circle\n          style={{\n            transform: [\n              {\n                rotate: this.state.rotateValue.interpolate({\n                  inputRange: [0, 1],\n                  outputRange: ['0deg', '360deg'],\n                }),\n              },\n            ],\n          }}\n        />\n      );\n    }\n  },\n);\n","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport PropTypes from 'prop-types';\nimport { Spinner } from './Spinner';\nimport { withTranslationContext } from '../context';\n\nconst Container = styled.View`\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  ${({ theme }) => theme.loadingIndicator.container.css}\n`;\nconst LoadingText = styled.Text`\n  margin-top: 20px;\n  font-size: 14px;\n  font-weight: 600;\n  ${({ theme }) => theme.loadingIndicator.loadingText.css}\n`;\n\nclass LoadingIndicator extends React.PureComponent {\n  static propTypes = {\n    listType: PropTypes.oneOf(['channel', 'message', 'default']),\n    loadingText: PropTypes.string,\n  };\n\n  static defaultProps = {\n    listType: 'default',\n  };\n\n  render() {\n    const { t, listType, loadingText } = this.props;\n    switch (listType) {\n      case 'channel':\n        return (\n          <Container>\n            <Spinner />\n            <LoadingText>\n              {loadingText ? loadingText : t('Loading channels ...')}\n            </LoadingText>\n          </Container>\n        );\n      case 'message':\n        return (\n          <Container>\n            <Spinner />\n            <LoadingText>\n              {loadingText ? loadingText : t('Loading messages ...')}\n            </LoadingText>\n          </Container>\n        );\n      case 'default':\n      default:\n        return (\n          <Container>\n            <Spinner />\n            <LoadingText>\n              {loadingText ? loadingText : t('Loading ...')}\n            </LoadingText>\n          </Container>\n        );\n    }\n  }\n}\n\nconst LoadingIndicatorWithContext = withTranslationContext(LoadingIndicator);\nexport { LoadingIndicatorWithContext as LoadingIndicator };\n","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport { Avatar } from '../Avatar';\nimport PropTypes from 'prop-types';\n\nconst Container = styled.View`\n  margin-right: ${({ alignment }) => (alignment === 'left' ? 8 : 0)};\n  margin-left: ${({ alignment }) => (alignment === 'right' ? 8 : 0)};\n  ${({ theme }) => theme.message.avatarWrapper.container.css}\n`;\n\nconst Spacer = styled.View`\n  width: 32;\n  height: 28;\n  ${({ theme }) => theme.message.avatarWrapper.spacer.css}\n`;\n\nexport const MessageAvatar = ({\n  message,\n  alignment,\n  groupStyles,\n  showAvatar = null,\n}) => {\n  let visible = showAvatar;\n\n  if (visible === null) {\n    visible =\n      groupStyles[0] === 'single' || groupStyles[0] === 'bottom' ? true : false;\n  }\n\n  return (\n    <Container alignment={alignment}>\n      {visible ? (\n        <Avatar\n          image={message.user.image}\n          name={message.user.name || message.user.id}\n        />\n      ) : (\n        <Spacer />\n      )}\n    </Container>\n  );\n};\n\nMessageAvatar.propTypes = {\n  /** Current [message object](https://getstream.io/chat/docs/#message_format) */\n  message: PropTypes.object,\n  /**\n   * Returns true if message (param) belongs to current user, else false\n   *\n   * @param message\n   * */\n  isMyMessage: PropTypes.func,\n  /**\n   * Position of message in group - top, bottom, middle, single.\n   *\n   * Message group is a group of consecutive messages from same user. groupStyles can be used to style message as per their position in message group\n   * e.g., user avatar (to which message belongs to) is only showed for last (bottom) message in group.\n   */\n  groupStyles: PropTypes.array,\n};\n","const img = require('.//images/reactionlist/left-tail.png'); export default img;","const img = require('.//images/reactionlist/left-center.png'); export default img;","const img = require('.//images/reactionlist/left-end.png'); export default img;","const img = require('.//images/reactionlist/right-tail.png'); export default img;","const img = require('.//images/reactionlist/right-center.png'); export default img;","const img = require('.//images/reactionlist/right-end.png'); export default img;","import React from 'react';\nimport { Text } from 'react-native';\nimport styled from '@stream-io/styled-components';\nimport PropTypes from 'prop-types';\nimport { themed } from '../styles/theme';\nimport { renderReactions } from '../utils/renderReactions';\nimport { emojiData } from '../utils';\n\nimport leftTail from '../images/reactionlist/left-tail.png';\nimport leftCenter from '../images/reactionlist/left-center.png';\nimport leftEnd from '../images/reactionlist/left-end.png';\n\nimport rightTail from '../images/reactionlist/right-tail.png';\nimport rightCenter from '../images/reactionlist/right-center.png';\nimport rightEnd from '../images/reactionlist/right-end.png';\n\nconst TouchableWrapper = styled.View`\n  position: relative;\n  ${({ alignment }) =>\n    alignment === 'left' ? 'left: -10px;' : 'right: -10px;'}\n  height: 28px;\n  z-index: 10;\n  align-self: ${({ alignment }) =>\n    alignment === 'left' ? 'flex-start' : 'flex-end'};\n`;\n\nconst Container = styled.View`\n  opacity: ${({ visible }) => (visible ? 1 : 0)};\n  z-index: 10;\n  height: 24px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding-left: 5px;\n  padding-right: 5px;\n  ${({ theme }) => theme.message.reactionList.container.css}\n`;\n\nconst ReactionCount = styled(({ reactionCounts, ...rest }) => (\n  <Text {...rest} />\n))`\n  color: white;\n  font-size: 12;\n  ${({ reactionCounts }) => (reactionCounts < 10 ? null : 'min-width: 20px;')}\n  ${({ theme }) => theme.message.reactionList.reactionCount.css}\n`;\n\nconst ImageWrapper = styled.View`\n  display: flex;\n  flex-direction: row;\n  top: -23px;\n  opacity: ${({ visible }) => (visible ? 1 : 0)};\n`;\n\nconst LeftTail = styled.Image`\n  width: 25px;\n  height: 33px;\n`;\n\nconst LeftCenter = styled.Image`\n  height: 33;\n  flex: 1;\n`;\n\nconst LeftEnd = styled.Image`\n  width: 14px;\n  height: 33px;\n`;\n\nconst RightTail = styled.Image`\n  width: 25px;\n  height: 33px;\n`;\n\nconst RightCenter = styled.Image`\n  height: 33;\n  flex: 1;\n`;\n\nconst RightEnd = styled.Image`\n  width: 14px;\n  height: 33px;\n`;\n\nconst Reactions = styled.View`\n  flex-direction: row;\n`;\n\n/**\n * @example ./docs/ReactionList.md\n * @extends PureComponent\n */\n\nexport const ReactionList = themed(\n  class ReactionList extends React.PureComponent {\n    static themePath = 'message.reactionList';\n\n    constructor(props) {\n      super(props);\n    }\n\n    static propTypes = {\n      latestReactions: PropTypes.array,\n      openReactionSelector: PropTypes.func,\n      getTotalReactionCount: PropTypes.func,\n      visible: PropTypes.bool,\n      position: PropTypes.string,\n      /**\n       * e.g.,\n       * [\n       *  {\n       *    id: 'like',\n       *    icon: '👍',\n       *  },\n       *  {\n       *    id: 'love',\n       *    icon: '❤️️',\n       *  },\n       *  {\n       *    id: 'haha',\n       *    icon: '😂',\n       *  },\n       *  {\n       *    id: 'wow',\n       *    icon: '😮',\n       *  },\n       * ]\n       */\n      supportedReactions: PropTypes.array,\n    };\n\n    static defaultProps = {\n      supportedReactions: emojiData,\n    };\n\n    render() {\n      const {\n        latestReactions,\n        getTotalReactionCount,\n        visible,\n        alignment,\n        supportedReactions,\n      } = this.props;\n      return (\n        <TouchableWrapper alignment={alignment} activeOpacity={1}>\n          <Container visible={visible}>\n            <Reactions>\n              {renderReactions(latestReactions, supportedReactions)}\n            </Reactions>\n            <ReactionCount\n              reactionCounts={getTotalReactionCount(supportedReactions)}\n            >\n              {getTotalReactionCount(supportedReactions)}\n            </ReactionCount>\n          </Container>\n          <ImageWrapper visible={visible}>\n            {alignment === 'left' ? (\n              <React.Fragment>\n                <LeftTail source={leftTail} />\n                <LeftCenter source={leftCenter} resizeMode=\"stretch\" />\n                <LeftEnd source={leftEnd} />\n              </React.Fragment>\n            ) : (\n              <React.Fragment>\n                <RightEnd source={rightEnd} />\n                <RightCenter source={rightCenter} resizeMode=\"stretch\" />\n                <RightTail source={rightTail} />\n              </React.Fragment>\n            )}\n          </ImageWrapper>\n        </TouchableWrapper>\n      );\n    }\n  },\n);\n","import React from 'react';\nimport styled, { withTheme } from '@stream-io/styled-components';\n\nimport { renderText, capitalize } from '../../utils';\nimport PropTypes from 'prop-types';\n\nconst TextContainer = styled.View`\n  border-bottom-left-radius: ${({ theme, groupStyle }) =>\n    groupStyle.indexOf('left') !== -1\n      ? theme.message.content.textContainer.borderRadiusS\n      : theme.message.content.textContainer.borderRadiusL};\n  border-bottom-right-radius: ${({ theme, groupStyle }) =>\n    groupStyle.indexOf('right') !== -1\n      ? theme.message.content.textContainer.borderRadiusS\n      : theme.message.content.textContainer.borderRadiusL};\n  border-top-left-radius: ${({ theme, groupStyle }) =>\n    groupStyle === 'leftBottom' || groupStyle === 'leftMiddle'\n      ? theme.message.content.textContainer.borderRadiusS\n      : theme.message.content.textContainer.borderRadiusL};\n  border-top-right-radius: ${({ theme, groupStyle }) =>\n    groupStyle === 'rightBottom' || groupStyle === 'rightMiddle'\n      ? theme.message.content.textContainer.borderRadiusS\n      : theme.message.content.textContainer.borderRadiusL};\n  padding: 5px;\n  padding-left: 8;\n  margin-top: 2;\n  padding-right: 8;\n  align-self: ${({ alignment }) =>\n    alignment === 'left' ? 'flex-start' : 'flex-end'};\n  border-width: ${({ theme, alignment }) =>\n    alignment === 'left'\n      ? theme.message.content.textContainer.leftBorderWidth\n      : theme.message.content.textContainer.rightBorderWidth};\n  border-color: ${({ theme, alignment }) =>\n    alignment === 'left'\n      ? theme.message.content.textContainer.leftBorderColor\n      : theme.message.content.textContainer.rightBorderColor};\n  background-color: ${({ theme, alignment, type, status }) =>\n    alignment === 'left' || type === 'error' || status === 'failed'\n      ? theme.colors.transparent\n      : theme.colors.light};\n  ${({ theme }) => theme.message.content.textContainer.css}\n`;\n\nexport const MessageTextContainer = withTheme((props) => {\n  const {\n    message,\n    groupStyles = ['bottom'],\n    alignment,\n    MessageText = false,\n  } = props;\n\n  const hasAttachment = message.attachments.length > 0 ? true : false;\n  const groupStyle =\n    alignment + capitalize(hasAttachment ? 'bottom' : groupStyles[0]);\n\n  if (!message.text) return false;\n  const markdownStyles = props.theme\n    ? props.theme.message.content.markdown\n    : {};\n  const markdownRules = props.markdownRules || {};\n  return (\n    <React.Fragment>\n      <TextContainer\n        alignment={alignment}\n        groupStyle={groupStyle}\n        status={message.status}\n        type={message.type}\n      >\n        {!MessageText ? (\n          renderText(message, markdownStyles, markdownRules)\n        ) : (\n          <MessageText {...props} renderText={renderText} />\n        )}\n      </TextContainer>\n    </React.Fragment>\n  );\n});\n\nMessageTextContainer.propTypes = {\n  /** Current [message object](https://getstream.io/chat/docs/#message_format) */\n  message: PropTypes.object,\n  /**\n   * Position of message in group - top, bottom, middle, single.\n   *\n   * Message group is a group of consecutive messages from same user. groupStyles can be used to style message as per their position in message group\n   * e.g., user avatar (to which message belongs to) is only showed for last (bottom) message in group.\n   */\n  groupStyles: PropTypes.array,\n  /**\n   * Returns true if message (param) belongs to current user, else false\n   *\n   * @param message\n   * */\n  isMyMessage: PropTypes.func,\n  /** Custom UI component for message text */\n  MessageText: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n  /** Complete theme object. Its a [defaultTheme](https://github.com/GetStream/stream-chat-react-native/blob/master/src/styles/theme.js#L22) merged with customized theme provided as prop to Chat component */\n  theme: PropTypes.object,\n  /** Object specifying rules defined within simple-markdown https://github.com/Khan/simple-markdown#adding-a-simple-extension */\n  markdownRules: PropTypes.object,\n};\n","const img = require('.//images/icons/icon_path.png'); export default img;","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport PropTypes from 'prop-types';\n\nimport iconPath from '../../images/icons/icon_path.png';\nimport { withTranslationContext } from '../../context';\n\nconst Container = styled.TouchableOpacity`\n  padding: 5px;\n  flex-direction: row;\n  align-items: center;\n  ${({ theme }) => theme.message.replies.container.css}\n`;\n\nconst MessageRepliesText = styled.Text`\n  color: ${({ theme }) => theme.colors.primary};\n  font-weight: 700;\n  font-size: 12;\n  ${({ theme }) => theme.message.replies.messageRepliesText.css}\n`;\n\nconst MessageRepliesImage = styled.Image`\n  transform: ${({ alignment }) =>\n    alignment === 'left' ? 'rotateY(0deg)' : 'rotateY(180deg)'};\n  ${({ theme }) => theme.message.replies.image.css}\n`;\n\nconst MessageReplies = ({\n  message,\n  isThreadList,\n  openThread,\n  alignment,\n  t,\n}) => {\n  if (isThreadList || !message.reply_count) return null;\n\n  return (\n    <Container onPress={openThread}>\n      {alignment === 'left' ? (\n        <MessageRepliesImage source={iconPath} alignment={alignment} />\n      ) : null}\n      <MessageRepliesText>\n        {message.reply_count === 1\n          ? t('1 reply')\n          : t('{{ replyCount }} replies', { replyCount: message.reply_count })}\n      </MessageRepliesText>\n      {alignment === 'right' ? (\n        <MessageRepliesImage source={iconPath} alignment={alignment} />\n      ) : null}\n    </Container>\n  );\n};\n\nMessageReplies.propTypes = {\n  /** Current [message object](https://getstream.io/chat/docs/#message_format) */\n  message: PropTypes.object,\n  /** Boolean if current message is part of thread */\n  isThreadList: PropTypes.bool,\n  /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n  openThread: PropTypes.func,\n  /** right | left */\n  alignment: PropTypes.oneOf(['right', 'left']),\n};\n\nconst MessageRepliesWithContext = withTranslationContext(MessageReplies);\n\nexport { MessageRepliesWithContext as MessageReplies };\n","import React from 'react';\nimport { View, Modal } from 'react-native';\nimport { themed } from '../styles/theme';\nimport PropTypes from 'prop-types';\n\nimport styled from '@stream-io/styled-components';\nimport { Avatar } from './Avatar';\nimport { emojiData } from '../utils';\n\nconst Container = styled.TouchableOpacity`\n  flex: 1;\n  align-items: ${({ leftAlign }) => (leftAlign ? 'flex-start' : 'flex-end')};\n  ${({ theme }) => theme.message.reactionPicker.container.css}\n`;\n\nconst ContainerView = styled.View`\n  display: flex;\n  flex-direction: row;\n  background-color: black;\n  padding-left: 20px;\n  height: 60;\n  padding-right: 20px;\n  border-radius: 30;\n  ${({ theme }) => theme.message.reactionPicker.containerView.css}\n`;\n\nconst Column = styled.View`\n  flex-direction: column;\n  align-items: center;\n  margin-top: -5;\n  ${({ theme }) => theme.message.reactionPicker.column.css}\n`;\n\nconst Emoji = styled.Text`\n  font-size: 20;\n  margin-bottom: 5;\n  margin-top: 5;\n  ${({ theme }) => theme.message.reactionPicker.emoji.css}\n`;\n\nconst ReactionCount = styled.Text`\n  color: white;\n  font-size: 10;\n  font-weight: bold;\n  ${({ theme }) => theme.message.reactionPicker.text.css}\n`;\n\nexport const ReactionPicker = themed(\n  class ReactionPicker extends React.PureComponent {\n    static themePath = 'message.reactionPicker';\n\n    static propTypes = {\n      hideReactionCount: PropTypes.bool,\n      hideReactionOwners: PropTypes.bool,\n      reactionPickerVisible: PropTypes.bool,\n      handleDismiss: PropTypes.func,\n      handleReaction: PropTypes.func,\n      latestReactions: PropTypes.array,\n      reactionCounts: PropTypes.object,\n      rpLeft: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n      rpTop: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n      rpRight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n      supportedReactions: PropTypes.array,\n    };\n\n    static defaultProps = {\n      hideReactionCount: false,\n      hideReactionOwners: false,\n      supportedReactions: emojiData,\n      rpTop: 40,\n      rpLeft: 30,\n      rpRight: 10,\n    };\n\n    constructor(props) {\n      super(props);\n    }\n\n    getUsersPerReaction = (reactions, type) => {\n      const filtered =\n        reactions && reactions.filter((item) => item.type === type);\n      return filtered;\n    };\n\n    getLatestUser = (reactions, type) => {\n      const filtered = this.getUsersPerReaction(reactions, type);\n      if (filtered && filtered[0] && filtered[0].user) {\n        return filtered[0].user;\n      } else {\n        return 'NotFound';\n      }\n    };\n\n    render() {\n      const {\n        hideReactionCount,\n        hideReactionOwners,\n        reactionPickerVisible,\n        handleDismiss,\n        handleReaction,\n        latestReactions,\n        reactionCounts,\n        rpLeft,\n        rpTop,\n        rpRight,\n        supportedReactions,\n      } = this.props;\n\n      if (!reactionPickerVisible) return null;\n\n      const position = {\n        marginTop: rpTop,\n      };\n\n      if (rpLeft) position.marginLeft = rpLeft;\n\n      if (rpRight) position.marginRight = rpRight;\n\n      return (\n        <Modal\n          visible={reactionPickerVisible}\n          transparent\n          animationType=\"fade\"\n          onShow={() => {}}\n          onRequestClose={handleDismiss}\n        >\n          {reactionPickerVisible && (\n            <Container\n              onPress={handleDismiss}\n              leftAlign={Boolean(rpLeft)}\n              activeOpacity={1}\n            >\n              <ContainerView\n                style={{\n                  ...position,\n                }}\n              >\n                {supportedReactions.map(({ id, icon }) => {\n                  const latestUser = this.getLatestUser(latestReactions, id);\n                  const count = reactionCounts && reactionCounts[id];\n                  return (\n                    <Column key={id}>\n                      {latestUser !== 'NotFound' && !hideReactionOwners ? (\n                        <Avatar\n                          image={latestUser.image}\n                          alt={latestUser.id}\n                          size={18}\n                          style={{\n                            image: {\n                              borderColor: 'white',\n                              borderWidth: 1,\n                            },\n                          }}\n                          name={latestUser.name || latestUser.id}\n                        />\n                      ) : (\n                        !hideReactionOwners && (\n                          <View style={{ height: 18, width: 18 }} />\n                        )\n                      )}\n                      <Emoji\n                        onPress={() => {\n                          handleReaction(id);\n                        }}\n                      >\n                        {icon}\n                      </Emoji>\n                      {!hideReactionCount && (\n                        <ReactionCount>{count > 0 ? count : ''}</ReactionCount>\n                      )}\n                    </Column>\n                  );\n                })}\n              </ContainerView>\n            </Container>\n          )}\n        </Modal>\n      );\n    }\n  },\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { TouchableOpacity, Dimensions } from 'react-native';\n\nimport { ReactionPicker } from './ReactionPicker';\nimport { emojiData } from '../utils';\n\nexport class ReactionPickerWrapper extends React.PureComponent {\n  static propTypes = {\n    isMyMessage: PropTypes.func,\n    message: PropTypes.object,\n    offset: PropTypes.object,\n    hideReactionCount: PropTypes.bool,\n    hideReactionOwners: PropTypes.bool,\n    handleReaction: PropTypes.func,\n    /**\n     * e.g.,\n     * [\n     *  {\n     *    id: 'like',\n     *    icon: '👍',\n     *  },\n     *  {\n     *    id: 'love',\n     *    icon: '❤️️',\n     *  },\n     *  {\n     *    id: 'haha',\n     *    icon: '😂',\n     *  },\n     *  {\n     *    id: 'wow',\n     *    icon: '😮',\n     *  },\n     * ]\n     */\n    supportedReactions: PropTypes.array,\n    /**\n     * @deprecated\n     * emojiData is deprecated. But going to keep it for now\n     * to have backward compatibility. Please use supportedReactions instead.\n     * TODO: Remove following prop in 1.x.x\n     */\n    emojiData: PropTypes.array,\n    ReactionPicker: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    dismissReactionPicker: PropTypes.func,\n    reactionPickerVisible: PropTypes.bool,\n    openReactionPicker: PropTypes.func,\n    style: PropTypes.any,\n  };\n\n  static defaultProps = {\n    offset: {\n      top: 40,\n      left: 30,\n      right: 10,\n    },\n    ReactionPicker,\n    supportedReactions: emojiData,\n    emojiData,\n    hideReactionCount: false,\n    hideReactionOwners: false,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount() {\n    if (this.props.reactionPickerVisible) this._setReactionPickerPosition();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.reactionPickerVisible && this.props.reactionPickerVisible) {\n      this._setReactionPickerPosition();\n    }\n  }\n\n  _setReactionPickerPosition = () => {\n    const { alignment, offset } = this.props;\n    if (this.messageContainer) {\n      this.messageContainer.measureInWindow((x, y, width) => {\n        this.setState({\n          rpTop: y - 60 + offset.top,\n          rpLeft: alignment === 'left' ? x - 10 + offset.left : null,\n          rpRight:\n            alignment === 'right'\n              ? Math.round(Dimensions.get('window').width) -\n                (x + width + offset.right)\n              : null,\n        });\n      });\n    }\n  };\n\n  render() {\n    const {\n      handleReaction,\n      message,\n      supportedReactions,\n      /** @deprecated */\n      emojiData,\n      style,\n      dismissReactionPicker,\n      reactionPickerVisible,\n      ReactionPicker,\n      openReactionPicker,\n      hideReactionCount,\n      hideReactionOwners,\n    } = this.props;\n    return (\n      <TouchableOpacity\n        onPress={() => {\n          openReactionPicker();\n        }}\n        ref={(o) => (this.messageContainer = o)}\n      >\n        {this.props.children}\n        <ReactionPicker\n          {...this.props}\n          reactionPickerVisible={reactionPickerVisible}\n          handleReaction={handleReaction}\n          latestReactions={message.latest_reactions}\n          reactionCounts={message.reaction_counts}\n          handleDismiss={dismissReactionPicker}\n          hideReactionCount={hideReactionCount}\n          hideReactionOwners={hideReactionOwners}\n          style={style}\n          supportedReactions={supportedReactions || emojiData}\n          rpLeft={this.state.rpLeft}\n          rpRight={this.state.rpRight}\n          rpTop={this.state.rpTop}\n        />\n      </TouchableOpacity>\n    );\n  }\n}\n","import React from 'react';\nimport { MessageContentContext, withTranslationContext } from '../../context';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../../styles/theme';\nimport { Attachment } from '../Attachment';\nimport { ActionSheetCustom as ActionSheet } from 'react-native-actionsheet';\nimport { ReactionList } from '../ReactionList';\nimport { MessageTextContainer } from './MessageTextContainer';\nimport { MessageReplies } from './MessageReplies';\nimport { MESSAGE_ACTIONS } from '../../utils';\nimport Immutable from 'seamless-immutable';\nimport PropTypes from 'prop-types';\nimport { Gallery } from '../Gallery';\nimport { FileAttachment } from '../FileAttachment';\nimport { FileAttachmentGroup } from '../FileAttachmentGroup';\nimport { ReactionPickerWrapper } from '../ReactionPickerWrapper';\nimport { emojiData } from '../../utils';\n\n// Border radii are useful for the case of error message types only.\n// Otherwise background is transparent, so border radius is not really visible.\nconst Container = styled.TouchableOpacity`\n  display: flex;\n  flex-direction: column;\n  max-width: 250;\n  padding: ${({ error }) => (error ? 5 : 0)}px;\n  align-items: ${({ alignment }) =>\n    alignment === 'left' ? 'flex-start' : 'flex-end'};\n  justify-content: ${({ alignment }) =>\n    alignment === 'left' ? 'flex-start' : 'flex-end'};\n  background-color: ${({ error, theme }) =>\n    error\n      ? theme.message.content.errorContainer.backgroundColor\n      : theme.colors.transparent};\n  border-bottom-left-radius: ${({ alignment, theme }) =>\n    alignment === 'left'\n      ? theme.message.content.container.borderRadiusS\n      : theme.message.content.container.borderRadiusL};\n  border-bottom-right-radius: ${({ alignment, theme }) =>\n    alignment === 'left'\n      ? theme.message.content.container.borderRadiusL\n      : theme.message.content.container.borderRadiusS};\n  border-top-left-radius: ${({ theme }) =>\n    theme.message.content.container.borderRadiusL};\n  border-top-right-radius: ${({ theme }) =>\n    theme.message.content.container.borderRadiusL};\n  ${({ theme }) => theme.message.content.container.css};\n`;\n\nconst ContainerInner = styled.View`\n  align-items: ${({ alignment }) =>\n    alignment === 'left' ? 'flex-start' : 'flex-end'};\n  ${({ theme }) => theme.message.content.containerInner.css}\n`;\n\nconst MetaContainer = styled.View`\n  margin-top: 2;\n  ${({ theme }) => theme.message.content.metaContainer.css};\n`;\n\nconst MetaText = styled.Text`\n  font-size: 11;\n  color: ${({ theme }) => theme.colors.textGrey};\n  text-align: ${({ alignment }) => (alignment === 'left' ? 'left' : 'right')};\n  ${({ theme }) => theme.message.content.metaText.css};\n`;\n\nconst DeletedContainer = styled.View`\n  display: flex;\n  flex-direction: column;\n  max-width: 250;\n  padding: 5px;\n  align-items: ${({ alignment }) =>\n    alignment === 'left' ? 'flex-start' : 'flex-end'};\n  justify-content: ${({ alignment }) =>\n    alignment === 'left' ? 'flex-start' : 'flex-end'};\n  ${({ theme }) => theme.message.content.deletedContainer.css};\n`;\n\nconst DeletedText = styled.Text`\n  font-size: 15;\n  line-height: 20;\n  color: #a4a4a4;\n  ${({ theme }) => theme.message.content.deletedText.css};\n`;\n\nconst FailedText = styled.Text`\n  color: #a4a4a4;\n  margin-right: 5px;\n`;\n\nconst ActionSheetTitleContainer = styled.View`\n  width: 100%;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n  ${({ theme }) => theme.message.actionSheet.titleContainer.css};\n`;\n\nconst ActionSheetTitleText = styled.Text`\n  color: #757575;\n  font-size: 14;\n  ${({ theme }) => theme.message.actionSheet.titleText.css};\n`;\n\nconst ActionSheetButtonContainer = styled.View`\n  height: 50;\n  width: 100%;\n  align-items: center;\n  background-color: #fff;\n  justify-content: center;\n  ${({ theme }) => theme.message.actionSheet.buttonContainer.css};\n`;\n\nconst ActionSheetButtonText = styled.Text`\n  font-size: 18;\n  color: #388cea;\n  ${({ theme }) => theme.message.actionSheet.buttonText.css};\n`;\n\nconst ActionSheetCancelButtonContainer = styled.View`\n  height: 50;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n  ${({ theme }) => theme.message.actionSheet.cancelButtonContainer.css};\n`;\nconst ActionSheetCancelButtonText = styled.Text`\n  font-size: 18;\n  color: red;\n  ${({ theme }) => theme.message.actionSheet.cancelButtonText.css};\n`;\n\nclass MessageContent extends React.PureComponent {\n  static themePath = 'message.content';\n\n  static propTypes = {\n    /** @see See [channel context](#channelcontext) */\n    Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /** enabled reactions, this is usually set by the parent component based on channel configs */\n    reactionsEnabled: PropTypes.bool.isRequired,\n    /** enabled replies, this is usually set by the parent component based on channel configs */\n    repliesEnabled: PropTypes.bool.isRequired,\n    /**\n     * Handler to open the thread on message. This is callback for touch event for replies button.\n     *\n     * @param message A message object to open the thread upon.\n     * */\n    onThreadSelect: PropTypes.func,\n    /**\n     * Callback for onPress event on Message component\n     *\n     * @param e       Event object for onPress event\n     * @param message Message object which was pressed\n     *\n     * @deprecated Use onPress instead\n     * */\n    onMessageTouch: PropTypes.func,\n    /**\n     * Function that overrides default behaviour when message is pressed/touched\n     * e.g. if you would like to open reaction picker on message press:\n     *\n     * ```\n     * import { MessageSimple } from 'stream-chat-react-native' // or 'stream-chat-expo'\n     * ...\n     * const MessageUIComponent = (props) => {\n     *  return (\n     *    <MessageSimple\n     *      {...props}\n     *      onPress={(thisArg, message, e) => {\n     *        props.openReactionPicker();\n     *        // Or if you want to open actionsheet\n     *        // thisArg.showActionSheet();\n     *      }}\n     *  )\n     * }\n     * ```\n     *\n     * Similarly, you can also call other methods available on MessageContent\n     * component such as handleEdit, handleDelete, showActionSheet etc.\n     *\n     * Source - [MessageContent](https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/MessageSimple/MessageContent.js)\n     *\n     * @param {Component} thisArg Reference to MessageContent component\n     * @param message Message object which was pressed\n     * @param e       Event object for onPress event\n     * */\n    onPress: PropTypes.func,\n    /**\n     * Function that overrides default behaviour when message is long pressed\n     * e.g.\n     *\n     * if you would like to open reaction picker on message long press:\n     *\n     * ```\n     * import { MessageSimple } from 'stream-chat-react-native' // or 'stream-chat-expo'\n     * ...\n     * const MessageUIComponent = (props) => {\n     *  return (\n     *    <MessageSimple\n     *      {...props}\n     *      onLongPress={(thisArg, message, e) => {\n     *        props.openReactionPicker();\n     *        // Or if you want to open actionsheet\n     *        // thisArg.showActionSheet();\n     *      }}\n     *  )\n     * }\n     *\n     * Similarly, you can also call other methods available on MessageContent\n     * component such as handleEdit, handleDelete, showActionSheet etc.\n     *\n     * Source - [MessageContent](https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/MessageSimple/MessageContent.js)\n     *\n     * By default we show action sheet with all the message actions on long press.\n     * ```\n     *\n     * @param {Component} thisArg Reference to MessageContent component\n     * @param message Message object which was long pressed\n     * @param e       Event object for onLongPress event\n     * */\n    onLongPress: PropTypes.func,\n    /**\n     * Handler to delete a current message.\n     */\n    handleDelete: PropTypes.func,\n    /**\n     * Handler to edit a current message. This message simply sets current message as value of `editing` property of channel context.\n     * `editing` prop is then used by MessageInput component to switch to edit mode.\n     */\n    handleEdit: PropTypes.func,\n    // enable hiding reaction count from reaction picker\n    hideReactionCount: PropTypes.bool,\n    // enable hiding reaction owners from reaction picker\n    hideReactionOwners: PropTypes.bool,\n    /** @see See [keyboard context](https://getstream.io/chat/docs/#keyboardcontext) */\n    dismissKeyboard: PropTypes.func,\n    /** Handler for actions. Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands). */\n    handleAction: PropTypes.func,\n    /** Position of message. 'right' | 'left' */\n    alignment: PropTypes.oneOf(['right', 'left']),\n    /**\n     * Position of message in group - top, bottom, middle, single.\n     *\n     * Message group is a group of consecutive messages from same user. groupStyles can be used to style message as per their position in message group\n     * e.g., user avatar (to which message belongs to) is only showed for last (bottom) message in group.\n     */\n    groupStyles: PropTypes.array,\n    /**\n     * Provide any additional props for `TouchableOpacity` which wraps `MessageContent` component here.\n     * Please check docs for TouchableOpacity for supported props - https://reactnative.dev/docs/touchableopacity#props\n     */\n    additionalTouchableProps: PropTypes.object,\n    /**\n     * Style object for actionsheet (used to message actions).\n     * Supported styles: https://github.com/beefe/react-native-actionsheet/blob/master/lib/styles.js\n     */\n    actionSheetStyles: PropTypes.object,\n    MessageReplies: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    MessageHeader: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    MessageFooter: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /**\n     * Custom UI component to display reaction list.\n     * Defaults to: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/ReactionList.js\n     */\n    ReactionList: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /**\n     * e.g.,\n     * [\n     *  {\n     *    id: 'like',\n     *    icon: '👍',\n     *  },\n     *  {\n     *    id: 'love',\n     *    icon: '❤️️',\n     *  },\n     *  {\n     *    id: 'haha',\n     *    icon: '😂',\n     *  },\n     *  {\n     *    id: 'wow',\n     *    icon: '😮',\n     *  },\n     * ]\n     */\n    supportedReactions: PropTypes.array,\n    /** Open the reaction picker */\n    openReactionPicker: PropTypes.func,\n    /** Dismiss the reaction picker */\n    dismissReactionPicker: PropTypes.func,\n    /** Boolean - if reaction picker is visible. Hides the reaction list in that case */\n    reactionPickerVisible: PropTypes.bool,\n    /** Custom UI component for message text */\n    MessageText: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /**\n     * Custom UI component to display enriched url preview.\n     * Defaults to https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/Card.js\n     */\n    UrlPreview: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /**\n     * Custom UI component to display Giphy image.\n     * Defaults to https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/Card.js\n     */\n    Giphy: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /**\n     * Custom UI component to display group of File type attachments or multiple file attachments (in single message).\n     * Defaults to https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileAttachmentGroup.js\n     */\n    FileAttachmentGroup: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    /**\n     * Custom UI component to display File type attachment.\n     * Defaults to https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileAttachment.js\n     */\n    FileAttachment: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    /**\n     * Custom UI component for attachment icon for type 'file' attachment.\n     * Defaults to: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileIcon.js\n     */\n    AttachmentFileIcon: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    /**\n     * Custom UI component to display image attachments.\n     * Defaults to https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/Gallery.js\n     */\n    Gallery: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /**\n     * Custom UI component to display generic media type e.g. giphy, url preview etc\n     * Defaults to https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/Card.js\n     */\n    Card: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /**\n     * Custom UI component to override default header of Card component.\n     * Accepts the same props as Card component.\n     */\n    CardHeader: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /**\n     * Custom UI component to override default cover (between Header and Footer) of Card component.\n     * Accepts the same props as Card component.\n     */\n    CardCover: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /**\n     * Custom UI component to override default Footer of Card component.\n     * Accepts the same props as Card component.\n     */\n    CardFooter: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /**\n     * Custom UI component to display attachment actions. e.g., send, shuffle, cancel in case of giphy\n     * Defaults to https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/AttachmentActions.js\n     */\n    AttachmentActions: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    formatDate: PropTypes.func,\n    /**\n     * @deprecated Please use `disabled` instead.\n     *\n     * Disables the message UI. Which means, message actions, reactions won't work.\n     */\n    readOnly: PropTypes.bool,\n    /** Disables the message UI. Which means, message actions, reactions won't work. */\n    disabled: PropTypes.bool,\n    /** Object specifying rules defined within simple-markdown https://github.com/Khan/simple-markdown#adding-a-simple-extension */\n    markdownRules: PropTypes.object,\n  };\n\n  static defaultProps = {\n    Attachment,\n    reactionsEnabled: true,\n    repliesEnabled: true,\n    MessageText: false,\n    ReactionList,\n    MessageReplies,\n    Gallery,\n    FileAttachment,\n    FileAttachmentGroup,\n    supportedReactions: emojiData,\n    hideReactionCount: false,\n    hideReactionOwners: false,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.ActionSheet = false;\n    this.state = {};\n  }\n\n  openThread = () => {\n    if (this.props.onThreadSelect)\n      this.props.onThreadSelect(this.props.message);\n  };\n\n  showActionSheet = () => {\n    this.props.dismissKeyboard();\n    this.ActionSheet.show();\n  };\n\n  handleDelete = async () => {\n    await this.props.handleDelete();\n  };\n\n  handleEdit = () => {\n    this.props.handleEdit();\n  };\n\n  /**\n   * @todo: Remove the method in future 1.0.0.\n   * This method has been moved to `ReactionPickerWrapper`.\n   *\n   * @deprecated\n   */\n  _setReactionPickerPosition = async () => {\n    console.warn(\n      'openReactionSelector has been deprecared and will be removed in next major release.' +\n        'Please use this.props.openReactionPicker instead.',\n    );\n\n    await this.props.openReactionPicker();\n  };\n\n  openReactionSelector = async () => {\n    console.warn(\n      'openReactionSelector has been deprecared and will be removed in next major release.' +\n        'Please use this.props.openReactionPicker instead.',\n    );\n\n    await this.props.openReactionPicker();\n  };\n\n  onActionPress = (action) => {\n    switch (action) {\n      case MESSAGE_ACTIONS.edit:\n        this.handleEdit();\n        break;\n      case MESSAGE_ACTIONS.delete:\n        this.handleDelete();\n        break;\n      case MESSAGE_ACTIONS.reply:\n        this.openThread();\n        break;\n      case MESSAGE_ACTIONS.reactions:\n        this.props.openReactionPicker();\n        break;\n      default:\n        break;\n    }\n  };\n\n  render() {\n    const {\n      alignment,\n      message,\n      isMyMessage,\n      readOnly,\n      disabled,\n      Message,\n      ReactionList,\n      handleReaction,\n      hideReactionCount,\n      hideReactionOwners,\n      threadList,\n      retrySendMessage,\n      messageActions,\n      groupStyles,\n      additionalTouchableProps,\n      reactionsEnabled,\n      getTotalReactionCount,\n      repliesEnabled,\n      canEditMessage,\n      canDeleteMessage,\n      MessageHeader,\n      MessageFooter,\n      supportedReactions,\n      openReactionPicker,\n      dismissReactionPicker,\n      reactionPickerVisible,\n      handleAction,\n      AttachmentFileIcon,\n      MessageText,\n      channel,\n      MessageReplies,\n      AttachmentActions,\n      Card,\n      CardHeader,\n      CardCover,\n      CardFooter,\n      UrlPreview,\n      Giphy,\n      Gallery,\n      FileAttachment,\n      FileAttachmentGroup,\n      t,\n      tDateTimeParser,\n      markdownRules,\n    } = this.props;\n\n    const Attachment = this.props.Attachment;\n    const hasAttachment = Boolean(\n      message && message.attachments && message.attachments.length,\n    );\n\n    const showTime = groupStyles[0] === 'single' || groupStyles[0] === 'bottom';\n\n    const hasReactions =\n      reactionsEnabled &&\n      message.latest_reactions &&\n      message.latest_reactions.length > 0;\n\n    const options = [{ id: 'cancel', title: 'Cancel' }];\n    const images =\n      hasAttachment &&\n      message.attachments.filter(\n        (item) =>\n          item.type === 'image' && !item.title_link && !item.og_scrape_url,\n      );\n\n    const files =\n      hasAttachment &&\n      message.attachments.filter((item) => item.type === 'file');\n\n    if (\n      messageActions &&\n      reactionsEnabled &&\n      messageActions.indexOf(MESSAGE_ACTIONS.reactions) > -1\n    ) {\n      options.splice(1, 0, {\n        id: MESSAGE_ACTIONS.reactions,\n        title: t('Add Reaction'),\n      });\n    }\n\n    if (\n      messageActions &&\n      repliesEnabled &&\n      messageActions.indexOf(MESSAGE_ACTIONS.reply) > -1 &&\n      !threadList\n    ) {\n      options.splice(1, 0, { id: MESSAGE_ACTIONS.reply, title: t('Reply') });\n    }\n    if (\n      messageActions &&\n      messageActions.indexOf(MESSAGE_ACTIONS.edit) > -1 &&\n      canEditMessage()\n    )\n      options.splice(1, 0, {\n        id: MESSAGE_ACTIONS.edit,\n        title: t('Edit Message'),\n      });\n\n    if (\n      messageActions &&\n      messageActions.indexOf(MESSAGE_ACTIONS.delete) > -1 &&\n      canDeleteMessage()\n    )\n      options.splice(1, 0, {\n        id: MESSAGE_ACTIONS.delete,\n        title: t('Delete Message'),\n      });\n\n    if (message.deleted_at)\n      return (\n        <DeletedContainer alignment={alignment}>\n          <DeletedText>{t('This message was deleted ...')}</DeletedText>\n        </DeletedContainer>\n      );\n\n    const onLongPress = this.props.onLongPress;\n    const contentProps = {\n      alignment,\n      status: message.status,\n      onPress: this.props.onPress\n        ? this.props.onPress.bind(this, this, message)\n        : this.props.onMessageTouch,\n      onLongPress:\n        onLongPress && !(disabled || readOnly)\n          ? onLongPress.bind(this, this, message)\n          : options.length > 1 && !(disabled || readOnly)\n          ? this.showActionSheet\n          : () => null,\n      activeOpacity: 0.7,\n      disabled: disabled || readOnly,\n      hasReactions,\n      ...additionalTouchableProps,\n    };\n\n    if (message.status === 'failed')\n      contentProps.onPress = retrySendMessage.bind(this, Immutable(message));\n\n    const context = {\n      onLongPress: contentProps.onLongPress,\n      disabled: disabled || readOnly,\n      additionalTouchableProps,\n    };\n\n    return (\n      <MessageContentContext.Provider value={context}>\n        <Container\n          {...contentProps}\n          error={message.type === 'error' || message.status === 'failed'}\n        >\n          {message.type === 'error' ? (\n            <FailedText>{t('ERROR · UNSENT')}</FailedText>\n          ) : null}\n          {message.status === 'failed' ? (\n            <FailedText>{t('Message failed - try again')}</FailedText>\n          ) : null}\n          {reactionsEnabled && ReactionList && (\n            <ReactionPickerWrapper\n              reactionPickerVisible={reactionPickerVisible}\n              handleReaction={handleReaction}\n              hideReactionCount={hideReactionCount}\n              hideReactionOwners={hideReactionOwners}\n              openReactionPicker={openReactionPicker}\n              dismissReactionPicker={dismissReactionPicker}\n              message={message}\n              alignment={alignment}\n              offset={{\n                top: 25,\n                left: 10,\n                right: 10,\n              }}\n              supportedReactions={supportedReactions}\n            >\n              {message.latest_reactions &&\n                message.latest_reactions.length > 0 && (\n                  <ReactionList\n                    alignment={alignment}\n                    visible={!reactionPickerVisible}\n                    latestReactions={message.latest_reactions}\n                    getTotalReactionCount={getTotalReactionCount}\n                    reactionCounts={message.reaction_counts}\n                    supportedReactions={supportedReactions}\n                  />\n                )}\n            </ReactionPickerWrapper>\n          )}\n          {MessageHeader && <MessageHeader {...this.props} />}\n          {/* Reason for collapsible: https://github.com/facebook/react-native/issues/12966 */}\n          <ContainerInner\n            alignment={alignment}\n            ref={(o) => (this.messageContainer = o)}\n            collapsable={false}\n          >\n            {hasAttachment &&\n              message.attachments.map((attachment, index) => {\n                // We handle files separately\n                if (attachment.type === 'file') return null;\n                if (\n                  attachment.type === 'image' &&\n                  !attachment.title_link &&\n                  !attachment.og_scrape_url\n                )\n                  return null;\n                return (\n                  <Attachment\n                    key={`${message.id}-${index}`}\n                    attachment={attachment}\n                    actionHandler={handleAction}\n                    alignment={alignment}\n                    UrlPreview={UrlPreview}\n                    Giphy={Giphy}\n                    Card={Card}\n                    FileAttachment={FileAttachment}\n                    AttachmentActions={AttachmentActions}\n                    CardHeader={CardHeader}\n                    CardCover={CardCover}\n                    CardFooter={CardFooter}\n                  />\n                );\n              })}\n            {files && files.length > 0 && (\n              <FileAttachmentGroup\n                messageId={message.id}\n                files={files}\n                handleAction={handleAction}\n                alignment={alignment}\n                AttachmentFileIcon={AttachmentFileIcon}\n                FileAttachment={FileAttachment}\n                AttachmentActions={AttachmentActions}\n              />\n            )}\n            {images && images.length > 0 && (\n              <Gallery alignment={alignment} images={images} />\n            )}\n            <MessageTextContainer\n              message={message}\n              groupStyles={groupStyles}\n              isMyMessage={isMyMessage}\n              MessageText={MessageText}\n              disabled={message.status === 'failed' || message.type === 'error'}\n              alignment={alignment}\n              Message={Message}\n              openThread={this.openThread}\n              handleReaction={handleReaction}\n              markdownRules={markdownRules}\n            />\n          </ContainerInner>\n          {repliesEnabled ? (\n            <MessageReplies\n              message={message}\n              isThreadList={!!threadList}\n              openThread={this.openThread}\n              alignment={alignment}\n              channel={channel}\n            />\n          ) : null}\n          {MessageFooter && <MessageFooter {...this.props} />}\n          {!MessageFooter && showTime ? (\n            <MetaContainer>\n              <MetaText alignment={alignment}>\n                {this.props.formatDate\n                  ? this.props.formatDate(message.created_at)\n                  : tDateTimeParser(message.created_at).format('LT')}\n              </MetaText>\n            </MetaContainer>\n          ) : null}\n          <ActionSheet\n            ref={(o) => {\n              this.ActionSheet = o;\n            }}\n            title={\n              <ActionSheetTitleContainer>\n                <ActionSheetTitleText>\n                  {t('Choose an action')}\n                </ActionSheetTitleText>\n              </ActionSheetTitleContainer>\n            }\n            options={[\n              ...options.map((o, i) => {\n                if (i === 0) {\n                  return (\n                    <ActionSheetCancelButtonContainer>\n                      <ActionSheetCancelButtonText>\n                        {t('Cancel')}\n                      </ActionSheetCancelButtonText>\n                    </ActionSheetCancelButtonContainer>\n                  );\n                }\n                return (\n                  <ActionSheetButtonContainer key={o.title}>\n                    <ActionSheetButtonText>{o.title}</ActionSheetButtonText>\n                  </ActionSheetButtonContainer>\n                );\n              }),\n            ]}\n            cancelButtonIndex={0}\n            destructiveButtonIndex={0}\n            onPress={(index) => this.onActionPress(options[index].id)}\n            styles={this.props.actionSheetStyles}\n          />\n        </Container>\n      </MessageContentContext.Provider>\n    );\n  }\n}\n\nconst MessageContentWithContext = withTranslationContext(\n  themed(MessageContent),\n);\n\nexport { MessageContentWithContext as MessageContent };\n","const img = require('.//images/loading.gif'); export default img;","const img = require('.//images/icons/delivered_unseen.png'); export default img;","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport loadingGif from '../../images/loading.gif';\nimport iconDeliveredUnseen from '../../images/icons/delivered_unseen.png';\nimport { Avatar } from '../Avatar';\nimport PropTypes from 'prop-types';\n\nconst Spacer = styled.View`\n  height: 10;\n`;\n\nconst StatusContainer = styled.View`\n  width: 20;\n  flex-direction: row;\n  justify-content: center;\n`;\n\nconst DeliveredContainer = styled.View`\n  display: flex;\n  align-items: center;\n  height: 20;\n  ${({ theme }) => theme.message.status.deliveredContainer.css};\n`;\n\nconst DeliveredCircle = styled.View`\n  width: 16;\n  height: 16;\n  border-radius: 16;\n  background-color: ${({ theme }) => theme.colors.primary};\n  align-items: center;\n  justify-content: center;\n  padding: 6px;\n  ${({ theme }) => theme.message.status.deliveredCircle.css};\n`;\n\nconst CheckMark = styled.Image`\n  width: 8;\n  height: 6;\n  ${({ theme }) => theme.message.status.checkMark.css};\n`;\n\nconst SendingContainer = styled.View`\n  display: flex;\n  align-items: center;\n  ${({ theme }) => theme.message.status.sendingContainer.css};\n`;\n\nconst SendingImage = styled.View`\n  height: 10;\n  width: 10;\n  ${({ theme }) => theme.message.status.sendingImage.css};\n`;\n\nconst ReadByContainer = styled.View`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  ${({ theme }) => theme.message.status.readByContainer.css};\n`;\n\nexport const MessageStatus = ({\n  client,\n  readBy,\n  message,\n  lastReceivedId,\n  threadList,\n}) => {\n  const renderStatus = () => {\n    const justReadByMe =\n      readBy.length === 1 && readBy[0] && readBy[0].id === client.user.id;\n\n    if (message.status === 'sending') {\n      return (\n        <SendingContainer>\n          <SendingImage source={loadingGif} />\n        </SendingContainer>\n      );\n    } else if (\n      readBy.length !== 0 &&\n      !threadList &&\n      message.id === lastReceivedId &&\n      !justReadByMe\n    ) {\n      const lastReadUser = readBy.filter(\n        (item) => item.id !== client.user.id,\n      )[0];\n      return (\n        <ReadByContainer>\n          <Avatar\n            name={lastReadUser.name || lastReadUser.id}\n            image={lastReadUser.image}\n            size={16}\n          />\n        </ReadByContainer>\n      );\n    } else if (\n      message.status === 'received' &&\n      message.type !== 'ephemeral' &&\n      message.id === lastReceivedId &&\n      !threadList\n    ) {\n      return (\n        <DeliveredContainer>\n          <DeliveredCircle>\n            <CheckMark source={iconDeliveredUnseen} />\n          </DeliveredCircle>\n        </DeliveredContainer>\n      );\n    } else {\n      return <Spacer />;\n    }\n  };\n\n  return <StatusContainer>{renderStatus()}</StatusContainer>;\n};\n\nMessageStatus.propTypes = {\n  /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n  client: PropTypes.object,\n  /** A list of users who have read the message */\n  readBy: PropTypes.array,\n  /** Current [message object](https://getstream.io/chat/docs/#message_format) */\n  message: PropTypes.object,\n  /** Latest message id on current channel */\n  lastReceivedId: PropTypes.string,\n  /** Boolean if current message is part of thread */\n  isThreadList: PropTypes.bool,\n};\n","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport { withTranslationContext } from '../context';\n\nconst Container = styled.View`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 10;\n  ${({ theme }) => theme.messageList.messageSystem.container.css}\n`;\n\nconst Line = styled.View`\n  flex: 1;\n  height: 0.5;\n  background-color: ${({ theme }) => theme.colors.light};\n  ${({ theme }) => theme.messageList.messageSystem.line.css}\n`;\n\nconst TextContainer = styled.View`\n  margin-top: 10;\n  flex: 3;\n  ${({ theme }) => theme.messageList.messageSystem.textContainer.css}\n`;\n\nconst Text = styled.Text`\n  text-align: center;\n  font-size: 10;\n  font-weight: bold;\n  color: rgba(0, 0, 0, 0.5);\n  ${({ theme }) => theme.messageList.messageSystem.text.css}\n`;\n\nconst DateText = styled.Text`\n  text-align: center;\n  font-size: 10;\n  font-weight: bold;\n  color: rgba(0, 0, 0, 0.5);\n  ${({ theme }) => theme.messageList.messageSystem.dateText.css}\n`;\n\n/**\n * A component to display system message. e.g, when someone updates the channel,\n * they can attach a message with that update. That message will be available\n * in message list as (type) system message.\n */\nconst MessageSystem = ({ message, tDateTimeParser }) => (\n  <Container>\n    <Line />\n    <TextContainer>\n      <Text>{message.text.toUpperCase()}</Text>\n      <DateText>\n        {tDateTimeParser(message.created_at)\n          .calendar()\n          .toUpperCase()}\n      </DateText>\n    </TextContainer>\n    <Line />\n  </Container>\n);\n\nconst MessageSystemWithContext = withTranslationContext(MessageSystem);\nexport { MessageSystemWithContext as MessageSystem };\n","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../../styles/theme';\n\nimport { MessageAvatar as DefaultMessageAvatar } from './MessageAvatar';\nimport { MessageContent as DefaultMessageContent } from './MessageContent';\nimport { MessageStatus as DefaultMessageStatus } from './MessageStatus';\nimport { MessageSystem as DefaultMessageSystem } from '../MessageSystem';\nimport { emojiData } from '../../utils';\n\nimport PropTypes from 'prop-types';\n\nconst Container = styled.View`\n  display: flex;\n  flex-direction: row;\n  align-items: flex-end;\n  justify-content: ${({ alignment }) =>\n    alignment === 'left' ? 'flex-start' : 'flex-end'};\n  margin-bottom: ${({ hasMarginBottom, isVeryLastMessage }) =>\n    hasMarginBottom ? (isVeryLastMessage ? 30 : 20) : 0};\n  ${({ theme }) => theme.message.container.css}\n`;\n\n/**\n *\n * Message UI component\n *\n * @example ../docs/MessageSimple.md\n * @extends Component\n */\n\nexport const MessageSimple = themed(\n  class MessageSimple extends React.PureComponent {\n    static propTypes = {\n      /**\n       * Custom UI component for the avatar next to a message\n       * Defaults to: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/MessageSimple/MessageAvatar.js\n       * */\n      MessageAvatar: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * Custom UI component for message content\n       * Defaults to: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/MessageSimple/MessageContent.js\n       * */\n      MessageContent: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * Custom UI component for message status (delivered/read)\n       * Defaults to: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/MessageSimple/MessageStatus.js\n       *\n       * */\n      MessageStatus: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * Custom UI component for Messages of type \"system\"\n       * Defaults to: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/MessageSystem.js\n       * */\n      MessageSystem: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * Custom UI component to display reaction list.\n       * Defaults to: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/ReactionList.js\n       */\n      ReactionList: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /** Custom UI component for message text */\n      MessageText: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /**\n       * Custom UI component to display enriched url preview.\n       * Defaults to https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/Card.js\n       */\n      UrlPreview: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /**\n       * Custom UI component to display Giphy image.\n       * Defaults to https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/Card.js\n       */\n      Giphy: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /**\n       * Custom UI component to display group of File type attachments or multiple file attachments (in single message).\n       * Defaults to https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileAttachmentGroup.js\n       */\n      FileAttachmentGroup: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * Custom UI component to display File type attachment.\n       * Defaults to https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileAttachment.js\n       */\n      FileAttachment: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * Custom UI component for attachment icon for type 'file' attachment.\n       * Defaults to: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileIcon.js\n       */\n      AttachmentFileIcon: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * Custom UI component to display image attachments.\n       * Defaults to https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/Gallery.js\n       */\n      Gallery: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /**\n       * Custom UI component to display generic media type e.g. giphy, url preview etc\n       * Defaults to https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/Card.js\n       */\n      Card: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /**\n       * Custom UI component to override default header of Card component.\n       * Accepts the same props as Card component.\n       */\n      CardHeader: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /**\n       * Custom UI component to override default cover (between Header and Footer) of Card component.\n       * Accepts the same props as Card component.\n       */\n      CardCover: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /**\n       * Custom UI component to override default Footer of Card component.\n       * Accepts the same props as Card component.\n       */\n      CardFooter: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /**\n       * Custom UI component to display attachment actions. e.g., send, shuffle, cancel in case of giphy\n       * Defaults to https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/AttachmentActions.js\n       */\n      AttachmentActions: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /** enabled reactions, this is usually set by the parent component based on channel configs */\n      reactionsEnabled: PropTypes.bool.isRequired,\n      /** enabled replies, this is usually set by the parent component based on channel configs */\n      repliesEnabled: PropTypes.bool.isRequired,\n      /**\n       * Array of allowed actions on message. e.g. ['edit', 'delete', 'reactions', 'reply']\n       * If all the actions need to be disabled, empty array or false should be provided as value of prop.\n       * */\n      messageActions: PropTypes.oneOfType([PropTypes.bool, PropTypes.array]),\n      /**\n       * Handler to open the thread on message. This is callback for touch event for replies button.\n       *\n       * @param message A message object to open the thread upon.\n       * */\n      onThreadSelect: PropTypes.func,\n      /**\n       * Callback for onPress event on Message component\n       *\n       * @param e       Event object for onPress event\n       * @param message Message object which was pressed\n       *\n       * @deprecated Use onPress instead\n       * */\n      onMessageTouch: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when message is pressed/touched\n       * e.g. if you would like to open reaction picker on message press:\n       *\n       * ```\n       * import { MessageSimple } from 'stream-chat-react-native' // or 'stream-chat-expo'\n       * ...\n       * const MessageUIComponent = (props) => {\n       *  return (\n       *    <MessageSimple\n       *      {...props}\n       *      onPress={(thisArg, message, e) => {\n       *        thisArg.openReactionSelector();\n       *      }}\n       *  )\n       * }\n       * ```\n       *\n       * Similarly, you can also call other methods available on MessageContent\n       * component such as handleEdit, handleDelete, showActionSheet etc.\n       *\n       * Source - [MessageContent](https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/MessageSimple/MessageContent.js)\n       *\n       * @param {Component} thisArg Reference to MessageContent component\n       * @param message Message object which was pressed\n       * @param e       Event object for onPress event\n       * */\n      onPress: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when message is long pressed\n       * e.g. if you would like to open reaction picker on message long press:\n       *\n       * ```\n       * import { MessageSimple } from 'stream-chat-react-native' // or 'stream-chat-expo'\n       * ...\n       * const MessageUIComponent = (props) => {\n       *  return (\n       *    <MessageSimple\n       *      {...props}\n       *      onLongPress={(thisArg, message, e) => {\n       *        thisArg.openReactionSelector();\n       *      }}\n       *  )\n       * }\n       *\n       * Similarly, you can also call other methods available on MessageContent\n       * component such as handleEdit, handleDelete, showActionSheet etc.\n       *\n       * Source - [MessageContent](https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/MessageSimple/MessageContent.js)\n       * ```\n       *\n       * By default we show action sheet with all the message actions on long press.\n       *\n       * @param {Component} thisArg Reference to MessageContent component\n       * @param message Message object which was long pressed\n       * @param e       Event object for onLongPress event\n       * */\n      onLongPress: PropTypes.func,\n      /**\n       * Handler to delete a current message.\n       */\n      handleDelete: PropTypes.func,\n      /**\n       * Handler to edit a current message. This message simply sets current message as value of `editing` property of channel context.\n       * `editing` prop is then used by MessageInput component to switch to edit mode.\n       */\n      handleEdit: PropTypes.func,\n      /** @see See [keyboard context](https://getstream.io/chat/docs/#keyboardcontext) */\n      dismissKeyboard: PropTypes.func,\n      /** Handler for actions. Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands). */\n      handleAction: PropTypes.func,\n      /** Handler resend the message. */\n      handleRetry: PropTypes.func,\n      // enable hiding reaction count from reaction picker\n      hideReactionCount: PropTypes.bool,\n      /** enable hiding reaction owners from reaction picker. */\n      hideReactionOwners: PropTypes.bool,\n      /** Current [message object](https://getstream.io/chat/docs/#message_format) */\n      message: PropTypes.object,\n      /**\n       * Returns true if message (param) belongs to current user, else false\n       *\n       * @param message\n       * */\n      isMyMessage: PropTypes.func,\n      /**\n       * Position of message in group - top, bottom, middle, single.\n       *\n       * Message group is a group of consecutive messages from same user. groupStyles can be used to style message as per their position in message group\n       * e.g., user avatar (to which message belongs to) is only showed for last (bottom) message in group.\n       */\n      groupStyles: PropTypes.array,\n      /** Boolean if current message is part of thread */\n      isThreadList: PropTypes.bool,\n      /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      openThread: PropTypes.func,\n      /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      client: PropTypes.object,\n      /** A list of users who have read the message */\n      readBy: PropTypes.array,\n      /**\n       * Force alignment of message to left or right - 'left' | 'right'\n       * By default, current user's messages will be aligned to right and other user's messages will be aligned to left.\n       * */\n      forceAlign: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n      showMessageStatus: PropTypes.bool,\n      showReactionsList: PropTypes.bool,\n      /** Latest message id on current channel */\n      lastReceivedId: PropTypes.string,\n      /**\n       * Style object for actionsheet (used to message actions).\n       * Supported styles: https://github.com/beefe/react-native-actionsheet/blob/master/lib/styles.js\n       */\n      actionSheetStyles: PropTypes.object,\n      /**\n       * Provide any additional props for `TouchableOpacity` which wraps inner MessageContent component here.\n       * Please check docs for TouchableOpacity for supported props - https://reactnative.dev/docs/touchableopacity#props\n       */\n      additionalTouchableProps: PropTypes.object,\n      formatDate: PropTypes.func,\n      /**\n       * e.g.,\n       * [\n       *  {\n       *    id: 'like',\n       *    icon: '👍',\n       *  },\n       *  {\n       *    id: 'love',\n       *    icon: '❤️️',\n       *  },\n       *  {\n       *    id: 'haha',\n       *    icon: '😂',\n       *  },\n       *  {\n       *    id: 'wow',\n       *    icon: '😮',\n       *  },\n       * ]\n       */\n      supportedReactions: PropTypes.array,\n      /*\n       * @deprecated Please use `disabled` instead.\n       *\n       * Disables the message UI. Which means, message actions, reactions won't work.\n       */\n      readOnly: PropTypes.bool,\n      /** Disables the message UI. Which means, message actions, reactions won't work. */\n      disabled: PropTypes.bool,\n      /** Object specifying rules defined within simple-markdown https://github.com/Khan/simple-markdown#adding-a-simple-extension */\n      markdownRules: PropTypes.object,\n    };\n\n    static defaultProps = {\n      reactionsEnabled: true,\n      repliesEnabled: true,\n      forceAlign: false,\n      showMessageStatus: true,\n      MessageAvatar: DefaultMessageAvatar,\n      MessageContent: DefaultMessageContent,\n      MessageStatus: DefaultMessageStatus,\n      MessageSystem: DefaultMessageSystem,\n      supportedReactions: emojiData,\n    };\n\n    constructor(props) {\n      super(props);\n\n      // State reactionPickerVisible has been lifeted up in MessageSimple component\n      // so that one can use ReactionPickerWrapper component outside MessageContent as well.\n      // This way `Add Reaction` message action can trigger the ReactionPickerWrapper to\n      // open the reaction picker.\n      this.state = {\n        reactionPickerVisible: false,\n      };\n    }\n\n    openReactionPicker = async () => {\n      const { disabled, readOnly } = this.props;\n      if (disabled || readOnly) return;\n      // Keyboard closes automatically whenever modal is opened (currently there is no way of avoiding this afaik)\n      // So we need to postpone the calculation for reaction picker position\n      // until after keyboard is closed completely. To achieve this, we close\n      // the keyboard forcefully and then calculate position of picker in callback.\n      await this.props.dismissKeyboard();\n      this.setState({ reactionPickerVisible: true });\n    };\n\n    dismissReactionPicker = () => {\n      this.setState({ reactionPickerVisible: false });\n    };\n\n    static themePath = 'message';\n\n    render() {\n      const {\n        message,\n        isMyMessage,\n        groupStyles,\n        forceAlign,\n        showMessageStatus,\n        reactionsEnabled,\n        MessageAvatar,\n        MessageContent,\n        MessageStatus,\n        MessageSystem,\n      } = this.props;\n\n      let alignment;\n      if (forceAlign && (forceAlign === 'left' || forceAlign === 'right'))\n        alignment = forceAlign;\n      else alignment = isMyMessage(message) ? 'right' : 'left';\n\n      const lastMessage = this.props.channel.state.messages[\n        this.props.channel.state.messages.length - 1\n      ];\n      const isVeryLastMessage = lastMessage\n        ? lastMessage.id === message.id\n        : false;\n\n      const hasMarginBottom =\n        groupStyles[0] === 'single' || groupStyles[0] === 'bottom'\n          ? true\n          : false;\n\n      if (message.type === 'system') {\n        return (\n          <Container\n            hasMarginBottom={hasMarginBottom}\n            isVeryLastMessage={isVeryLastMessage}\n          >\n            <MessageSystem message={message} />\n          </Container>\n        );\n      }\n\n      const hasReactions =\n        reactionsEnabled &&\n        message.latest_reactions &&\n        message.latest_reactions.length > 0;\n\n      const forwardedProps = {\n        ...this.props,\n        reactionPickerVisible: this.state.reactionPickerVisible,\n        openReactionPicker: this.openReactionPicker,\n        dismissReactionPicker: this.dismissReactionPicker,\n        alignment,\n        groupStyles: hasReactions ? ['bottom'] : groupStyles,\n      };\n\n      return (\n        <Container\n          alignment={alignment}\n          hasMarginBottom={hasMarginBottom}\n          isVeryLastMessage={isVeryLastMessage}\n        >\n          {alignment === 'right' ? (\n            <React.Fragment>\n              <MessageContent {...forwardedProps} />\n              <MessageAvatar {...forwardedProps} />\n              {showMessageStatus && <MessageStatus {...forwardedProps} />}\n            </React.Fragment>\n          ) : (\n            <React.Fragment>\n              <MessageAvatar {...forwardedProps} />\n              <MessageContent {...forwardedProps} />\n            </React.Fragment>\n          )}\n        </Container>\n      );\n    }\n  },\n);\n\nexport { MessageStatus } from './MessageStatus';\nexport { MessageContent } from './MessageContent';\nexport { MessageAvatar } from './MessageAvatar';\nexport { MessageTextContainer } from './MessageTextContainer';\n","import React from 'react';\nimport { TouchableOpacity } from 'react-native';\nimport { Attachment } from './Attachment';\nimport { MessageSimple } from './MessageSimple';\nimport PropTypes from 'prop-types';\nimport deepequal from 'deep-equal';\nimport { withKeyboardContext } from '../context';\nimport { MESSAGE_ACTIONS } from '../utils';\n\n/**\n * Message - A high level component which implements all the logic required for a message.\n * The actual rendering of the message is delegated via the \"Message\" property\n *\n * @example ./docs/Message.md\n * @extends Component\n */\nconst Message = withKeyboardContext(\n  class Message extends React.Component {\n    static themePath = 'message';\n    static extraThemePaths = ['avatar'];\n    constructor(props) {\n      super(props);\n      this.state = {\n        loading: false,\n      };\n    }\n\n    static propTypes = {\n      /** The message object */\n      message: PropTypes.object.isRequired,\n      /** The client connection object for connecting to Stream */\n      client: PropTypes.object.isRequired,\n      /** The current channel this message is displayed in */\n      channel: PropTypes.object.isRequired,\n      /** A list of users that have read this message **/\n      readBy: PropTypes.array,\n      /** groupStyles, a list of styles to apply to this message. ie. top, bottom, single etc */\n      groupStyles: PropTypes.array,\n      /** Editing, if the message is currently being edited */\n      editing: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n      /**\n       * Message UI component to display a message in message list.\n       * Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)\n       * */\n      Message: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /**\n       * Attachment UI component to display attachment in individual message.\n       * Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)\n       * */\n      Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /**\n       * Array of allowed actions on message. e.g. ['edit', 'delete', 'reactions', 'reply']\n       * If all the actions need to be disabled, empty array or false should be provided as value of prop.\n       * */\n      messageActions: PropTypes.oneOfType([PropTypes.bool, PropTypes.array]),\n      /** Latest message id on current channel */\n      lastReceivedId: PropTypes.string,\n      /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      setEditingState: PropTypes.func,\n      /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      updateMessage: PropTypes.func,\n      /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      removeMessage: PropTypes.func,\n      /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      retrySendMessage: PropTypes.func,\n      /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      openThread: PropTypes.func,\n      /** @see See [Keyboard Context](https://getstream.github.io/stream-chat-react-native/#keyboardcontext) */\n      dismissKeyboard: PropTypes.func,\n      /**\n       * Callback for onPress event on Message component\n       *\n       * @param e       Event object for onPress event\n       * @param message Message object which was pressed\n       *\n       * */\n      onMessageTouch: PropTypes.func,\n      /** Should keyboard be dismissed when messaged is touched */\n      dismissKeyboardOnMessageTouch: PropTypes.bool,\n      /**\n       * @deprecated Please use `disabled` instead.\n       *\n       * Disables the message UI. Which means, message actions, reactions won't work.\n       */\n      readOnly: PropTypes.bool,\n      /** Disables the message UI. Which means, message actions, reactions won't work. */\n      disabled: PropTypes.bool,\n    };\n\n    static defaultProps = {\n      Message: MessageSimple,\n      messageActions: Object.keys(MESSAGE_ACTIONS),\n      readBy: [],\n      groupStyles: [],\n      Attachment,\n      editing: false,\n      dismissKeyboardOnMessageTouch: true,\n    };\n\n    shouldComponentUpdate(nextProps) {\n      // since there are many messages its important to only rerender messages when needed.\n      let shouldUpdate = nextProps.message !== this.props.message;\n      // read state is the next most likely thing to change..\n      if (!shouldUpdate && !deepequal(nextProps.readBy, this.props.readBy)) {\n        shouldUpdate = true;\n      }\n      // group style often changes for the last 3 messages...\n      if (\n        !shouldUpdate &&\n        !deepequal(nextProps.groupStyles, this.props.groupStyles)\n      ) {\n        shouldUpdate = true;\n      }\n\n      // if lastreceivedId changes, message should update.\n      if (\n        !shouldUpdate &&\n        !deepequal(nextProps.lastReceivedId, this.props.lastReceivedId)\n      ) {\n        shouldUpdate = true;\n      }\n\n      // editing is the last one which can trigger a change..\n      if (!shouldUpdate && nextProps.editing !== this.props.editing) {\n        shouldUpdate = true;\n      }\n\n      // editing is the last one which can trigger a change..\n      if (!shouldUpdate && nextProps.disabled !== this.props.disabled) {\n        shouldUpdate = true;\n      }\n\n      return shouldUpdate;\n    }\n\n    isMyMessage = (message) => this.props.client.user.id === message.user.id;\n    isAdmin = () =>\n      this.props.client.user.role === 'admin' ||\n      (this.props.channel.state &&\n        this.props.channel.state.membership &&\n        this.props.channel.state.membership.role === 'admin');\n    isOwner = () =>\n      this.props.channel.state &&\n      this.props.channel.state.membership &&\n      this.props.channel.state.membership.role === 'owner';\n    isModerator = () =>\n      this.props.channel.state &&\n      this.props.channel.state.membership &&\n      (this.props.channel.state.membership.role === 'channel_moderator' ||\n        this.props.channel.state.membership.role === 'moderator');\n\n    canEditMessage = () =>\n      this.isMyMessage(this.props.message) ||\n      this.isModerator() ||\n      this.isOwner() ||\n      this.isAdmin();\n\n    canDeleteMessage = () => this.canEditMessage();\n\n    handleFlag = async (event) => {\n      event.preventDefault();\n\n      const message = this.props.message;\n      await this.props.client.flagMessage(message.id);\n    };\n\n    handleMute = async (event) => {\n      event.preventDefault();\n\n      const message = this.props.message;\n      await this.props.client.flagMessage(message.user.id);\n    };\n\n    handleEdit = () => {\n      this.props.setEditingState(this.props.message);\n    };\n\n    handleDelete = async () => {\n      const message = this.props.message;\n      const data = await this.props.client.deleteMessage(message.id);\n      this.props.updateMessage(data.message);\n    };\n\n    handleReaction = async (reactionType, event) => {\n      if (event !== undefined && event.preventDefault) {\n        event.preventDefault();\n      }\n\n      let userExistingReaction = null;\n\n      const currentUser = this.props.client.userID;\n      for (const reaction of this.props.message.own_reactions) {\n        // own user should only ever contain the current user id\n        // just in case we check to prevent bugs with message updates from breaking reactions\n        if (\n          currentUser === reaction.user.id &&\n          reaction.type === reactionType\n        ) {\n          userExistingReaction = reaction;\n        } else if (currentUser !== reaction.user.id) {\n          console.warn(\n            `message.own_reactions contained reactions from a different user, this indicates a bug`,\n          );\n        }\n      }\n\n      const originalMessage = this.props.message;\n      let reactionChangePromise;\n\n      /*\n    - Add the reaction to the local state\n    - Make the API call in the background\n    - If it fails, revert to the old message...\n    */\n      if (userExistingReaction) {\n        this.props.channel.state.removeReaction(userExistingReaction);\n\n        reactionChangePromise = this.props.channel.deleteReaction(\n          this.props.message.id,\n          userExistingReaction.type,\n        );\n      } else {\n        // add the reaction\n        const messageID = this.props.message.id;\n        const tmpReaction = {\n          message_id: messageID,\n          user: this.props.client.user,\n          type: reactionType,\n          created_at: new Date(),\n        };\n        const reaction = { type: reactionType };\n\n        this.props.channel.state.addReaction(tmpReaction);\n        reactionChangePromise = this.props.channel.sendReaction(\n          messageID,\n          reaction,\n        );\n      }\n\n      try {\n        // only wait for the API call after the state is updated\n        await reactionChangePromise;\n      } catch (e) {\n        // revert to the original message if the API call fails\n        this.props.updateMessage(originalMessage);\n      }\n    };\n\n    handleAction = async (name, value, event) => {\n      event.preventDefault();\n      const messageID = this.props.message.id;\n      const formData = {};\n      formData[name] = value;\n\n      const data = await this.props.channel.sendAction(messageID, formData);\n\n      if (data && data.message) {\n        this.props.updateMessage(data.message);\n      } else {\n        this.props.removeMessage(this.props.message);\n      }\n    };\n\n    handleRetry = async (message) => {\n      await this.props.retrySendMessage(message);\n    };\n\n    onMessageTouch = (e, message) => {\n      const {\n        onMessageTouch,\n        dismissKeyboardOnMessageTouch,\n        dismissKeyboard,\n      } = this.props;\n\n      if (onMessageTouch) onMessageTouch(e, message);\n      if (dismissKeyboardOnMessageTouch) dismissKeyboard();\n    };\n\n    getTotalReactionCount = (supportedReactions) => {\n      const { emojiData } = this.props;\n      let count = null;\n      if (!supportedReactions) {\n        supportedReactions = emojiData;\n      }\n\n      const reactionCounts = this.props.message.reaction_counts;\n\n      if (\n        reactionCounts !== null &&\n        reactionCounts !== undefined &&\n        Object.keys(reactionCounts).length > 0\n      ) {\n        count = 0;\n        Object.keys(reactionCounts).map((key) => {\n          if (supportedReactions.find((e) => e.id === key)) {\n            count += reactionCounts[key];\n          }\n\n          return count;\n        });\n      }\n      return count;\n    };\n\n    render() {\n      const message = this.props.message;\n\n      const actionsEnabled =\n        message.type === 'regular' && message.status === 'received';\n\n      const Component = this.props.Message;\n      const actionProps = {};\n\n      if (this.props.channel && this.props.channel.getConfig()) {\n        actionProps.reactionsEnabled = this.props.channel.getConfig().reactions;\n        actionProps.repliesEnabled = this.props.channel.getConfig().reactions;\n      }\n\n      return (\n        <TouchableOpacity\n          onPress={(e) => {\n            this.onMessageTouch(e, message);\n          }}\n          activeOpacity={1}\n        >\n          <Component\n            {...this.props}\n            {...actionProps}\n            client={this.props.client}\n            channel={this.props.channel}\n            actionsEnabled={actionsEnabled}\n            Message={this}\n            onMessageTouch={(e) => {\n              this.onMessageTouch(e, message);\n            }}\n            handleReaction={this.handleReaction}\n            getTotalReactionCount={this.getTotalReactionCount}\n            handleFlag={this.handleFlag}\n            handleMute={this.handleMute}\n            handleAction={this.handleAction}\n            handleRetry={this.handleRetry}\n            isMyMessage={this.isMyMessage}\n            isAdmin={this.isAdmin}\n            isModerator={this.isModerator}\n            canEditMessage={this.canEditMessage}\n            canDeleteMessage={this.canDeleteMessage}\n            handleEdit={this.handleEdit}\n            handleDelete={this.handleDelete}\n            openThread={\n              this.props.openThread && this.props.openThread.bind(this, message)\n            }\n          />\n        </TouchableOpacity>\n      );\n    }\n  },\n);\n\nexport { Message };\n","import React, { PureComponent } from 'react';\nimport { Animated } from 'react-native';\nimport PropTypes from 'prop-types';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\nimport { withTranslationContext } from '../context';\n\nconst Container = styled.TouchableOpacity`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 27px;\n  width: 112px;\n  z-index: 10;\n  margin-bottom: 0;\n  border-radius: 13px;\n  background-color: ${({ theme }) => theme.colors.primary};\n  transform: translateY(9px);\n  ${({ theme }) => theme.messageList.messageNotification.container.css}\n`;\n\nconst MessageNotificationText = styled.Text`\n  color: white;\n  font-size: 12px;\n  font-weight: 600;\n  ${({ theme }) => theme.messageList.messageNotification.text.css}\n`;\n/**\n * @example ./docs/MessageNotification.md\n * @extends PureComponent\n */\nclass MessageNotification extends PureComponent {\n  static themePath = 'messageList.messageNotification';\n  constructor(props) {\n    super(props);\n    this.state = {\n      notificationOpacity: new Animated.Value(0),\n    };\n  }\n  static propTypes = {\n    /** If we should show the notification or not */\n    showNotification: PropTypes.bool,\n    /** Onclick handler */\n    onPress: PropTypes.func.isRequired,\n  };\n\n  static defaultProps = {\n    showNotification: true,\n  };\n\n  componentDidMount() {\n    Animated.timing(this.state.notificationOpacity, {\n      toValue: this.props.showNotification ? 1 : 0,\n      duration: 500,\n      useNativeDriver: true,\n    }).start();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.showNotification !== this.props.showNotification) {\n      Animated.timing(this.state.notificationOpacity, {\n        toValue: this.props.showNotification ? 1 : 0,\n        duration: 500,\n        useNativeDriver: true,\n      }).start();\n    }\n  }\n\n  render() {\n    const { t } = this.props;\n\n    if (!this.props.showNotification) {\n      return null;\n    } else {\n      return (\n        <Animated.View\n          style={{\n            position: 'absolute',\n            bottom: 0,\n            opacity: this.state.notificationOpacity,\n          }}\n        >\n          <Container onPress={this.props.onPress}>\n            <MessageNotificationText>\n              {t('New Messages')}\n            </MessageNotificationText>\n          </Container>\n        </Animated.View>\n      );\n    }\n  }\n}\n\nconst MessageNotificationWithContext = withTranslationContext(\n  themed(MessageNotification),\n);\nexport { MessageNotificationWithContext as MessageNotification };\n","import React from 'react';\nimport { View, FlatList, findNodeHandle } from 'react-native';\n\nimport { SuggestionsContext } from '../context';\n\nimport styled from '@stream-io/styled-components';\nimport PropTypes from 'prop-types';\n\nconst Wrapper = styled.TouchableOpacity`\n  position: absolute;\n  z-index: 90;\n  height: ${({ height }) => height};\n  width: 100%;\n  ${({ theme }) => theme.messageInput.suggestions.wrapper.css}\n`;\n\nconst Container = styled.View`\n  position: absolute;\n  bottom: 10;\n  background-color: white;\n  z-index: 100;\n  border-top-left-radius: 10;\n  border-top-right-radius: 10;\n  width: ${({ width }) => width};\n  margin-left: ${({ marginLeft }) => marginLeft};\n  shadow-color: #000;\n  shadow-opacity: 0.05;\n  shadow-offset: 0px -3px;\n  height: ${({ theme, length }) =>\n    Math.min(\n      length * theme.messageInput.suggestions.container.itemHeight,\n      theme.messageInput.suggestions.container.maxHeight,\n    )};\n  ${({ theme }) => theme.messageInput.suggestions.container.css};\n`;\n\nconst Title = styled.Text`\n  padding: 10px;\n  font-weight: bold;\n  height: ${({ theme }) => theme.messageInput.suggestions.container.itemHeight};\n  ${({ theme }) => theme.messageInput.suggestions.title.css};\n`;\n\nconst Separator = styled.View`\n  height: 0;\n  ${({ theme }) => theme.messageInput.suggestions.separator.css};\n`;\n\nconst SuggestionsItem = styled.TouchableOpacity`\n  justify-content: center;\n  height: ${({ theme }) => theme.messageInput.suggestions.container.itemHeight};\n  ${({ theme }) => theme.messageInput.suggestions.item.css};\n`;\n\nexport class SuggestionsProvider extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      suggestionsViewActive: false,\n      suggestionsBottomMargin: 0,\n      suggestionsLeftMargin: 0,\n      suggestions: {},\n      suggestionsWidth: 0,\n      suggestionsBackdropHeight: 0,\n      suggestionsTitle: '',\n      component: null,\n    };\n  }\n\n  openSuggestions = async (title, component) => {\n    const [inputBoxPosition, chatBoxPosition] = await Promise.all([\n      this.getInputBoxPosition(),\n      this.getChatBoxPosition(),\n    ]);\n\n    this.setState({\n      suggestionsBottomMargin: chatBoxPosition.height - inputBoxPosition.y,\n      suggestionsLeftMargin: inputBoxPosition.x,\n      suggestionsWidth: inputBoxPosition.width,\n      suggestionsViewActive: true,\n      suggestionsBackdropHeight: inputBoxPosition.y,\n      suggestionsTitle: title,\n      component,\n    });\n  };\n\n  updateSuggestions = (suggestions) => {\n    this.setState({\n      suggestions,\n      suggestionsViewActive: !!this.state.component,\n    });\n  };\n\n  closeSuggestions = () => {\n    this.setState({\n      suggestionsViewActive: false,\n      suggestionsTitle: '',\n      component: null,\n    });\n  };\n\n  dismissSuggestionsList = () => {\n    this.setState({\n      suggestionsViewActive: false,\n    });\n  };\n\n  setInputBoxContainerRef = (o) => {\n    this.messageInputBox = o;\n  };\n\n  getInputBoxPosition = () =>\n    new Promise((resolve) => {\n      const nodeHandleRoot = findNodeHandle(this.rootView);\n      this.messageInputBox.measureLayout(\n        nodeHandleRoot,\n        (x, y, width, height) => {\n          resolve({ x, y, height, width });\n        },\n      );\n    });\n\n  getChatBoxPosition = () =>\n    new Promise((resolve) => {\n      const nodeHandleRoot = findNodeHandle(this.rootView);\n      this.rootView.measureLayout(nodeHandleRoot, (x, y, width, height) => {\n        resolve({ x, y, height, width });\n      });\n    });\n\n  setRootView = (o) => {\n    this.rootView = o;\n  };\n\n  getContext = () => ({\n    setInputBoxContainerRef: this.setInputBoxContainerRef,\n    openSuggestions: this.openSuggestions,\n    closeSuggestions: this.closeSuggestions,\n    updateSuggestions: this.updateSuggestions,\n  });\n\n  render() {\n    return (\n      <SuggestionsContext.Provider value={this.getContext()}>\n        {/** TODO: Support dynamic item view for different type of suggestions */}\n        <SuggestionsView\n          component={this.state.component}\n          suggestions={this.state.suggestions}\n          active={this.state.suggestionsViewActive}\n          marginBottom={this.state.suggestionsBottomMargin}\n          marginLeft={this.state.suggestionsLeftMargin}\n          width={this.state.suggestionsWidth}\n          backdropHeight={this.state.suggestionsBackdropHeight}\n          handleDismiss={this.dismissSuggestionsList}\n          suggestionsTitle={this.state.suggestionsTitle}\n        />\n        <View\n          ref={this.setRootView}\n          collapsable={false}\n          style={{ height: '100%' }}\n        >\n          {this.props.children}\n        </View>\n      </SuggestionsContext.Provider>\n    );\n  }\n}\n\nclass SuggestionsView extends React.PureComponent {\n  constructor(props) {\n    super(props);\n  }\n\n  static propTypes = {\n    active: PropTypes.bool,\n    marginLeft: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    suggestions: PropTypes.object,\n    backdropHeight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    handleDismiss: PropTypes.func,\n    suggestionsTitle: PropTypes.string,\n  };\n  renderHeader = () => <SuggestionsHeader />;\n  renderItem = ({ item }) => {\n    const {\n      suggestions: { onSelect },\n      component: Component,\n    } = this.props;\n\n    return (\n      <SuggestionsItem\n        onPress={() => {\n          onSelect(item);\n        }}\n      >\n        <Component item={item} />\n      </SuggestionsItem>\n    );\n  };\n\n  render() {\n    const {\n      active,\n      marginLeft,\n      width,\n      suggestions: { data },\n      backdropHeight,\n      handleDismiss,\n      suggestionsTitle,\n    } = this.props;\n\n    if (!active) return null;\n    if (!data || data.length === 0) return null;\n    return (\n      <Wrapper height={backdropHeight} onPress={handleDismiss}>\n        <Container\n          width={width}\n          length={data.length + 1}\n          marginLeft={marginLeft}\n        >\n          <FlatList\n            ListHeaderComponent={<SuggestionsHeader title={suggestionsTitle} />}\n            ItemSeparatorComponent={SuggestionsSeparator}\n            data={data}\n            keyboardShouldPersistTaps=\"always\"\n            renderItem={this.renderItem}\n            keyExtractor={(item, index) => (item.name || item.id) + index}\n          />\n        </Container>\n      </Wrapper>\n    );\n  }\n}\n\nconst SuggestionsHeader = ({ title }) => <Title>{title}</Title>;\n\nconst SuggestionsSeparator = () => <Separator />;\n","const fail = () => {\n  throw Error(\n    'Native handler was not registered, you should import stream-chat-expo or stream-chat-react-native',\n  );\n};\nexport let NetInfo = {\n  fetch: fail,\n  addEventListener: fail,\n};\nexport let pickImage = fail;\nexport let pickDocument = fail;\n\nexport const registerNativeHandlers = (handlers) => {\n  if (handlers.NetInfo) {\n    NetInfo = handlers.NetInfo;\n  }\n\n  if (handlers.pickImage) {\n    pickImage = handlers.pickImage;\n  }\n\n  if (handlers.pickDocument) {\n    pickDocument = handlers.pickDocument;\n  }\n};\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { ChatContext, TranslationContext } from '../context';\nimport { NetInfo } from '../native';\n\nimport { themed } from '../styles/theme';\nimport { Streami18n } from '../utils/Streami18n';\n/**\n * Chat - Wrapper component for Chat. The needs to be placed around any other chat components.\n * This Chat component provides the ChatContext to all other components.\n *\n * The ChatContext provides the following props:\n *\n * - client (the client connection)\n * - channels (the list of channels)\n * - setActiveChannel (a function to set the currently active channel)\n * - channel (the currently active channel)\n *\n * It also exposes the withChatContext HOC which you can use to consume the ChatContext\n *\n * @example ./docs/Chat.md\n * @extends PureComponent\n */\n\nexport const Chat = themed(\n  class Chat extends PureComponent {\n    static themePath = '';\n    static propTypes = {\n      /** The StreamChat client object */\n      client: PropTypes.object.isRequired,\n      /**\n       * Theme object\n       *\n       * @ref https://getstream.io/chat/react-native-chat/tutorial/#custom-styles\n       * */\n      style: PropTypes.object,\n      logger: PropTypes.func,\n      /**\n       * Instance of Streami18n class should be provided to Chat component to enable internationalization.\n       *\n       * Stream provides following list of in-built translations:\n       * 1. English (en)\n       * 2. Dutch (nl)\n       * 3. ...\n       * 4. ...\n       *\n       * Simplest way to start using chat components in one of the in-built languages would be following:\n       *\n       * ```\n       * const i18n = new Streami18n('nl);\n       * <Chat client={chatClient} i18nInstance={i18n}>\n       *  ...\n       * </Chat>\n       * ```\n       *\n       * If you would like to override certain keys in in-built translation.\n       * UI will be automatically updated in this case.\n       *\n       * ```\n       * const i18n = new Streami18n('nl);\n       *\n       * i18n.registerTranslation('nl', {\n       *  'Nothing yet...': 'Nog Niet ...',\n       *  '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} en {{ secondUser }} zijn aan het typen...',\n       * });\n       *\n       * <Chat client={chatClient} i18nInstance={i18n}>\n       *  ...\n       * </Chat>\n       * ```\n       *\n       * You can use the same function to add whole new language.\n       *\n       * ```\n       * const i18n = new Streami18n('it');\n       *\n       * i18n.registerTranslation('it', {\n       *  'Nothing yet...': 'Non ancora ...',\n       *  '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} a {{ secondUser }} stanno scrivendo...',\n       * });\n       *\n       * // Make sure to call setLanguage to reflect new language in UI.\n       * i18n.setLanguage('it');\n       * <Chat client={chatClient} i18nInstance={i18n}>\n       *  ...\n       * </Chat>\n       * ```\n       */\n      i18nInstance: PropTypes.instanceOf(Streami18n),\n    };\n\n    static defaultProps = {\n      logger: () => {},\n    };\n\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        // currently active channel\n        channel: {},\n        isOnline: true,\n        connectionRecovering: false,\n        t: null,\n      };\n\n      this.unsubscribeNetInfo = null;\n      this.setConnectionListener();\n\n      this.props.client.on('connection.changed', (event) => {\n        if (this._unmounted) return;\n        this.setState({\n          isOnline: event.online,\n          connectionRecovering: !event.online,\n        });\n      });\n\n      this.props.client.on('connection.recovered', () => {\n        if (this._unmounted) return;\n        this.setState({ connectionRecovering: false });\n      });\n\n      this._unmounted = false;\n    }\n\n    async componentDidMount() {\n      this.props.logger('Chat component', 'componentDidMount', {\n        tags: ['lifecycle', 'chat'],\n        props: this.props,\n        state: this.state,\n      });\n\n      const { i18nInstance } = this.props;\n\n      let streami18n;\n      if (i18nInstance && i18nInstance instanceof Streami18n) {\n        streami18n = i18nInstance;\n      } else {\n        streami18n = new Streami18n({ language: 'en' });\n      }\n\n      streami18n.registerSetLanguageCallback((t) => {\n        this.setState({ t });\n      });\n\n      const { t, tDateTimeParser } = await streami18n.getTranslators();\n      this.setState({ t, tDateTimeParser });\n    }\n\n    componentDidUpdate() {\n      this.props.logger('Chat component', 'componentDidUpdate', {\n        tags: ['lifecycle', 'chat'],\n        props: this.props,\n        state: this.state,\n      });\n    }\n\n    componentWillUnmount() {\n      this.props.logger('Chat component', 'componentWillUnmount', {\n        tags: ['lifecycle', 'chat'],\n        props: this.props,\n        state: this.state,\n      });\n\n      this._unmounted = true;\n      this.props.client.off('connection.recovered');\n      this.props.client.off('connection.changed');\n      this.unsubscribeNetInfo && this.unsubscribeNetInfo();\n    }\n\n    notifyChatClient = (isConnected) => {\n      if (this.props.client != null && this.props.client.wsConnection != null) {\n        if (isConnected) {\n          this.props.client.wsConnection.onlineStatusChanged({\n            type: 'online',\n          });\n        } else {\n          this.props.client.wsConnection.onlineStatusChanged({\n            type: 'offline',\n          });\n        }\n      }\n    };\n\n    setConnectionListener = () => {\n      NetInfo.fetch().then((isConnected) => {\n        this.notifyChatClient(isConnected);\n      });\n      this.unsubscribeNetInfo = NetInfo.addEventListener((isConnected) => {\n        this.notifyChatClient(isConnected);\n      });\n    };\n\n    setActiveChannel = (channel) => {\n      this.props.logger('Chat component', 'setActiveChannel', {\n        tags: ['chat'],\n        props: this.props,\n        state: this.state,\n      });\n\n      if (this._unmounted) return;\n      this.setState(() => ({\n        channel,\n      }));\n    };\n\n    getContext = () => ({\n      client: this.props.client,\n      channel: this.state.channel,\n      setActiveChannel: this.setActiveChannel,\n      isOnline: this.state.isOnline,\n      connectionRecovering: this.state.connectionRecovering,\n      logger: this.props.logger,\n    });\n\n    render() {\n      this.props.logger('Chat component', 'Rerendering', {\n        props: this.props,\n        state: this.state,\n      });\n\n      if (!this.state.t) return null;\n\n      return (\n        <ChatContext.Provider value={this.getContext()}>\n          <TranslationContext.Provider\n            value={{\n              t: this.state.t,\n              tDateTimeParser: this.state.tDateTimeParser,\n            }}\n          >\n            {this.props.children}\n          </TranslationContext.Provider>\n        </ChatContext.Provider>\n      );\n    }\n  },\n);\n","import React, { PureComponent } from 'react';\nimport { View, Text } from 'react-native';\nimport { ChannelContext, withTranslationContext } from '../context';\nimport { SuggestionsProvider } from './SuggestionsProvider';\n\nimport uuidv4 from 'uuid/v4';\nimport PropTypes from 'prop-types';\nimport Immutable from 'seamless-immutable';\nimport debounce from 'lodash/debounce';\nimport throttle from 'lodash/throttle';\nimport { emojiData } from '../utils';\n\nimport { LoadingIndicator } from './LoadingIndicator';\nimport { LoadingErrorIndicator } from './LoadingErrorIndicator';\nimport { EmptyStateIndicator } from './EmptyStateIndicator';\nimport { logChatPromiseExecution } from 'stream-chat';\n\n/**\n * This component is not really exposed externally, and is only supposed to be used with\n * 'Channel' component (which is actually exposed to customers).\n */\nclass ChannelInner extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = this.getInitialStateFromProps(props);\n    // hard limit to prevent you from scrolling faster than 1 page per 2 seconds\n    this._loadMoreFinishedDebounced = debounce(this.loadMoreFinished, 2000, {\n      leading: true,\n      trailing: true,\n    });\n\n    this._loadMoreThrottled = throttle(this.loadMore, 2000, {\n      leading: true,\n      trailing: true,\n    });\n\n    // hard limit to prevent you from scrolling faster than 1 page per 2 seconds\n    this._loadMoreThreadFinishedDebounced = debounce(\n      this.loadMoreThreadFinished,\n      2000,\n      {\n        leading: true,\n        trailing: true,\n      },\n    );\n\n    this._setStateThrottled = throttle(this.setState, 500, {\n      leading: true,\n      trailing: true,\n    });\n\n    this._markReadThrottled = throttle(this.markRead, 500, {\n      leading: true,\n      trailing: true,\n    });\n\n    this.messageInputBox = false;\n\n    this.props.logger('Channel component', 'Constructor', {\n      props: this.props,\n      state: this.state,\n    });\n  }\n\n  static propTypes = {\n    /** Which channel to connect to */\n    channel: PropTypes.shape({\n      watch: PropTypes.func,\n    }).isRequired,\n    /** Client is passed via the Chat Context */\n    client: PropTypes.object.isRequired,\n    /** The loading indicator to use */\n    LoadingIndicator: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    /** The indicator to use when there is error  */\n    LoadingErrorIndicator: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    /** The indicator to use when message list is empty */\n    EmptyStateIndicator: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    isOnline: PropTypes.bool,\n    Message: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /**\n     * Override mark channel read request (Advanced usage only)\n     *\n     * @param channel Channel object\n     * */\n    doMarkReadRequest: PropTypes.func,\n    /**\n     * Override send message request (Advanced usage only)\n     *\n     * @param channelId\n     * @param messageData Message object\n     * */\n    doSendMessageRequest: PropTypes.func,\n    /**\n     * Override update message request (Advanced usage only)\n     * @param channelId\n     * @param updatedMessage UpdatedMessage object\n     * */\n    doUpdateMessageRequest: PropTypes.func,\n    /** Disables the channel UI if channel is frozen */\n    disableIfFrozenChannel: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    LoadingIndicator,\n    LoadingErrorIndicator,\n    EmptyStateIndicator,\n    emojiData,\n    logger: () => {},\n  };\n\n  async componentDidUpdate(prevProps) {\n    this.props.logger('Channel component', 'componentDidUpdate', {\n      tags: ['lifecycle', 'channel'],\n      props: this.props,\n      state: this.state,\n    });\n\n    if (this.props.isOnline !== prevProps.isOnline) {\n      if (this._unmounted) return;\n      this.setState({ online: this.props.isOnline });\n    }\n\n    if (this.props.channel.id !== prevProps.channel.id) {\n      const resetState = this.getInitialStateFromProps(this.props);\n      this.setState(resetState);\n      await this.initChannel();\n    }\n  }\n\n  getInitialStateFromProps(props) {\n    return {\n      error: false,\n      // Loading the initial content of the channel\n      loading: true,\n      // Loading more messages\n      loadingMore: false,\n      hasMore: true,\n      messages: Immutable([]),\n      online: props.isOnline,\n      typing: Immutable({}),\n      watchers: Immutable({}),\n      members: Immutable({}),\n      read: Immutable({}),\n      thread: props.thread,\n      threadMessages: [],\n      threadLoadingMore: false,\n      threadHasMore: true,\n      /** We save the events in state so that we can display event message\n       * next to the message after which it was received, in MessageList.\n       *\n       * e.g., eventHistory = {\n       *   message_id_1: [\n       *     { ...event_obj_received_after_message_id_1__1 },\n       *     { ...event_obj_received_after_message_id_1__2 },\n       *     { ...event_obj_received_after_message_id_1__3 },\n       *   ],\n       *   message_id_2: [\n       *     { ...event_obj_received_after_message_id_2__1 },\n       *     { ...event_obj_received_after_message_id_2__2 },\n       *     { ...event_obj_received_after_message_id_2__3 },\n       *   ]\n       * }\n       */\n      eventHistory: {},\n    };\n  }\n\n  async initChannel() {\n    const channel = this.props.channel;\n    let errored = false;\n    if (!channel.initialized) {\n      try {\n        await channel.watch();\n      } catch (e) {\n        if (this._unmounted) return;\n        this.setState({ error: e });\n        errored = true;\n      }\n    }\n\n    this.lastRead = new Date();\n    if (!errored) {\n      this.copyChannelState();\n      this.listenToChanges();\n    }\n  }\n\n  async componentDidMount() {\n    this.props.logger('Channel component', 'componentDidMount', {\n      tags: ['lifecycle', 'channel'],\n      props: this.props,\n      state: this.state,\n    });\n    await this.initChannel();\n  }\n\n  componentWillUnmount() {\n    this.props.logger('Channel component', 'componentWillUnmount', {\n      tags: ['lifecycle', 'channel'],\n      props: this.props,\n      state: this.state,\n    });\n\n    this.props.channel.off(this.handleEvent);\n    this.props.client.off('connection.recovered', this.handleEvent);\n\n    this._loadMoreFinishedDebounced.cancel();\n    this._loadMoreThreadFinishedDebounced.cancel();\n    this._setStateThrottled.cancel();\n    this._unmounted = true;\n  }\n\n  copyChannelState() {\n    const channel = this.props.channel;\n\n    if (this._unmounted) return;\n    this.setState({\n      messages: channel.state.messages,\n      read: channel.state.read,\n      watchers: channel.state.watchers,\n      members: channel.state.members,\n      watcher_count: channel.state.watcher_count,\n      loading: false,\n      typing: Immutable({}),\n    });\n\n    if (channel.countUnread() > 0) this.markRead();\n  }\n\n  markRead = () => {\n    if (\n      this.props.channel.disconnected ||\n      !this.props.channel.getConfig().read_events\n    ) {\n      return;\n    }\n\n    const { doMarkReadRequest, channel } = this.props;\n\n    if (doMarkReadRequest) {\n      doMarkReadRequest(channel);\n    } else {\n      logChatPromiseExecution(channel.markRead(), 'mark read');\n    }\n  };\n\n  listenToChanges() {\n    // The more complex sync logic is done in chat.js\n    // listen to client.connection.recovered and all channel events\n    this.props.client.on('connection.recovered', this.handleEvent);\n    const channel = this.props.channel;\n    channel.on(this.handleEvent);\n  }\n\n  openThread = (message) => {\n    const channel = this.props.channel;\n    const threadMessages = channel.state.threads[message.id] || [];\n\n    if (this._unmounted) return;\n    this.setState({\n      thread: message,\n      threadMessages,\n    });\n  };\n\n  loadMoreThread = async () => {\n    // prevent duplicate loading events...\n    if (this.state.threadLoadingMore) return;\n    if (this._unmounted) return;\n    this.setState({\n      threadLoadingMore: true,\n    });\n    const channel = this.props.channel;\n    const parentID = this.state.thread.id;\n    const oldMessages = channel.state.threads[parentID] || [];\n    const oldestMessageID = oldMessages[0] ? oldMessages[0].id : null;\n    const limit = 50;\n    const queryResponse = await channel.getReplies(parentID, {\n      limit,\n      id_lt: oldestMessageID,\n    });\n    const hasMore = queryResponse.messages.length === limit;\n\n    const threadMessages = channel.state.threads[parentID] || [];\n\n    // next set loadingMore to false so we can start asking for more data...\n    this._loadMoreThreadFinishedDebounced(hasMore, threadMessages);\n  };\n\n  loadMoreThreadFinished = (threadHasMore, threadMessages) => {\n    if (this._unmounted) return;\n    this.setState({\n      threadLoadingMore: false,\n      threadHasMore,\n      threadMessages,\n    });\n  };\n\n  closeThread = () => {\n    if (this._unmounted) return;\n    this.setState({\n      thread: null,\n      threadMessages: [],\n    });\n  };\n\n  setEditingState = (message) => {\n    if (this._unmounted) return;\n    this.setState({\n      editing: message,\n    });\n  };\n\n  updateMessage = (updatedMessage, extraState) => {\n    const channel = this.props.channel;\n\n    extraState = extraState || {};\n\n    // adds the message to the local channel state..\n    // this adds to both the main channel state as well as any reply threads\n    channel.state.addMessageSorted(updatedMessage);\n\n    // update the Channel component state\n    if (this.state.thread && updatedMessage.parent_id) {\n      extraState.threadMessages =\n        channel.state.threads[updatedMessage.parent_id] || [];\n    }\n    if (this._unmounted) return;\n    this.setState({ messages: channel.state.messages, ...extraState });\n  };\n\n  clearEditingState = () => {\n    if (this._unmounted) return;\n    this.setState({\n      editing: false,\n    });\n  };\n  removeMessage = (message) => {\n    const channel = this.props.channel;\n    channel.state.removeMessage(message);\n    if (this._unmounted) return;\n    this.setState({ messages: channel.state.messages });\n  };\n\n  removeEphemeralMessages() {\n    const c = this.props.channel;\n    c.state.selectRegularMessages();\n    if (this._unmounted) return;\n    this.setState({ messages: c.state.messages });\n  }\n\n  createMessagePreview = (\n    text,\n    attachments,\n    parent,\n    mentioned_users,\n    extraFields,\n  ) => {\n    // create a preview of the message\n    const clientSideID = `${this.props.client.userID}-` + uuidv4();\n    const message = {\n      text,\n      html: text,\n      __html: text,\n      //id: tmpID,\n      id: clientSideID,\n      type: 'regular',\n      status: 'sending',\n      user: {\n        id: this.props.client.userID,\n        ...this.props.client.user,\n      },\n      created_at: new Date(),\n      attachments,\n      mentioned_users,\n      reactions: [],\n      ...extraFields,\n    };\n\n    if (parent && parent.id) {\n      message.parent_id = parent.id;\n    }\n    return message;\n  };\n\n  // eslint-disable-next-line require-await\n  editMessage = async (updatedMessage) => {\n    if (this.props.doUpdateMessageRequest) {\n      return Promise.resolve(\n        this.props.doUpdateMessageRequest(\n          this.props.channel.cid,\n          updatedMessage,\n        ),\n      );\n    }\n\n    return this.props.client.updateMessage(updatedMessage);\n  };\n\n  _sendMessage = async (message) => {\n    // Scrape the reserved fields if present.\n    const {\n      text,\n      attachments,\n      id,\n      parent_id,\n      mentioned_users,\n      html,\n      __html,\n      type,\n      status,\n      user,\n      created_at,\n      reactions,\n      ...extraFields\n    } = message;\n\n    const messageData = {\n      text,\n      attachments,\n      id,\n      parent_id,\n      mentioned_users,\n      ...extraFields,\n    };\n\n    try {\n      let messageResponse;\n      if (this.props.doSendMessageRequest) {\n        messageResponse = await this.props.doSendMessageRequest(\n          this.props.channel.cid,\n          messageData,\n        );\n      } else {\n        messageResponse = await this.props.channel.sendMessage(messageData);\n      }\n\n      // replace it after send is completed\n      if (messageResponse.message) {\n        messageResponse.message.status = 'received';\n        this.updateMessage(messageResponse.message);\n      }\n    } catch (error) {\n      console.log(error);\n      // set the message to failed..\n      message.status = 'failed';\n      this.updateMessage(message);\n    }\n  };\n\n  sendMessage = async ({\n    text,\n    attachments = [],\n    parent,\n    mentioned_users,\n    ...extraFields\n  }) => {\n    // remove error messages upon submit\n    this.props.channel.state.filterErrorMessages();\n\n    // create a local preview message to show in the UI\n    const messagePreview = this.createMessagePreview(\n      text,\n      attachments,\n      parent,\n      mentioned_users,\n      extraFields,\n    );\n\n    // first we add the message to the UI\n    this.updateMessage(messagePreview, {\n      messageInput: '',\n      commands: [],\n      userAutocomplete: [],\n    });\n\n    await this._sendMessage(messagePreview);\n  };\n\n  retrySendMessage = async (message) => {\n    // set the message status to sending\n    message = message.asMutable();\n    message.status = 'sending';\n    this.updateMessage(message);\n    // actually try to send the message...\n    await this._sendMessage(message);\n  };\n\n  handleEvent = (e) => {\n    const { channel } = this.props;\n    let threadMessages = [];\n    const threadState = {};\n    if (this.state.thread) {\n      threadMessages =\n        channel.state.threads[this.state.thread.id] ||\n        this.state.threadMessages;\n      threadState['threadMessages'] = threadMessages;\n    }\n\n    if (\n      this.state.thread &&\n      e.message &&\n      e.message.id === this.state.thread.id\n    ) {\n      threadState['thread'] = channel.state.messageToImmutable(e.message);\n    }\n\n    if (Object.keys(threadState).length > 0) {\n      // TODO: in theory we should do 1 setState call not 2,\n      // However the setStateThrottled doesn't support this\n      if (this._unmounted) return;\n      this.setState(threadState);\n    }\n\n    if (e.type === 'member.added') {\n      this.addToEventHistory(e);\n    }\n\n    if (e.type === 'member.removed') {\n      this.addToEventHistory(e);\n    }\n    this._setStateThrottled({\n      messages: channel.state.messages,\n      watchers: channel.state.watchers,\n      read: channel.state.read,\n      typing: channel.state.typing,\n      watcher_count: channel.state.watcher_count,\n    });\n  };\n\n  addToEventHistory = (e) => {\n    this.setState((prevState) => {\n      const lastMessageId =\n        prevState.messages.length > 0\n          ? prevState.messages[prevState.messages.length - 1].id\n          : 'none';\n\n      if (!prevState.eventHistory[lastMessageId])\n        return {\n          ...prevState,\n          eventHistory: {\n            ...prevState.eventHistory,\n            [lastMessageId]: [e],\n          },\n        };\n\n      return {\n        ...prevState,\n        eventHistory: {\n          ...prevState.eventHistory,\n          [lastMessageId]: [...prevState.eventHistory[lastMessageId], e],\n        },\n      };\n    });\n  };\n\n  loadMore = async () => {\n    // prevent duplicate loading events...\n    if (this.state.loadingMore || !this.state.hasMore) return;\n    if (this._unmounted) return;\n    this.setState({ loadingMore: true });\n\n    if (!this.state.messages.length === 0) {\n      this.setState({\n        loadingMore: false,\n      });\n\n      return;\n    }\n\n    const oldestMessage = this.state.messages[0]\n      ? this.state.messages[0]\n      : null;\n\n    if (oldestMessage && oldestMessage.status !== 'received') {\n      this.setState({\n        loadingMore: false,\n      });\n\n      return;\n    }\n\n    const oldestID = oldestMessage ? oldestMessage.id : null;\n    const perPage = 100;\n    let queryResponse;\n    this.props.logger('Channel Component', 'Requerying the messages', {\n      props: this.props,\n      state: this.state,\n      limit: perPage,\n      id_lt: oldestID,\n    });\n    try {\n      queryResponse = await this.props.channel.query({\n        messages: { limit: perPage, id_lt: oldestID },\n      });\n    } catch (e) {\n      console.warn('message pagination request failed with error', e);\n      if (this._unmounted) return;\n      this.setState({ loadingMore: false });\n      return;\n    }\n    const hasMore = queryResponse.messages.length === perPage;\n\n    this._loadMoreFinishedDebounced(hasMore, this.props.channel.state.messages);\n  };\n\n  loadMoreFinished = (hasMore, messages) => {\n    if (this._unmounted) return;\n    this.setState({\n      loadingMore: false,\n      hasMore,\n      messages,\n    });\n  };\n\n  getContext = () => ({\n    ...this.state,\n    client: this.props.client,\n    channel: this.props.channel,\n    Message: this.props.Message,\n    Attachment: this.props.Attachment,\n    updateMessage: this.updateMessage,\n    removeMessage: this.removeMessage,\n    sendMessage: this.sendMessage,\n    editMessage: this.editMessage,\n    retrySendMessage: this.retrySendMessage,\n    setEditingState: this.setEditingState,\n    clearEditingState: this.clearEditingState,\n    EmptyStateIndicator: this.props.EmptyStateIndicator,\n    markRead: this._markReadThrottled,\n    loadMore: this._loadMoreThrottled,\n    // thread related\n    openThread: this.openThread,\n    closeThread: this.closeThread,\n    loadMoreThread: this.loadMoreThread,\n    emojiData: this.props.emojiData,\n    disabled:\n      this.props.channel.data &&\n      this.props.channel.data.frozen &&\n      this.props.disableIfFrozenChannel,\n  });\n\n  renderLoading = () => {\n    const Indicator = this.props.LoadingIndicator;\n    return <Indicator listType=\"message\" />;\n  };\n\n  renderLoadingError = () => {\n    const Indicator = this.props.LoadingErrorIndicator;\n    return <Indicator error={this.state.error} listType=\"message\" />;\n  };\n\n  render() {\n    let core;\n    const { children, KeyboardCompatibleView, t } = this.props;\n    if (this.state.error) {\n      this.props.logger(\n        'Channel component',\n        'Error loading channel - rendering error indicator',\n        {\n          tags: ['error', 'channelComponent'],\n          props: this.props,\n          state: this.state,\n          error: this.state.error,\n        },\n      );\n\n      core = this.renderLoadingError();\n    } else if (this.state.loading) {\n      core = this.renderLoading();\n    } else if (!this.props.channel || !this.props.channel.watch) {\n      core = (\n        <View>\n          <Text>{t('Channel Missing')}</Text>\n        </View>\n      );\n    } else {\n      core = (\n        <KeyboardCompatibleView\n          enabled={!this.props.disableKeyboardCompatibleView}\n        >\n          <ChannelContext.Provider value={this.getContext()}>\n            <SuggestionsProvider>{children}</SuggestionsProvider>\n          </ChannelContext.Provider>\n        </KeyboardCompatibleView>\n      );\n    }\n\n    return <View style={{ height: '100%' }}>{core}</View>;\n  }\n}\n\nconst ChannelInnerWithContext = withTranslationContext(ChannelInner);\n\nexport { ChannelInnerWithContext as ChannelInner };\n","import React, { PureComponent } from 'react';\nimport { withChatContext, withTranslationContext } from '../context';\nimport { Text } from 'react-native';\n\n// import { LoadingIndicator } from './LoadingIndicator';\n\nimport PropTypes from 'prop-types';\n\n// import { MessageSimple } from './MessageSimple';\n// import { Attachment } from './Attachment';\nimport { ChannelInner } from './ChannelInner';\nimport { KeyboardCompatibleView } from './KeyboardCompatibleView';\n\n/**\n * Channel - Wrapper component for a channel. It needs to be place inside of the Chat component.\n * ChannelHeader, MessageList, Thread and MessageInput should be used as children of the Channel component.\n *\n * @example ./docs/Channel.md\n * @extends PureComponent\n */\nclass Channel extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = { error: false };\n  }\n  static propTypes = {\n    /** Which channel to connect to */\n    channel: PropTypes.shape({\n      watch: PropTypes.func,\n    }).isRequired,\n    /** Client is passed via the Chat Context */\n    client: PropTypes.object.isRequired,\n    isOnline: PropTypes.bool,\n    /**\n     * Loading indicator UI component. This will be shown on the screen until the messages are\n     * being queried from channel. Once the messages are loaded, loading indicator is removed from the screen\n     * and replaced with children of the Channel component.\n     *\n     * Defaults to and accepts same props as: [LoadingIndicator](https://getstream.github.io/stream-chat-react-native/#loadingindicator)\n     */\n    LoadingIndicator: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    /**\n     * Error indicator UI component. This will be shown on the screen if channel query fails.\n     *\n     * Defaults to and accepts same props as: [LoadingErrorIndicator](https://getstream.github.io/stream-chat-react-native/#loadingerrorindicator)\n     *\n     * */\n    LoadingErrorIndicator: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    /**\n     * Empty state indicator UI component. This will be shown on the screen if channel has no messages.\n     *\n     * Defaults to and accepts same props as: [EmptyStateIndicator](https://getstream.github.io/stream-chat-react-native/#emptystateindicator)\n     *\n     * */\n    EmptyStateIndicator: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    /**\n     * Message UI component to display a message in message list.\n     *\n     * Available built-in component (also accepts the same props as): [MessageSimple](https://getstream.github.io/stream-chat-react-native/#messagesimple)\n     *\n     * */\n    Message: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /**\n     * Attachment UI component to display attachment in individual message.\n     *\n     * Available built-in component (also accepts the same props as): [Attachment](https://getstream.github.io/stream-chat-react-native/#attachment)\n     * */\n    Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /**\n     * If true, KeyboardCompatibleView wrapper is disabled.\n     *\n     * Channel component internally uses [KeyboardCompatibleView](https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/KeyboardCompatibleView.js) component\n     * internally to adjust the height of Channel component when keyboard is opened or dismissed. This prop gives you ability to disable this functionality, in case if you\n     * want to use [KeyboardAvoidingView](https://facebook.github.io/react-native/docs/keyboardavoidingview) or you want to handle keyboard dismissal yourself.\n     * KeyboardAvoidingView works well when your component occupies 100% of screen height, otherwise it may raise some issues.\n     * */\n    disableKeyboardCompatibleView: PropTypes.bool,\n    /**\n     * Custom wrapper component that handles height adjustment of Channel component when keyboard is opened or dismissed.\n     * Defaults to [KeyboardCompatibleView](https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/KeyboardCompatibleView.js)\n     *\n     * This prop can be used to configure default KeyboardCompatibleView component.\n     * e.g.,\n     * <Channel\n     *  channel={channel}\n     *  ...\n     *  KeyboardCompatibleView={(props) => {\n     *    return (\n     *      <KeyboardCompatibleView keyboardDismissAnimationDuration={200} keyboardOpenAnimationDuration={200}>\n     *        {props.children}\n     *      </KeyboardCompatibleView>\n     *    )\n     *  }}\n     * />\n     */\n    KeyboardCompatibleView: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    /**\n     * Override mark channel read request (Advanced usage only)\n     *\n     * @param channel Channel object\n     * */\n    doMarkReadRequest: PropTypes.func,\n    /**\n     * Override send message request (Advanced usage only)\n     *\n     * @param channelId\n     * @param messageData Message object\n     * */\n    doSendMessageRequest: PropTypes.func,\n    /**\n     * Override update message request (Advanced usage only)\n     * @param channelId\n     * @param updatedMessage UpdatedMessage object\n     * */\n    doUpdateMessageRequest: PropTypes.func,\n    /** Disables the channel UI if channel is frozen */\n    disableIfFrozenChannel: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    disableKeyboardCompatibleView: false,\n    disableIfFrozenChannel: true,\n    KeyboardCompatibleView,\n  };\n\n  render() {\n    const { t } = this.props;\n    if (!this.props.channel.cid) {\n      return <Text>{t('Please select a channel first')}</Text>;\n    }\n\n    return <ChannelInner {...this.props} />;\n  }\n}\n\nconst ChannelWithContext = withTranslationContext(withChatContext(Channel));\nexport { ChannelWithContext as Channel };\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Avatar } from './Avatar';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\nimport { withTranslationContext } from '../context';\nimport { StreamChat } from 'stream-chat';\n\nconst TypingText = styled.Text`\n  margin-left: 10px;\n  font-size: ${({ theme }) => theme.typingIndicator.text.fontSize}px;\n  color: ${({ theme }) => theme.typingIndicator.text.color};\n  ${({ theme }) => theme.typingIndicator.text.css};\n`;\n\nconst Container = styled.View`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n  ${({ theme }) => theme.typingIndicator.container.css};\n`;\n\nclass TypingIndicator extends React.PureComponent {\n  static themePath = 'typingIndicator';\n  static propTypes = {\n    typing: PropTypes.object,\n    client: PropTypes.instanceOf(StreamChat),\n    /**\n     * Defaults to and accepts same props as: [Avatar](https://getstream.github.io/stream-chat-react-native/#avatar)\n     */\n    Avatar: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n  };\n  static defaultProps = {\n    Avatar,\n  };\n\n  constructTypingString = (dict) => {\n    const { client, t } = this.props;\n    const arr2 = Object.keys(dict);\n    const arr3 = [];\n    arr2.forEach((item, i) => {\n      if (client.user.id === dict[arr2[i]].user.id) {\n        return;\n      }\n      arr3.push(dict[arr2[i]].user.name || dict[arr2[i]].user.id);\n    });\n\n    let outStr = '';\n    if (arr3.length === 1) {\n      outStr = t('{{ user }} is typing...', { user: arr3[0] });\n      dict;\n    } else if (arr3.length === 2) {\n      //joins all with \"and\" but =no commas\n      //example: \"bob and sam\"\n      outStr = t('{{ firstUser }} and {{ secondUser }} are typing...', {\n        firstUser: arr3[0],\n        secondUser: arr3[1],\n      });\n    } else if (arr3.length > 2) {\n      //joins all with commas, but last one gets \", and\" (oxford comma!)\n      //example: \"bob, joe, and sam\"\n      outStr = t('{{ commaSeparatedUsers }} and {{ lastUser }} are typing...', {\n        commaSeparatedUsers: arr3.slice(0, -1).join(', '),\n        lastUser: arr3.slice(-1),\n      });\n    }\n\n    return outStr;\n  };\n\n  render() {\n    const { typing, Avatar, client } = this.props;\n    const typingUsers = Object.values(typing);\n\n    return (\n      <Container>\n        {typingUsers\n          .filter(({ user }) => user.id !== client.user.id)\n          .map(({ user }, idx) => (\n            <Avatar\n              image={user.image}\n              size={24}\n              name={user.name || user.id}\n              key={user.id + idx}\n            />\n          ))}\n        <TypingText>{this.constructTypingString(typing)}</TypingText>\n      </Container>\n    );\n  }\n}\n\nconst TypingIndicatorWithContext = withTranslationContext(\n  themed(TypingIndicator),\n);\n\nexport { TypingIndicatorWithContext as TypingIndicator };\n","import React, { PureComponent } from 'react';\nimport { View, TouchableOpacity } from 'react-native';\nimport { withChannelContext, withTranslationContext } from '../context';\nimport styled from '@stream-io/styled-components';\nimport PropTypes from 'prop-types';\nimport uuidv4 from 'uuid/v4';\n\nimport { Message } from './Message';\nimport { EventIndicator } from './EventIndicator';\nimport { MessageNotification } from './MessageNotification';\nimport { DateSeparator } from './DateSeparator';\nimport { TypingIndicator } from './TypingIndicator';\n\nconst ListContainer = styled.FlatList`\n  flex: 1;\n  width: 100%;\n  padding-left: 10px;\n  padding-right: 10px;\n  ${({ theme }) => theme.messageList.listContainer.css}\n`;\n\nconst ErrorNotificationText = styled.Text`\n  color: red;\n  background-color: #fae6e8;\n  ${({ theme }) => theme.messageList.errorNotificationText.css}\n`;\n\nconst ErrorNotification = styled.View`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  z-index: 10;\n  margin-bottom: 0;\n  padding: 5px;\n  color: red;\n  background-color: #fae6e8;\n  ${({ theme }) => theme.messageList.errorNotification.css}\n`;\n\nconst TypingIndicatorContainer = styled.View`\n  position: absolute;\n  bottom: 0;\n  height: 30px;\n  width: 100%;\n  padding-left: 16px;\n  padding-top: 3px;\n  padding-bottom: 3px;\n  ${({ theme }) => theme.messageList.typingIndicatorContainer.css}\n`;\n\n/**\n * MessageList - The message list component renders a list of messages.\n * Its a consumer of [Channel Context](https://getstream.github.io/stream-chat-react-native/#channel)\n *\n * @example ./docs/MessageList.md\n * @extends PureComponent\n */\nclass MessageList extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      newMessagesNotification: false,\n      online: props.online,\n    };\n    this.yOffset = 0;\n  }\n\n  static propTypes = {\n    /** Turn off grouping of messages by user */\n    noGroupByUser: PropTypes.bool,\n    /**\n     * Array of allowed actions on message. e.g. ['edit', 'delete', 'reactions', 'reply']\n     * If all the actions need to be disabled, empty array or false should be provided as value of prop.\n     * */\n    messageActions: PropTypes.oneOfType([PropTypes.bool, PropTypes.array]),\n    /**\n     * Boolean weather current message list is a thread.\n     */\n    threadList: PropTypes.bool,\n    /** **Available from [chat context](https://getstream.github.io/stream-chat-react-native/#chatcontext)** */\n    client: PropTypes.object,\n    /** **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)** */\n    Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /**\n     * Custom UI component for attachment icon for type 'file' attachment.\n     * Defaults to: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileIcon.js\n     */\n    AttachmentFileIcon: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    /** **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)** */\n    Message: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /** **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)** */\n    messages: PropTypes.array.isRequired,\n    /** **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)** */\n    read: PropTypes.object,\n    /** **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)** */\n    typing: PropTypes.object,\n    /** Network status */\n    online: PropTypes.bool,\n    disableWhileEditing: PropTypes.bool,\n    /**\n     * For flatlist\n     * @see See loeadMoreThreshold [doc](https://facebook.github.io/react-native/docs/flatlist#onendreachedthreshold)\n     * */\n    loadMoreThreshold: PropTypes.number,\n    /**\n     * Callback for onPress event on Message component\n     *\n     * @param e       Event object for onPress event\n     * @param message Message object which was pressed\n     *\n     * */\n    onMessageTouch: PropTypes.func,\n    /** Should keyboard be dismissed when messaged is touched */\n    dismissKeyboardOnMessageTouch: PropTypes.bool,\n    eventHistory: PropTypes.object,\n    /** Helper function to mark current channel as read. */\n    markRead: PropTypes.func,\n    /**\n     * Handler to open the thread on message. This is callback for touch event for replies button.\n     *\n     * @param message A message object to open the thread upon.\n     * */\n    onThreadSelect: PropTypes.func,\n    /**\n     *  This method gets called when user selects edit action on some message. On code level it just sets `editing` property in state to message being edited\n     *\n     * @param message A [message object](https://getstream.io/chat/docs/#message_format) which is being edited\n     */\n    setEditingState: PropTypes.func,\n    /** Function to clear the editing state. */\n    clearEditingState: PropTypes.func,\n    /**\n     * A message object which is currently in edit state.\n     */\n    editing: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n    loadMore: PropTypes.func,\n    /**\n     * Typing indicator UI component to render\n     *\n     * Defaults to and accepts same props as: [TypingIndicator](https://getstream.github.io/stream-chat-react-native/#typingindicator)\n     * */\n    TypingIndicator: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    /**\n     * @deprecated User DateSeperator instead.\n     * Date separator UI component to render\n     *\n     * Defaults to and accepts same props as: [DateSeparator](https://getstream.github.io/stream-chat-react-native/#dateseparator)\n     * */\n    dateSeparator: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /**\n     * Date separator UI component to render\n     *\n     * Defaults to and accepts same props as: [DateSeparator](https://getstream.github.io/stream-chat-react-native/#dateseparator)\n     * */\n    DateSeparator: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /**\n     * @deprecated User EventIndicator instead.\n     *\n     * UI Component to display following events in messagelist\n     *\n     * 1. member.added\n     * 2. member.removed\n     *\n     * Defaults to and accepts same props as: [EventIndicator](https://getstream.github.io/stream-chat-react-native/#eventindicator)\n     * */\n    eventIndicator: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    /**\n     * UI Component to display following events in messagelist\n     *\n     * 1. member.added\n     * 2. member.removed\n     *\n     * Defaults to and accepts same props as: [EventIndicator](https://getstream.github.io/stream-chat-react-native/#eventindicator)\n     * */\n    EventIndicator: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n\n    /** UI component for empty message list */\n    EmptyStateIndicator: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    /**\n     * @deprecated Use HeaderComponent instead.\n     *\n     * UI component for header of message list.\n     */\n    headerComponent: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    /**\n     * UI component for header of message list. By default message list doesn't have any header.\n     * This is basically a [ListFooterComponent](https://facebook.github.io/react-native/docs/flatlist#listheadercomponent) of FlatList\n     * used in MessageList. Its footer instead of header, since message list is inverted.\n     *\n     */\n    HeaderComponent: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    /**\n     * Style object for actionsheet (used to message actions).\n     * Supported styles: https://github.com/beefe/react-native-actionsheet/blob/master/lib/styles.js\n     */\n    actionSheetStyles: PropTypes.object,\n    /** Disables the MessageList UI. Which means, message actions, reactions won't work. */\n    disabled: PropTypes.bool,\n    /**\n     * Besides existing (default) UX behaviour of underlying flatlist of MessageList component, if you want\n     * to attach some additional props to un derlying flatlist, you can add it to following prop.\n     *\n     * You can find list of all the available FlatList props here - https://facebook.github.io/react-native/docs/flatlist#props\n     *\n     * **NOTE** Don't use `additionalFlatListProps` to get access to ref of flatlist. Use `setFlatListRef` instead.\n     *\n     * e.g.\n     * ```js\n     * <MessageList\n     *  additionalFlatListProps={{ bounces: true, keyboardDismissMode: true }} />\n     * ```\n     */\n    additionalFlatListProps: PropTypes.object,\n    /**\n     * Use `setFlatListRef` to get access to ref to inner FlatList.\n     *\n     * e.g.\n     * ```js\n     * <MessageList\n     *  setFlatListRef={(ref) => {\n     *    // Use ref for your own good\n     *  }}\n     * ```\n     */\n    setFlatListRef: PropTypes.func,\n  };\n\n  static defaultProps = {\n    DateSeparator,\n    EventIndicator,\n    disableWhileEditing: true,\n    // https://github.com/facebook/react-native/blob/a7a7970e543959e9db5281914d5f132beb01db8d/Libraries/Lists/VirtualizedList.js#L466\n    loadMoreThreshold: 2,\n    messageGrouping: true,\n    additionalFlatListProps: {},\n    dismissKeyboardOnMessageTouch: true,\n    TypingIndicator,\n  };\n\n  componentDidMount() {\n    this.setLastReceived(this.props.messages);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.online !== prevProps.online) {\n      this.setState({ online: this.props.online });\n    }\n\n    // handle new messages being sent/received\n    const currentLastMessage = this.props.messages[\n      this.props.messages.length - 1\n    ];\n    const previousLastMessage =\n      prevProps.messages[prevProps.messages.length - 1];\n    if (!previousLastMessage || !currentLastMessage) {\n      return;\n    }\n\n    const hasNewMessage = currentLastMessage.id !== previousLastMessage.id;\n    const userScrolledUp = this.yOffset > 0;\n    const isOwner = currentLastMessage.user.id === this.props.client.userID;\n\n    let scrollToBottom = false;\n\n    // always scroll down when it's your own message that you added...\n    if (hasNewMessage && isOwner) {\n      scrollToBottom = true;\n    } else if (hasNewMessage && !userScrolledUp) {\n      scrollToBottom = true;\n    }\n\n    // Check the scroll position... if you're scrolled up show a little notification\n    if (\n      !scrollToBottom &&\n      hasNewMessage &&\n      !this.state.newMessagesNotification\n    ) {\n      this.setState({ newMessagesNotification: true });\n    }\n\n    if (scrollToBottom) {\n      this.flatList.scrollToIndex({ index: 0 });\n    }\n\n    // remove the scroll notification if we already scrolled down...\n    if (scrollToBottom && this.state.newMessagesNotification) {\n      this.setState({ newMessagesNotification: false });\n    }\n\n    this.setLastReceived(this.props.messages);\n  }\n\n  insertDates = (messages) => {\n    const newMessages = [];\n    if (messages.length === 0) {\n      this.props.eventHistory &&\n        this.props.eventHistory.none &&\n        this.props.eventHistory.none.forEach((e) => {\n          newMessages.push({\n            type: 'channel.event',\n            event: e,\n          });\n        });\n\n      return newMessages;\n    }\n\n    for (const [i, message] of messages.entries()) {\n      if (message.type === 'message.read' || message.deleted_at) {\n        newMessages.push(message);\n        continue;\n      }\n\n      const messageDate = message.created_at.getDay();\n      let prevMessageDate = messageDate;\n\n      if (i < messages.length - 1) {\n        prevMessageDate = messages[i + 1].created_at.getDay();\n      }\n\n      if (i === 0) {\n        newMessages.push(\n          {\n            type: 'message.date',\n            date: message.created_at,\n          },\n          message,\n        );\n      } else if (messageDate !== prevMessageDate) {\n        newMessages.push(message, {\n          type: 'message.date',\n          date: messages[i + 1].created_at,\n        });\n      } else {\n        newMessages.push(message);\n      }\n\n      const eventsNextToMessage = this.props.eventHistory[message.id];\n      if (eventsNextToMessage && eventsNextToMessage.length > 0) {\n        eventsNextToMessage.forEach((e) => {\n          newMessages.push({\n            type: 'channel.event',\n            event: e,\n          });\n        });\n      }\n    }\n\n    return newMessages;\n  };\n\n  getGroupStyles = (m) => {\n    const l = m.length;\n    const messageGroupStyles = {};\n\n    const messages = [...m];\n\n    for (let i = 0; i < l; i++) {\n      const previousMessage = messages[i - 1];\n      const message = messages[i];\n      const nextMessage = messages[i + 1];\n      const groupStyles = [];\n\n      if (message.type === 'channel.event') {\n        continue;\n      }\n\n      if (message.type === 'message.date') {\n        continue;\n      }\n\n      const userId = message.user ? message.user.id : null;\n\n      const isTopMessage =\n        !previousMessage ||\n        previousMessage.type === 'message.date' ||\n        previousMessage.type === 'system' ||\n        previousMessage.type === 'channel.event' ||\n        (previousMessage.attachments &&\n          previousMessage.attachments.length !== 0) ||\n        userId !== previousMessage.user.id ||\n        previousMessage.type === 'error' ||\n        previousMessage.deleted_at;\n\n      const isBottomMessage =\n        !nextMessage ||\n        nextMessage.type === 'message.date' ||\n        nextMessage.type === 'system' ||\n        nextMessage.type === 'channel.event' ||\n        (nextMessage.attachments && nextMessage.attachments.length !== 0) ||\n        userId !== nextMessage.user.id ||\n        nextMessage.type === 'error' ||\n        nextMessage.deleted_at;\n\n      if (isTopMessage) {\n        groupStyles.push('top');\n      }\n\n      if (isBottomMessage) {\n        if (isTopMessage || message.deleted_at || message.type === 'error') {\n          groupStyles.splice(0, groupStyles.length);\n          groupStyles.push('single');\n        } else {\n          groupStyles.push('bottom');\n        }\n      }\n\n      if (!isTopMessage && !isBottomMessage) {\n        if (message.deleted_at || message.type === 'error') {\n          groupStyles.splice(0, groupStyles.length);\n          groupStyles.push('single');\n        } else {\n          groupStyles.splice(0, groupStyles.length);\n          groupStyles.push('middle');\n        }\n      }\n\n      if (message.attachments.length !== 0) {\n        groupStyles.splice(0, groupStyles.length);\n        groupStyles.push('single');\n      }\n\n      if (this.props.noGroupByUser) {\n        groupStyles.splice(0, groupStyles.length);\n        groupStyles.push('single');\n      }\n\n      messageGroupStyles[message.id] = groupStyles;\n    }\n\n    return messageGroupStyles;\n  };\n\n  goToNewMessages = () => {\n    this.setState({\n      newMessagesNotification: false,\n    });\n    this.flatList.scrollToIndex({ index: 0 });\n    if (!this.props.threadList) this.props.markRead();\n  };\n\n  setLastReceived = (messages) => {\n    const l = messages.length;\n    let lastReceivedId = null;\n\n    for (let i = l; i > 0; i--) {\n      if (\n        messages[i] !== undefined &&\n        messages[i].status !== undefined &&\n        messages[i].status === 'received'\n      ) {\n        lastReceivedId = messages[i].id;\n        break;\n      }\n    }\n\n    if (this.state.lastReceivedId !== lastReceivedId) {\n      this.setState({ lastReceivedId });\n    }\n  };\n\n  getReadStates = (messages) => {\n    // create object with empty array for each message id\n    const readData = {};\n\n    for (const message of messages) {\n      // Filter out date seperators\n      if (!message || !message.id) {\n        continue;\n      }\n      readData[message.id] = [];\n    }\n\n    for (const readState of Object.values(this.props.read)) {\n      if (readState.last_read == null) {\n        break;\n      }\n      let userLastReadMsgId;\n      for (const msg of messages) {\n        if (msg.updated_at < readState.last_read) {\n          userLastReadMsgId = msg.id;\n        }\n      }\n      if (userLastReadMsgId) {\n        readData[userLastReadMsgId] = [\n          ...readData[userLastReadMsgId],\n          readState.user,\n        ];\n      }\n    }\n\n    return readData;\n  };\n\n  renderItem = (message, groupStyles) => {\n    if (message.type === 'message.date') {\n      const DateSeparator =\n        this.props.dateSeparator || this.props.DateSeparator;\n      return <DateSeparator message={message} />;\n    } else if (message.type === 'channel.event') {\n      const EventIndicator =\n        this.props.eventIndicator || this.props.EventIndicator;\n      return <EventIndicator event={message.event} />;\n    } else if (message.type !== 'message.read') {\n      const readBy = this.readData[message.id] || [];\n      return (\n        <Message\n          client={this.props.client}\n          channel={this.props.channel}\n          onThreadSelect={this.props.onThreadSelect}\n          message={message}\n          groupStyles={groupStyles}\n          Message={this.props.Message}\n          Attachment={this.props.Attachment}\n          readBy={readBy}\n          disabled={this.props.disabled}\n          lastReceivedId={\n            this.state.lastReceivedId === message.id\n              ? this.state.lastReceivedId\n              : null\n          }\n          onMessageTouch={this.props.onMessageTouch}\n          dismissKeyboardOnMessageTouch={\n            this.props.dismissKeyboardOnMessageTouch\n          }\n          setEditingState={this.props.setEditingState}\n          editing={this.props.editing}\n          threadList={this.props.threadList}\n          messageActions={this.props.messageActions}\n          updateMessage={this.props.updateMessage}\n          removeMessage={this.props.removeMessage}\n          retrySendMessage={this.props.retrySendMessage}\n          openThread={this.props.openThread}\n          emojiData={this.props.emojiData}\n          actionSheetStyles={this.props.actionSheetStyles}\n          AttachmentFileIcon={this.props.AttachmentFileIcon}\n        />\n      );\n    }\n  };\n\n  handleScroll = (event) => {\n    const yOffset = event.nativeEvent.contentOffset.y;\n    const removeNewMessageNotification = yOffset <= 0;\n    if (\n      !this.props.threadList &&\n      removeNewMessageNotification &&\n      this.props.channel.countUnread() > 0\n    )\n      this.props.markRead();\n\n    this.yOffset = yOffset;\n    this.setState((prevState) => ({\n      newMessagesNotification: removeNewMessageNotification\n        ? false\n        : prevState.newMessagesNotification,\n    }));\n  };\n\n  renderEmptyState = () => {\n    const Indicator = this.props.EmptyStateIndicator;\n    return <Indicator listType=\"message\" />;\n  };\n\n  render() {\n    const { t } = this.props;\n    const hasEventHistory =\n      this.props.eventHistory &&\n      Object.keys(this.props.eventHistory).length > 0;\n\n    // We can't provide ListEmptyComponent to FlatList when inverted flag is set.\n    // https://github.com/facebook/react-native/issues/21196\n    if (\n      this.props.messages &&\n      this.props.messages.length === 0 &&\n      !hasEventHistory &&\n      !this.props.threadList\n    ) {\n      return <View style={{ flex: 1 }}>{this.renderEmptyState()}</View>;\n    }\n\n    const TypingIndicator = this.props.TypingIndicator;\n    const HeaderComponent =\n      this.props.headerComponent || this.props.HeaderComponent;\n    const messagesWithDates = this.insertDates(this.props.messages);\n    const messageGroupStyles = this.getGroupStyles(messagesWithDates);\n    this.readData = this.getReadStates(messagesWithDates);\n    messagesWithDates.reverse();\n\n    const typing = Object.values(this.props.typing);\n    let showTypingIndicator;\n    if (\n      typing.length === 0 ||\n      (typing.length === 1 && typing[0].user.id === this.props.client.user.id)\n    ) {\n      showTypingIndicator = false;\n    } else {\n      showTypingIndicator = true;\n    }\n\n    return (\n      <React.Fragment>\n        {// Mask for edit state\n        this.props.editing && this.props.disableWhileEditing && (\n          <TouchableOpacity\n            style={{\n              position: 'absolute',\n              backgroundColor: 'black',\n              opacity: 0.4,\n              height: '100%',\n              width: '100%',\n              zIndex: 100,\n            }}\n            collapsable={false}\n            onPress={this.props.clearEditingState}\n          />\n        )}\n        <View\n          collapsable={false}\n          style={{ flex: 1, alignItems: 'center', width: '100%' }}\n        >\n          <ListContainer\n            ref={(fl) => {\n              this.flatList = fl;\n              this.props.setFlatListRef && this.props.setFlatListRef(fl);\n            }}\n            data={messagesWithDates}\n            onScroll={this.handleScroll}\n            ListFooterComponent={HeaderComponent}\n            onEndReached={this.props.loadMore}\n            inverted\n            keyboardShouldPersistTaps=\"always\"\n            keyExtractor={(item) =>\n              item.id ||\n              item.created_at ||\n              (item.date ? item.date.toISOString() : false) ||\n              uuidv4()\n            }\n            renderItem={({ item: message }) =>\n              this.renderItem(message, messageGroupStyles[message.id])\n            }\n            /** Disables the MessageList UI. Which means, message actions, reactions won't work. */\n            extraData={this.props.disabled}\n            maintainVisibleContentPosition={{\n              minIndexForVisible: 1,\n              autoscrollToTopThreshold: 10,\n            }}\n            {...this.props.additionalFlatListProps}\n          />\n          {this.props.TypingIndicator && showTypingIndicator && (\n            <TypingIndicatorContainer>\n              <TypingIndicator\n                typing={this.props.typing}\n                client={this.props.client}\n              />\n            </TypingIndicatorContainer>\n          )}\n          {this.state.newMessagesNotification && (\n            <MessageNotification\n              showNotification={this.state.newMessagesNotification}\n              onPress={this.goToNewMessages}\n            />\n          )}\n          {!this.state.online && (\n            <ErrorNotification>\n              <ErrorNotificationText>\n                {t('Connection failure, reconnecting now ...')}\n              </ErrorNotificationText>\n            </ErrorNotification>\n          )}\n        </View>\n      </React.Fragment>\n    );\n  }\n}\n\nconst MessageListWithContext = withTranslationContext(\n  withChannelContext(MessageList),\n);\nexport { MessageListWithContext as MessageList };\n","const img = require('.//images/icons/icon_edit.png'); export default img;","const img = require('.//images/icons/icon_new_message.png'); export default img;","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport iconEdit from '../images/icons/icon_edit.png';\nimport iconSendNewMessage from '../images/icons/icon_new_message.png';\nimport { themed } from '../styles/theme';\nimport PropTypes from 'prop-types';\n\nconst Container = styled.TouchableOpacity`\n  margin-left: 8;\n  ${({ theme }) => theme.messageInput.sendButton.css}\n`;\n\nconst SendButtonIcon = styled.Image`\n  width: 15;\n  height: 15;\n  ${({ theme }) => theme.messageInput.sendButtonIcon.css}\n`;\n\n/**\n * UI Component for send button in MessageInput component.\n *\n * @extends PureComponent\n * @example ./docs/SendButton.md\n */\nexport const SendButton = themed(\n  class SendButton extends React.PureComponent {\n    static themePath = 'messageInput';\n    static propTypes = {\n      title: PropTypes.string,\n      /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      editing: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n      /** Function that sends message */\n      sendMessage: PropTypes.func.isRequired,\n      /** Disables the button */\n      disabled: PropTypes.bool,\n    };\n\n    static defaultProps = {\n      disabled: false,\n    };\n\n    render() {\n      const { sendMessage, editing, title, disabled } = this.props;\n      return (\n        <Container title={title} onPress={sendMessage} disabled={disabled}>\n          {editing ? (\n            <SendButtonIcon source={iconEdit} />\n          ) : (\n            <SendButtonIcon source={iconSendNewMessage} />\n          )}\n        </Container>\n      );\n    }\n  },\n);\n","const img = require('.//images/icons/plus-outline.png'); export default img;","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport iconAddAttachment from '../images/icons/plus-outline.png';\nimport { themed } from '../styles/theme';\nimport PropTypes from 'prop-types';\n\nconst Container = styled.TouchableOpacity`\n  margin-right: 8;\n  ${({ theme }) => theme.messageInput.attachButton.css}\n`;\n\nconst AttachButtonIcon = styled.Image`\n  width: 15;\n  height: 15;\n  ${({ theme }) => theme.messageInput.attachButtonIcon.css}\n`;\n\n/**\n * UI Component for attach button in MessageInput component.\n *\n * @extends PureComponent\n * @example ./docs/AttachButton.md\n */\nexport const AttachButton = themed(\n  class AttachButton extends React.PureComponent {\n    static themePath = 'messageInput';\n    static propTypes = {\n      handleOnPress: PropTypes.func,\n      disabled: PropTypes.bool,\n    };\n    static defaultProps = {\n      disabled: false,\n    };\n\n    render() {\n      const { handleOnPress, disabled } = this.props;\n      return (\n        <Container onPress={handleOnPress} disabled={disabled}>\n          <AttachButtonIcon source={iconAddAttachment} />\n        </Container>\n      );\n    }\n  },\n);\n","const img = require('.//images/icons/icon_attach-media.png'); export default img;","const img = require('.//images/icons/icon_folder.png'); export default img;","const img = require('.//images/icons/icon_close.png'); export default img;","import React, { PureComponent } from 'react';\nimport { View } from 'react-native';\nimport {\n  withChannelContext,\n  withSuggestionsContext,\n  withKeyboardContext,\n  withTranslationContext,\n} from '../context';\nimport { logChatPromiseExecution } from 'stream-chat';\nimport { ImageUploadPreview } from './ImageUploadPreview';\nimport { FileUploadPreview } from './FileUploadPreview';\nimport { IconSquare } from './IconSquare';\nimport { pickImage, pickDocument } from '../native';\nimport { lookup } from 'mime-types';\nimport Immutable from 'seamless-immutable';\nimport { FileState, ACITriggerSettings } from '../utils';\nimport PropTypes from 'prop-types';\nimport uniq from 'lodash/uniq';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\nimport { SendButton } from './SendButton';\nimport { AttachButton } from './AttachButton';\n\nimport { ActionSheetCustom as ActionSheet } from 'react-native-actionsheet';\n\nimport iconGallery from '../images/icons/icon_attach-media.png';\nimport iconFolder from '../images/icons/icon_folder.png';\nimport iconClose from '../images/icons/icon_close.png';\nimport { AutoCompleteInput } from './AutoCompleteInput';\n\n// https://stackoverflow.com/a/6860916/2570866\nfunction generateRandomId() {\n  // prettier-ignore\n  return (S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4());\n}\n\nfunction S4() {\n  return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n}\n\nconst Container = styled(({ padding, ...rest }) => <View {...rest} />)`\n  display: flex;\n  flex-direction: column;\n  border-radius: 10;\n  background-color: rgba(0, 0, 0, 0.05);\n  padding-top: ${({ theme, padding }) =>\n    padding ? theme.messageInput.container.conditionalPadding : 0}px;\n  margin-left: 10px;\n  margin-right: 10px;\n  ${({ theme }) => theme.messageInput.container.css}\n`;\n\nconst EditingBoxContainer = styled.View`\n  padding-left: 0;\n  padding-right: 0;\n  shadow-color: grey;\n  shadow-opacity: 0.5;\n  z-index: 100;\n  background-color: white;\n  ${({ theme }) => theme.messageInput.editingBoxContainer.css}\n`;\n\nconst EditingBoxHeader = styled.View`\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px;\n  ${({ theme }) => theme.messageInput.editingBoxHeader.css}\n`;\n\nconst EditingBoxHeaderTitle = styled.Text`\n  font-weight: bold;\n  ${({ theme }) => theme.messageInput.editingBoxHeaderTitle.css}\n`;\n\nconst InputBoxContainer = styled.View`\n  display: flex;\n  flex-direction: row;\n  padding-left: 10px;\n  padding-right: 10px;\n  min-height: 46;\n  margin: 10px;\n  align-items: center;\n  ${({ theme }) => theme.messageInput.inputBoxContainer.css}\n`;\n\nconst ActionSheetTitleContainer = styled.View`\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  padding-left: 20;\n  padding-right: 20;\n  ${({ theme }) => theme.messageInput.actionSheet.titleContainer.css};\n`;\n\nconst ActionSheetTitleText = styled.Text`\n  font-weight: bold;\n  ${({ theme }) => theme.messageInput.actionSheet.titleText.css};\n`;\n\nconst ActionSheetButtonContainer = styled.View`\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n  width: 100%;\n  padding-left: 20;\n  ${({ theme }) => theme.messageInput.actionSheet.buttonContainer.css};\n`;\n\nconst ActionSheetButtonText = styled.Text`\n  ${({ theme }) => theme.messageInput.actionSheet.buttonText.css};\n`;\n\n/**\n * UI Component for message input\n * Its a consumer of [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext)\n * and [Keyboard Context](https://getstream.github.io/stream-chat-react-native/#keyboardcontext)\n *\n * @example ./docs/MessageInput.md\n * @extends PureComponent\n */\nclass MessageInput extends PureComponent {\n  constructor(props) {\n    super(props);\n    const state = this.getMessageDetailsForState(\n      props.editing,\n      props.initialValue,\n    );\n    this.state = {\n      ...state,\n      asyncIds: Immutable([]), // saves data for images that resolve after hitting send\n      asyncUploads: Immutable({}), // saves data for images that resolve after hitting send\n    };\n    this.sending = false;\n  }\n\n  static themePath = 'messageInput';\n  static propTypes = {\n    /** Initial value to set on input */\n    initialValue: PropTypes.string,\n    /**\n     * Callback that is called when the text input's text changes. Changed text is passed as a single string argument to the callback handler.\n     *\n     * @param newText\n     */\n    onChangeText: PropTypes.func,\n    /**\n     * Override image upload request\n     *\n     * @param file    File object - {uri: ''}\n     * @param channel Current channel object\n     * */\n    doImageUploadRequest: PropTypes.func,\n    /**\n     * Override file upload request\n     *\n     * @param file    File object - {uri: '', name: ''}\n     * @param channel Current channel object\n     * */\n    doDocUploadRequest: PropTypes.func,\n    /** Limit on allowed number of files to attach at a time. */\n    maxNumberOfFiles: PropTypes.number,\n    /** If component should have image picker functionality  */\n    hasImagePicker: PropTypes.bool,\n    /** @see See [keyboard context](https://getstream.github.io/stream-chat-react-native/#keyboardcontext) */\n    dismissKeyboard: PropTypes.func,\n    /** If component should have file picker functionality  */\n    hasFilePicker: PropTypes.bool,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n    members: PropTypes.object,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n    watchers: PropTypes.object,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n    editing: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n    clearEditingState: PropTypes.func,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n    client: PropTypes.object,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n    sendMessage: PropTypes.func,\n    /** Parent message object - in case of thread */\n    parent: PropTypes.object,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n    channel: PropTypes.object,\n    /**\n     * Ref callback to set reference on input box container\n     * @see See [keyboard context](https://getstream.github.io/stream-chat-react-native/#keyboardcontext)\n     * */\n    setInputBoxContainerRef: PropTypes.func,\n    /** @see See [suggestions context](https://getstream.github.io/stream-chat-react-native/#suggestionscontext) */\n    openSuggestions: PropTypes.func,\n    /** @see See [suggestions context](https://getstream.github.io/stream-chat-react-native/#suggestionscontext) */\n    closeSuggestions: PropTypes.func,\n    /** @see See [suggestions context](https://getstream.github.io/stream-chat-react-native/#suggestionscontext) */\n    updateSuggestions: PropTypes.func,\n    /**\n     * Custom UI component for send button.\n     *\n     * Defaults to and accepts same props as: [SendButton](https://getstream.github.io/stream-chat-react-native/#sendbutton)\n     * */\n    SendButton: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /**\n     * Custom UI component for attach button.\n     *\n     * Defaults to and accepts same props as: [AttachButton](https://getstream.github.io/stream-chat-react-native/#attachbutton)\n     * */\n    AttachButton: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /**\n     * Additional props for underlying TextInput component. These props will be forwarded as it is to TextInput component.\n     *\n     * @see See https://facebook.github.io/react-native/docs/textinput#reference\n     */\n    additionalTextInputProps: PropTypes.object,\n    /**\n     * Style object for actionsheet (used for option to choose file attachment or photo attachment).\n     * Supported styles: https://github.com/beefe/react-native-actionsheet/blob/master/lib/styles.js\n     */\n    actionSheetStyles: PropTypes.object,\n    /**\n     * Custom UI component for attachment icon for type 'file' attachment in preview.\n     * Defaults to and accepts same props as: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileIcon.js\n     */\n    AttachmentFileIcon: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    /** Disables the child MessageInput component */\n    disabled: PropTypes.bool,\n    /**\n     * For images still in uploading state when user hits send, send text immediately and send image as follow-up message once uploaded\n     */\n    sendImageAsync: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    hasImagePicker: true,\n    hasFilePicker: true,\n    disabled: false,\n    sendImageAsync: false,\n    SendButton,\n    AttachButton,\n  };\n\n  getMessageDetailsForState = (message, initialValue) => {\n    const imageOrder = [];\n    const imageUploads = {};\n    const fileOrder = [];\n    const fileUploads = {};\n    const attachments = [];\n    let mentioned_users = [];\n    let text = initialValue || '';\n\n    if (message) {\n      text = message.text;\n      for (const attach of message.attachments) {\n        if (attach.type === 'image') {\n          const id = generateRandomId();\n          imageOrder.push(id);\n          imageUploads[id] = {\n            id,\n            url: attach.image_url,\n            state: 'finished',\n            file: { name: attach.fallback },\n          };\n        } else if (attach.type === 'file') {\n          const id = generateRandomId();\n          fileOrder.push(id);\n          fileUploads[id] = {\n            id,\n            url: attach.asset_url,\n            state: 'finished',\n            file: {\n              name: attach.title,\n              type: attach.mime_type,\n              size: attach.file_size,\n            },\n          };\n        } else {\n          attachments.push(attach);\n        }\n      }\n\n      if (message.mentioned_users) {\n        mentioned_users = [...message.mentioned_users];\n      }\n    }\n    return {\n      text,\n      attachments,\n      imageOrder,\n      imageUploads: Immutable(imageUploads),\n      fileOrder,\n      fileUploads: Immutable(fileUploads),\n      mentioned_users,\n      numberOfUploads: 0,\n    };\n  };\n\n  getMembers = () => {\n    const result = [];\n    const members = this.props.members;\n    if (members && Object.values(members).length) {\n      Object.values(members).forEach((member) => result.push(member.user));\n    }\n\n    return result;\n  };\n\n  getWatchers = () => {\n    const result = [];\n    const watchers = this.props.watchers;\n    if (watchers && Object.values(watchers).length) {\n      result.push(...Object.values(watchers));\n    }\n\n    return result;\n  };\n\n  getUsers = () => {\n    const users = [...this.getMembers(), ...this.getWatchers()];\n\n    // make sure we don't list users twice\n    const uniqueUsers = {};\n    for (const user of users) {\n      if (user !== undefined && !uniqueUsers[user.id]) {\n        uniqueUsers[user.id] = user;\n      }\n    }\n    const usersArray = Object.values(uniqueUsers);\n\n    return usersArray;\n  };\n\n  componentDidMount() {\n    if (this.props.editing) this.inputBox.focus();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (Object.keys(this.state.asyncUploads).length) {\n      /**\n       * When successful image upload response occurs after hitting send,\n       * send a follow up message with the image\n       */\n      this.sending = true;\n      this.state.asyncIds.forEach((id) => this.sendMessageAsync(id));\n      this.sending = false;\n    }\n\n    if (this.props.editing) this.inputBox.focus();\n    if (\n      this.props.editing &&\n      prevProps.editing &&\n      this.props.editing.id === prevProps.editing.id\n    ) {\n      return;\n    }\n\n    if (this.props.editing && !prevProps.editing) {\n      this.setState(\n        this.getMessageDetailsForState(\n          this.props.editing,\n          this.props.initialValue,\n        ),\n      );\n    }\n\n    if (\n      this.props.editing &&\n      prevProps.editing &&\n      this.props.editing.id !== prevProps.editing.id\n    ) {\n      this.setState(\n        this.getMessageDetailsForState(\n          this.props.editing,\n          this.props.initialValue,\n        ),\n      );\n    }\n\n    if (!this.props.editing && prevProps.editing) {\n      this.setState(\n        this.getMessageDetailsForState(null, this.props.initialValue),\n      );\n    }\n  }\n\n  onSelectItem = (item) => {\n    this.setState((prevState) => ({\n      mentioned_users: [...prevState.mentioned_users, item.id],\n    }));\n  };\n\n  /** Checks if the message is valid or not. Accordingly we can enable/disable send button */\n  isValidMessage = () => {\n    if (this.state.text && this.state.text !== '') return true;\n\n    for (const id of this.state.imageOrder) {\n      const image = this.state.imageUploads[id];\n      if (!image || image.state === FileState.UPLOAD_FAILED) {\n        continue;\n      }\n      if (image.state === FileState.UPLOADING) {\n        // TODO: show error to user that they should wait until image is uploaded\n        return false;\n      }\n\n      return true;\n    }\n\n    for (const id of this.state.fileOrder) {\n      const upload = this.state.fileUploads[id];\n      if (!upload || upload.state === FileState.UPLOAD_FAILED) {\n        continue;\n      }\n      if (upload.state === FileState.UPLOADING) {\n        // TODO: show error to user that they should wait until image is uploaded\n        return false;\n      }\n\n      return true;\n    }\n\n    return false;\n  };\n\n  sendMessageAsync = (id) => {\n    const image = this.state.asyncUploads[id];\n    if (!image || image.state === FileState.UPLOAD_FAILED) return;\n\n    if (image.state === FileState.UPLOADED) {\n      const attachments = [\n        {\n          type: 'image',\n          image_url: image.url,\n        },\n      ];\n\n      try {\n        this.props.sendMessage({\n          text: '',\n          parent: this.props.parent,\n          mentioned_users: [],\n          attachments,\n        });\n\n        this.setState((prevState) => ({\n          numberOfUploads: prevState.numberOfUploads - 1,\n          asyncIds: prevState.asyncIds.splice(\n            prevState.asyncIds.indexOf(id),\n            1,\n          ),\n          asyncUploads: prevState.asyncUploads.without([id]),\n        }));\n      } catch (err) {\n        console.log('Failed');\n      }\n    }\n  };\n\n  sendMessage = async () => {\n    if (this.sending) return;\n    this.sending = true;\n\n    const { text } = this.state;\n    await this.setState({ text: '' }, () => this.inputBox.clear());\n\n    const attachments = [];\n    for (const id of this.state.imageOrder) {\n      const image = this.state.imageUploads[id];\n\n      if (!image || image.state === FileState.UPLOAD_FAILED) {\n        continue;\n      }\n\n      if (image.state === FileState.UPLOADING) {\n        // TODO: show error to user that they should wait until image is uploaded\n        if (this.props.sendImageAsync) {\n          /**\n           * If user hit send before image uploaded, push ID into a queue to later\n           * be matched with the successful CDN response\n           */\n          this.setState((prevState) => ({\n            asyncIds: [...prevState.asyncIds, id],\n          }));\n        } else {\n          this.sending = false;\n          return this.setState({ text });\n        }\n      }\n\n      if (image.state === FileState.UPLOADED) {\n        attachments.push({\n          type: 'image',\n          image_url: image.url,\n          fallback: image.file.name,\n        });\n      }\n    }\n\n    for (const id of this.state.fileOrder) {\n      const upload = this.state.fileUploads[id];\n      if (!upload || upload.state === FileState.UPLOAD_FAILED) {\n        continue;\n      }\n      if (upload.state === FileState.UPLOADING) {\n        // TODO: show error to user that they should wait until image is uploaded\n        return (this.sending = false);\n      }\n      if (upload.state === FileState.UPLOADED) {\n        attachments.push({\n          type: 'file',\n          asset_url: upload.url,\n          title: upload.file.name,\n          mime_type: upload.file.type,\n          file_size: upload.file.size,\n        });\n      }\n    }\n\n    // Disallow sending message if its empty.\n    if (!text && attachments.length === 0) {\n      return (this.sending = false);\n    }\n\n    if (this.props.editing) {\n      const updatedMessage = { ...this.props.editing };\n\n      updatedMessage.text = text;\n      updatedMessage.attachments = attachments;\n      updatedMessage.mentioned_users = this.state.mentioned_users.map(\n        (mu) => mu.id,\n      );\n      // TODO: Remove this line and show an error when submit fails\n      this.props.clearEditingState();\n\n      const updateMessagePromise = this.props\n        .editMessage(updatedMessage)\n        .then(this.props.clearEditingState);\n      logChatPromiseExecution(updateMessagePromise, 'update message');\n\n      this.sending = false;\n    } else {\n      try {\n        this.props.sendMessage({\n          text,\n          parent: this.props.parent,\n          mentioned_users: uniq(this.state.mentioned_users),\n          attachments,\n        });\n\n        this.sending = false;\n        this.setState((prevState) => ({\n          text: '',\n          imageUploads: Immutable({}),\n          imageOrder: Immutable([]),\n          fileUploads: Immutable({}),\n          fileOrder: Immutable([]),\n          mentioned_users: [],\n          numberOfUploads: prevState.numberOfUploads - attachments.length,\n        }));\n      } catch (err) {\n        this.sending = false;\n        this.setState({ text });\n        console.log('Failed');\n      }\n    }\n  };\n\n  updateMessage = async () => {\n    try {\n      await this.props.client.editMessage({\n        ...this.props.editing,\n        text: this.state.text,\n      });\n\n      this.setState({ text: '' });\n      this.props.clearEditingState();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  _pickFile = async () => {\n    if (\n      this.props.maxNumberOfFiles &&\n      this.state.numberOfUploads >= this.props.maxNumberOfFiles\n    )\n      return;\n\n    const result = await pickDocument();\n    if (result.type === 'cancel' || result.cancelled) {\n      return;\n    }\n    const mimeType = lookup(result.name);\n\n    if (mimeType && mimeType.startsWith('image/')) {\n      this.uploadNewImage(result);\n    } else {\n      this.uploadNewFile(result);\n    }\n  };\n\n  uploadNewFile = (file) => {\n    const id = generateRandomId();\n    const mimeType = lookup(file.name);\n    /* eslint-disable */\n    this.setState((prevState) => {\n      return {\n        numberOfUploads: prevState.numberOfUploads + 1,\n        fileOrder: prevState.fileOrder.concat([id]),\n        fileUploads: prevState.fileUploads.setIn([id], {\n          id,\n          file: { ...file, type: mimeType },\n          state: FileState.UPLOADING,\n        }),\n      };\n    });\n    /* eslint-enable */\n\n    this._uploadFile(id);\n  };\n\n  _uploadFile = async (id) => {\n    const doc = this.state.fileUploads[id];\n    if (!doc) {\n      return;\n    }\n    const { file } = doc;\n\n    await this.setState((prevState) => ({\n      fileUploads: prevState.fileUploads.setIn(\n        [id, 'state'],\n        FileState.UPLOADING,\n      ),\n    }));\n\n    let response = {};\n    response = {};\n    try {\n      if (this.props.doDocUploadRequest) {\n        response = await this.props.doDocUploadRequest(\n          file,\n          this.props.channel,\n        );\n      } else {\n        response = await this.props.channel.sendFile(\n          file.uri,\n          file.name,\n          file.type,\n        );\n      }\n    } catch (e) {\n      console.warn(e);\n      await this.setState((prevState) => {\n        const image = prevState.fileUploads[id];\n        if (!image) {\n          return {\n            numberOfUploads: prevState.numberOfUploads - 1,\n          };\n        }\n        return {\n          fileUploads: prevState.fileUploads.setIn(\n            [id, 'state'],\n            FileState.UPLOAD_FAILED,\n          ),\n          numberOfUploads: prevState.numberOfUploads - 1,\n        };\n      });\n\n      return;\n    }\n\n    this.setState((prevState) => ({\n      fileUploads: prevState.fileUploads\n        .setIn([id, 'state'], FileState.UPLOADED)\n        .setIn([id, 'url'], response.file),\n    }));\n  };\n\n  _pickImage = async () => {\n    if (\n      this.props.maxNumberOfFiles &&\n      this.state.numberOfUploads >= this.props.maxNumberOfFiles\n    )\n      return;\n    const result = await pickImage();\n\n    if (result.cancelled) {\n      return;\n    }\n\n    this.uploadNewImage(result);\n  };\n\n  uploadNewImage = async (image) => {\n    const id = generateRandomId();\n    /* eslint-disable */\n    await this.setState((prevState) => {\n      return {\n        numberOfUploads: prevState.numberOfUploads + 1,\n        imageOrder: prevState.imageOrder.concat([id]),\n        imageUploads: prevState.imageUploads.setIn([id], {\n          id,\n          file: image,\n          state: FileState.UPLOADING,\n        }),\n      };\n    });\n    /* eslint-enable */\n\n    this._uploadImage(id);\n  };\n\n  _removeImage = (id) => {\n    this.setState((prevState) => {\n      const img = prevState.imageUploads[id];\n      if (!img) {\n        return {};\n      }\n      return {\n        numberOfUploads: prevState.numberOfUploads - 1,\n        imageUploads: prevState.imageUploads.set(id, undefined), // remove\n        imageOrder: prevState.imageOrder.filter((_id) => id !== _id),\n      };\n    });\n  };\n\n  _removeFile = (id) => {\n    this.setState((prevState) => {\n      const file = prevState.fileUploads[id];\n      if (!file) {\n        return {};\n      }\n      return {\n        numberOfUploads: prevState.numberOfUploads - 1,\n        fileUploads: prevState.fileUploads.set(id, undefined), // remove\n        fileOrder: prevState.fileOrder.filter((_id) => id !== _id),\n      };\n    });\n  };\n\n  _uploadImage = async (id) => {\n    const { file } = this.state.imageUploads[id];\n    if (!file) {\n      return;\n    }\n\n    let response;\n\n    const filename = (file.name || file.uri).replace(\n      /^(file:\\/\\/|content:\\/\\/)/,\n      '',\n    );\n    const contentType = lookup(filename) || 'application/octet-stream';\n\n    try {\n      if (this.props.doImageUploadRequest) {\n        response = await this.props.doImageUploadRequest(\n          file,\n          this.props.channel,\n        );\n      } else if (this.props.sendImageAsync) {\n        this.props.channel\n          .sendImage(file.uri, null, contentType)\n          .then((res) => {\n            if (this.state.asyncIds.includes(id)) {\n              // Evaluates to true if user hit send before image successfully uploaded\n              this.setState((prevState) => ({\n                asyncUploads: prevState.asyncUploads\n                  .setIn([id, 'state'], FileState.UPLOADED)\n                  .setIn([id, 'url'], res.file),\n              }));\n            } else {\n              this.setState((prevState) => ({\n                imageUploads: prevState.imageUploads\n                  .setIn([id, 'state'], FileState.UPLOADED)\n                  .setIn([id, 'url'], res.file),\n              }));\n            }\n          });\n      } else {\n        response = await this.props.channel.sendImage(\n          file.uri,\n          null,\n          contentType,\n        );\n      }\n\n      if (response) {\n        this.setState((prevState) => ({\n          imageUploads: prevState.imageUploads\n            .setIn([id, 'state'], FileState.UPLOADED)\n            .setIn([id, 'url'], response.file),\n        }));\n      }\n    } catch (e) {\n      console.warn(e);\n      await this.setState((prevState) => {\n        const image = prevState.imageUploads[id];\n        if (!image) {\n          return {\n            numberOfUploads: prevState.numberOfUploads - 1,\n          };\n        }\n\n        return {\n          imageUploads: prevState.imageUploads.setIn(\n            [id, 'state'],\n            FileState.UPLOAD_FAILED,\n          ),\n          numberOfUploads: prevState.numberOfUploads - 1,\n        };\n      });\n\n      return;\n    }\n  };\n\n  onChangeText = (text) => {\n    if (this.sending) return;\n    this.setState({ text });\n\n    if (text) {\n      logChatPromiseExecution(\n        this.props.channel.keystroke(),\n        'start typing event',\n      );\n    }\n\n    this.props.onChangeText && this.props.onChangeText(text);\n  };\n\n  appendText = (text) => {\n    this.setState({\n      text: this.state.text + text,\n    });\n  };\n  setInputBoxRef = (o) => (this.inputBox = o);\n\n  closeAttachActionSheet = () => {\n    this.attachActionSheet.hide();\n  };\n\n  renderInputContainer = () => {\n    const {\n      hasImagePicker,\n      hasFilePicker,\n      SendButton,\n      AttachButton,\n      disabled,\n      Input,\n      t,\n    } = this.props;\n\n    let additionalTextInputProps = this.props.additionalTextInputProps || {};\n\n    if (disabled) {\n      additionalTextInputProps = {\n        editable: false,\n        ...additionalTextInputProps,\n      };\n    }\n\n    return (\n      <Container padding={this.state.imageUploads.length > 0}>\n        {this.state.fileUploads && (\n          <FileUploadPreview\n            removeFile={this._removeFile}\n            retryUpload={this._uploadFile}\n            fileUploads={this.state.fileOrder.map(\n              (id) => this.state.fileUploads[id],\n            )}\n            AttachmentFileIcon={this.props.AttachmentFileIcon}\n          />\n        )}\n        {this.state.imageUploads && (\n          <ImageUploadPreview\n            removeImage={this._removeImage}\n            retryUpload={this._uploadImage}\n            imageUploads={this.state.imageOrder.map(\n              (id) => this.state.imageUploads[id],\n            )}\n          />\n        )}\n        {/**\n            TODO: Use custom action sheet to show icon with titles of button. But it doesn't\n            work well with async onPress operations. So find a solution.\n          */}\n\n        <ActionSheet\n          ref={(o) => (this.attachActionSheet = o)}\n          title={\n            <ActionSheetTitleContainer>\n              <ActionSheetTitleText>{t('Add a file')}</ActionSheetTitleText>\n              <IconSquare\n                icon={iconClose}\n                onPress={this.closeAttachActionSheet}\n              />\n            </ActionSheetTitleContainer>\n          }\n          options={[\n            /* eslint-disable */\n            <AttachmentActionSheetItem\n              icon={iconGallery}\n              text={t('Upload a photo')}\n            />,\n            <AttachmentActionSheetItem\n              icon={iconFolder}\n              text={t('Upload a file')}\n            />,\n            /* eslint-enable */\n          ]}\n          onPress={(index) => {\n            // https://github.com/beefe/react-native-actionsheet/issues/36\n            setTimeout(() => {\n              switch (index) {\n                case 0:\n                  this._pickImage();\n                  break;\n                case 1:\n                  this._pickFile();\n                  break;\n                default:\n              }\n            }, 201); // 201ms to fire after the animation is complete https://github.com/beefe/react-native-actionsheet/blob/master/lib/ActionSheetCustom.js#L78\n          }}\n          styles={this.props.actionSheetStyles}\n        />\n        <InputBoxContainer ref={this.props.setInputBoxContainerRef}>\n          {Input ? (\n            <Input\n              {...this.props}\n              getUsers={this.getUsers}\n              onSelectItem={this.onSelectItem}\n              isValidMessage={this.isValidMessage}\n              sendMessage={this.sendMessage}\n              updateMessage={this.updateMessage}\n              _pickFile={this._pickFile}\n              uploadNewFile={this.uploadNewFile}\n              _uploadFile={this._uploadFile}\n              _pickImage={this._pickImage}\n              uploadNewImage={this.uploadNewImage}\n              _removeImage={this._removeImage}\n              _removeFile={this._removeFile}\n              _uploadImage={this._uploadImage}\n              onChange={this.onChangeText}\n              closeAttachActionSheet={this.closeAttachActionSheet}\n              appendText={this.appendText}\n              setInputBoxRef={this.setInputBoxRef}\n              handleOnPress={async () => {\n                if (hasImagePicker && hasFilePicker) {\n                  await this.props.dismissKeyboard();\n                  this.attachActionSheet.show();\n                } else if (hasImagePicker && !hasFilePicker) this._pickImage();\n                else if (!hasImagePicker && hasFilePicker) this._pickFile();\n              }}\n              triggerSettings={ACITriggerSettings({\n                channel: this.props.channel,\n                onMentionSelectItem: this.onSelectItem,\n                t,\n              })}\n              disabled={disabled}\n              value={this.state.text}\n              additionalTextInputProps={additionalTextInputProps}\n            />\n          ) : (\n            <>\n              {(hasImagePicker || hasFilePicker) && (\n                <AttachButton\n                  disabled={disabled}\n                  handleOnPress={async () => {\n                    if (hasImagePicker && hasFilePicker) {\n                      await this.props.dismissKeyboard();\n                      this.attachActionSheet.show();\n                    } else if (hasImagePicker && !hasFilePicker)\n                      this._pickImage();\n                    else if (!hasImagePicker && hasFilePicker) this._pickFile();\n                  }}\n                />\n              )}\n              <AutoCompleteInput\n                openSuggestions={this.props.openSuggestions}\n                closeSuggestions={this.props.closeSuggestions}\n                updateSuggestions={this.props.updateSuggestions}\n                value={this.state.text}\n                onChange={this.onChangeText}\n                getCommands={this.getCommands}\n                setInputBoxRef={this.setInputBoxRef}\n                triggerSettings={ACITriggerSettings({\n                  channel: this.props.channel,\n                  onMentionSelectItem: this.onSelectItem,\n                  t,\n                })}\n                additionalTextInputProps={additionalTextInputProps}\n              />\n              <SendButton\n                title={t('Send message')}\n                sendMessage={this.sendMessage}\n                editing={this.props.editing}\n                disabled={disabled || this.sending || !this.isValidMessage()}\n              />\n            </>\n          )}\n        </InputBoxContainer>\n      </Container>\n    );\n  };\n\n  render() {\n    const { t } = this.props;\n\n    if (this.props.editing) {\n      return (\n        <React.Fragment>\n          <EditingBoxContainer>\n            <EditingBoxHeader>\n              <EditingBoxHeaderTitle>\n                {t('Editing Message')}\n              </EditingBoxHeaderTitle>\n              <IconSquare\n                onPress={() => {\n                  this.props.clearEditingState();\n                }}\n                icon={iconClose}\n              />\n            </EditingBoxHeader>\n            {this.renderInputContainer()}\n          </EditingBoxContainer>\n        </React.Fragment>\n      );\n    }\n\n    return this.renderInputContainer();\n  }\n}\n\nconst MessageInputWithContext = withTranslationContext(\n  withKeyboardContext(\n    withSuggestionsContext(withChannelContext(themed(MessageInput))),\n  ),\n);\nexport { MessageInputWithContext as MessageInput };\n\nconst AttachmentActionSheetItem = ({ icon, text }) => (\n  <ActionSheetButtonContainer>\n    <IconSquare icon={icon} />\n    <ActionSheetButtonText>{text}</ActionSheetButtonText>\n  </ActionSheetButtonContainer>\n);\n","import React, { PureComponent } from 'react';\nimport { Avatar } from './Avatar';\nimport truncate from 'lodash/truncate';\nimport styled from '@stream-io/styled-components';\nimport PropTypes from 'prop-types';\nimport { themed } from '../styles/theme';\nimport { withTranslationContext } from '../context';\n\nconst Container = styled.TouchableOpacity`\n  display: flex;\n  flex-direction: row;\n  border-bottom-color: #ebebeb;\n  border-bottom-width: 1;\n  padding: 10px;\n  ${({ theme }) => theme.channelPreview.container.css}\n`;\n\nconst Details = styled.View`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  padding-left: 10px;\n  ${({ theme }) => theme.channelPreview.details.css}\n`;\n\nconst DetailsTop = styled.View`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  ${({ theme }) => theme.channelPreview.detailsTop.css}\n`;\n\nconst Title = styled.Text`\n  font-weight: bold;\n  font-size: 14;\n  flex: 1;\n  ${({ theme }) => theme.channelPreview.title.css}\n`;\n\nconst Date = styled.Text`\n  color: #767676;\n  font-size: 11;\n  text-align: right;\n  ${({ theme }) => theme.channelPreview.date.css}\n`;\n\nconst Message = styled.Text`\n  color: ${({ theme, unread }) =>\n    unread\n      ? theme.channelPreview.message.unreadColor\n      : theme.channelPreview.message.color};\n  font-size: 13;\n  font-weight: ${({ theme, unread }) =>\n    unread\n      ? theme.channelPreview.message.unreadFontWeight\n      : theme.channelPreview.message.fontWeight};\n  ${({ theme }) => theme.channelPreview.message.css}\n`;\n\n/**\n * ChannelPreviewMessenger - UI component for individual item in list of channels.\n *\n * @example ./docs/ChannelPreviewMessenger.md\n */\nclass ChannelPreviewMessenger extends PureComponent {\n  static themePath = 'channelPreview';\n\n  static propTypes = {\n    /** @see See [Chat Context](https://getstream.github.io/stream-chat-react-native/#chatcontext) */\n    setActiveChannel: PropTypes.func,\n    /** @see See [Chat Context](https://getstream.github.io/stream-chat-react-native/#chatcontext) */\n    channel: PropTypes.object,\n    /** Latest message (object) on channel */\n    latestMessage: PropTypes.object,\n    /** Number of unread messages on channel */\n    unread: PropTypes.number,\n    /** Length at which latest message should be truncated */\n    latestMessageLength: PropTypes.number,\n    /**\n     * Formatter function for date of latest message.\n     * @param date Message date\n     * @returns Formatted date string\n     *\n     * By default today's date is shown in 'HH:mm A' format and other dates\n     * are displayed in 'DD/MM/YY' format. props.latestMessage.created_at is the\n     * default formated date. This default logic is part of ChannelPreview component.\n     */\n    formatLatestMessageDate: PropTypes.func,\n  };\n\n  static defaultProps = {\n    latestMessageLength: 30,\n  };\n\n  onSelectChannel = () => {\n    this.props.setActiveChannel(this.props.channel);\n  };\n\n  renderAvatar = (otherMembers) => {\n    const { channel } = this.props;\n    if (channel.data.image)\n      return (\n        <Avatar image={channel.data.image} size={40} name={channel.data.name} />\n      );\n\n    if (otherMembers.length === 1)\n      return (\n        <Avatar\n          image={otherMembers[0].user.image}\n          size={40}\n          name={channel.data.name || otherMembers[0].user.name}\n        />\n      );\n\n    return <Avatar size={40} name={channel.data.name} />;\n  };\n\n  render() {\n    const { channel, t } = this.props;\n    let otherMembers = [];\n    let name = channel.data.name;\n    const isValidName = name && typeof name === 'string';\n\n    if (!isValidName) {\n      const members = channel.state ? Object.values(channel.state.members) : [];\n      otherMembers = members.filter(\n        (member) => member.user.id !== this.props.client.userID,\n      );\n      name = otherMembers\n        .map((member) => member.user.name || member.user.id || 'Unnamed User')\n        .join(', ');\n    }\n    const formatLatestMessageDate = this.props.formatLatestMessageDate;\n    return (\n      <Container onPress={this.onSelectChannel}>\n        {this.renderAvatar(otherMembers)}\n        <Details>\n          <DetailsTop>\n            <Title ellipsizeMode=\"tail\" numberOfLines={1}>\n              {name}\n            </Title>\n            <Date>\n              {formatLatestMessageDate\n                ? formatLatestMessageDate(\n                    this.props.latestMessage.messageObject.created_at,\n                  )\n                : this.props.latestMessage.created_at}\n            </Date>\n          </DetailsTop>\n          <Message\n            unread={this.props.unread > 0 ? this.props.unread : undefined}\n          >\n            {!this.props.latestMessage\n              ? t('Nothing yet...')\n              : truncate(this.props.latestMessage.text.replace(/\\n/g, ' '), {\n                  length: this.props.latestMessageLength,\n                })}\n          </Message>\n        </Details>\n      </Container>\n    );\n  }\n}\n\nconst ChannelPreviewMessengerWithContext = withTranslationContext(\n  themed(ChannelPreviewMessenger),\n);\nexport { ChannelPreviewMessengerWithContext as ChannelPreviewMessenger };\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { withTranslationContext } from '../context';\n\nclass ChannelPreview extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      unread: 0,\n      lastMessage: {},\n      lastRead: new Date(),\n    };\n  }\n\n  static propTypes = {\n    channel: PropTypes.object.isRequired,\n    client: PropTypes.object.isRequired,\n    setActiveChannel: PropTypes.func,\n    Preview: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n  };\n\n  static defaultProps = {\n    // Preview: ChannelPreviewCountOnly,\n  };\n\n  componentDidMount() {\n    // listen to change...\n    const channel = this.props.channel;\n    this.setState({ unread: channel.countUnread() });\n    channel.on('message.new', this.handleNewMessageEvent);\n    channel.on('message.read', this.handleReadEvent);\n  }\n\n  componentWillUnmount() {\n    const channel = this.props.channel;\n    channel.off('message.new', this.handleNewMessageEvent);\n    channel.off('message.read', this.handleReadEvent);\n  }\n\n  handleReadEvent = (event) => {\n    if (event.user.id === this.props.client.userID) {\n      this.setState({ unread: this.props.channel.countUnread() });\n    }\n  };\n\n  handleNewMessageEvent = (event) => {\n    const channel = this.props.channel;\n    this.setState({\n      lastMessage: event.message,\n      unread: channel.countUnread(),\n    });\n  };\n\n  getLatestMessage = () => {\n    const { channel, t, tDateTimeParser } = this.props;\n    const message = channel.state.messages[channel.state.messages.length - 1];\n\n    const latestMessage = {\n      text: '',\n      created_at: '',\n      messageObject: { ...message },\n    };\n\n    if (!message) {\n      latestMessage.text = t('Nothing yet...');\n      return latestMessage;\n    }\n    if (message.deleted_at) {\n      latestMessage.text = t('Message deleted');\n      return latestMessage;\n    }\n\n    if (message.text) {\n      latestMessage.text = message.text;\n    } else {\n      if (message.command) {\n        latestMessage.text = '/' + message.command;\n      } else if (message.attachments.length) {\n        latestMessage.text = t('🏙 Attachment...');\n      } else {\n        latestMessage.text = t('Empty message...');\n      }\n    }\n\n    if (tDateTimeParser(message.created_at).isSame(new Date(), 'day'))\n      latestMessage.created_at = tDateTimeParser(message.created_at).format(\n        'LT',\n      );\n    else {\n      latestMessage.created_at = tDateTimeParser(message.created_at).format(\n        'L',\n      );\n    }\n\n    return latestMessage;\n  };\n\n  render() {\n    const props = { ...this.state, ...this.props };\n    const { Preview } = this.props;\n    return <Preview {...props} latestMessage={this.getLatestMessage()} />;\n  }\n}\n\nconst ChannelPreviewWithContext = withTranslationContext(ChannelPreview);\n\nexport { ChannelPreviewWithContext as ChannelPreview };\n","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport { withTranslationContext } from '../context';\n\nconst Container = styled.View`\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n  background-color: #fae6e8;\n  padding: 3px;\n  ${({ theme }) => theme.channelListHeaderErrorIndicator.container.css}\n`;\n\nconst ErrorText = styled.Text`\n  color: red;\n  font-size: 12;\n  font-weight: bold;\n  padding: 3px;\n  ${({ theme }) => theme.channelListHeaderErrorIndicator.errorText.css}\n`;\n\nexport const ChannelListHeaderNetworkDownIndicator = withTranslationContext(\n  ({ t }) => (\n    <Container>\n      <ErrorText>{t('Connection failure, reconnecting now ...')}</ErrorText>\n    </Container>\n  ),\n);\n","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport { withTranslationContext } from '../context';\nimport PropTypes from 'prop-types';\n\nconst Container = styled.TouchableOpacity`\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n  background-color: #fae6e8;\n  padding: 3px;\n  ${({ theme }) => theme.channelListHeaderErrorIndicator.container.css}\n`;\n\nconst ErrorText = styled.Text`\n  color: red;\n  font-size: 12;\n  font-weight: bold;\n  padding: 3px;\n  ${({ theme }) => theme.channelListHeaderErrorIndicator.errorText.css}\n`;\n\nconst ChannelListHeaderErrorIndicator = withTranslationContext(\n  ({ onPress, t }) => (\n    <Container\n      onPress={() => {\n        onPress && onPress();\n      }}\n    >\n      <ErrorText>{t('Error while loading, please reload/refresh')}</ErrorText>\n    </Container>\n  ),\n);\n\nChannelListHeaderErrorIndicator.propTypes = {\n  onPress: PropTypes.func,\n};\n\nexport { ChannelListHeaderErrorIndicator };\n","import React from 'react';\n\nimport styled from '@stream-io/styled-components';\nimport { Spinner } from './Spinner';\n\nconst Container = styled.View`\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  ${({ theme }) => theme.channelListFooterLoadingIndicator.container.css}\n`;\n\nexport const ChannelListFooterLoadingIndicator = () => (\n  <Container>\n    <Spinner />\n  </Container>\n);\n","import React, { PureComponent } from 'react';\nimport { FlatList } from 'react-native';\nimport PropTypes from 'prop-types';\nimport { ChannelPreview } from './ChannelPreview';\nimport { ChannelPreviewMessenger } from './ChannelPreviewMessenger';\nimport { withChatContext } from '../context';\nimport { ChannelListHeaderNetworkDownIndicator } from './ChannelListHeaderNetworkDownIndicator';\nimport { ChannelListHeaderErrorIndicator } from './ChannelListHeaderErrorIndicator';\n\nimport { LoadingIndicator } from './LoadingIndicator';\nimport { LoadingErrorIndicator } from './LoadingErrorIndicator';\nimport { EmptyStateIndicator } from './EmptyStateIndicator';\nimport { ChannelListFooterLoadingIndicator } from './ChannelListFooterLoadingIndicator';\n\n/**\n * ChannelListMessenger - UI component for list of channels, allowing you to select the channel you want to open\n *\n * @example ./docs/ChannelListMessenger.md\n */\nconst ChannelListMessenger = withChatContext(\n  class ChannelListMessenger extends PureComponent {\n    static propTypes = {\n      /** Channels can be either an array of channels or a promise which resolves to an array of channels */\n      channels: PropTypes.oneOfType([\n        PropTypes.array,\n        PropTypes.objectOf({\n          then: PropTypes.func,\n        }),\n        PropTypes.object,\n      ]).isRequired,\n      setActiveChannel: PropTypes.func,\n      /** UI Component to display individual channel item in list.\n       * Defaults to [ChannelPreviewMessenger](https://getstream.github.io/stream-chat-react-native/#channelpreviewmessenger) */\n      Preview: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /** The loading indicator to use. Default: [LoadingIndicator](https://getstream.github.io/stream-chat-react-native/#loadingindicator) */\n      LoadingIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /** The indicator to use when there is error in fetching channels. Default: [LoadingErrorIndicator](https://getstream.github.io/stream-chat-react-native/#loadingerrorindicator) */\n      LoadingErrorIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /** The indicator to use when channel list is empty. Default: [EmptyStateIndicator](https://getstream.github.io/stream-chat-react-native/#emptystateindicator) */\n      EmptyStateIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * The indicator to display network-down error at top of list, if there is connectivity issue\n       * Default: [ChannelListHeaderNetworkDownIndicator](https://getstream.github.io/stream-chat-react-native/#ChannelListHeaderNetworkDownIndicator)\n       */\n      HeaderNetworkDownIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * The indicator to display error at top of list, if there was an error loading some page/channels after the first page.\n       * Default: [ChannelListHeaderErrorIndicator](https://getstream.github.io/stream-chat-react-native/#ChannelListHeaderErrorIndicator)\n       */\n      HeaderErrorIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * Loading indicator to display at bottom of the list, while loading further pages.\n       * Default: [ChannelListFooterLoadingIndicator](https://getstream.github.io/stream-chat-react-native/#ChannelListFooterLoadingIndicator)\n       */\n      FooterLoadingIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /** Remove all the existing channels from UI and load fresh channels. */\n      reloadList: PropTypes.func,\n      /** Loads next page of channels in channels object, which is present here as prop */\n      loadNextPage: PropTypes.func,\n      /**\n       * Refresh the channel list. Its similar to `reloadList`, but it doesn't wipe out existing channels\n       * from UI before loading new set of channels.\n       */\n      refreshList: PropTypes.func,\n      /**\n       * For flatlist\n       * @see See loeadMoreThreshold [doc](https://facebook.github.io/react-native/docs/flatlist#onendreachedthreshold)\n       * */\n      loadMoreThreshold: PropTypes.number,\n      /** If there is error in querying channels */\n      error: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n      /** If channels are being queries. LoadingIndicator will be displayed if true */\n      loadingChannels: PropTypes.bool,\n      /** If channel list is being refreshed. Loader at top of the list will be displayed if true. */\n      refreshing: PropTypes.bool,\n      /** If further channels are being loadded. Loader will be shown at bottom of the list */\n      loadingNextPage: PropTypes.bool,\n      /**\n       * Besides existing (default) UX behaviour of underlying flatlist of ChannelListMessenger component, if you want\n       * to attach some additional props to un derlying flatlist, you can add it to following prop.\n       *\n       * You can find list of all the available FlatList props here - https://facebook.github.io/react-native/docs/flatlist#props\n       *\n       * **NOTE** Don't use `additionalFlatListProps` to get access to ref of flatlist. Use `setFlatListRef` instead.\n       *\n       * e.g.\n       * ```\n       * <ChannelListMessenger\n       *  channels={channels}\n       *  additionalFlatListProps={{ bounces: true }} />\n       * ```\n       */\n      additionalFlatListProps: PropTypes.object,\n      /**\n       * Use `setFlatListRef` to get access to ref to inner FlatList.\n       *\n       * e.g.\n       * ```\n       * <ChannelListMessenger\n       *  setFlatListRef={(ref) => {\n       *    // Use ref for your own good\n       *  }}\n       * ```\n       */\n      setFlatListRef: PropTypes.func,\n    };\n\n    static defaultProps = {\n      Preview: ChannelPreviewMessenger,\n      LoadingIndicator,\n      LoadingErrorIndicator,\n      HeaderNetworkDownIndicator: ChannelListHeaderNetworkDownIndicator,\n      HeaderErrorIndicator: ChannelListHeaderErrorIndicator,\n      FooterLoadingIndicator: ChannelListFooterLoadingIndicator,\n      EmptyStateIndicator,\n      // https://github.com/facebook/react-native/blob/a7a7970e543959e9db5281914d5f132beb01db8d/Libraries/Lists/VirtualizedList.js#L466\n      loadMoreThreshold: 2,\n      additionalFlatListProps: {},\n    };\n\n    renderLoading = () => {\n      const Indicator = this.props.LoadingIndicator;\n      return <Indicator listType=\"channel\" />;\n    };\n\n    renderLoadingError = () => {\n      const Indicator = this.props.LoadingErrorIndicator;\n      return (\n        <Indicator\n          error={this.props.error}\n          retry={this.props.reloadList}\n          listType=\"channel\"\n          loadNextPage={this.props.loadNextPage}\n        />\n      );\n    };\n\n    renderEmptyState = () => {\n      const Indicator = this.props.EmptyStateIndicator;\n      return <Indicator listType=\"channel\" />;\n    };\n\n    renderHeaderIndicator = () => {\n      const { isOnline, error, refreshList } = this.props;\n\n      if (!isOnline) {\n        const HeaderNetworkDownIndicator = this.props\n          .HeaderNetworkDownIndicator;\n        return <HeaderNetworkDownIndicator />;\n      }\n\n      if (error) {\n        const HeaderErrorIndicator = this.props.HeaderErrorIndicator;\n        return <HeaderErrorIndicator onPress={refreshList} />;\n      }\n    };\n\n    renderChannels = () => (\n      <>\n        {this.renderHeaderIndicator()}\n        <FlatList\n          ref={(flRef) => {\n            this.props.setFlatListRef && this.props.setFlatListRef(flRef);\n          }}\n          data={this.props.channels}\n          onEndReached={() => this.props.loadNextPage(false)}\n          onRefresh={() => this.props.refreshList()}\n          refreshing={this.props.refreshing}\n          onEndReachedThreshold={this.props.loadMoreThreshold}\n          ListEmptyComponent={this.renderEmptyState}\n          ListFooterComponent={() => {\n            if (this.props.loadingNextPage) {\n              const FooterLoadingIndicator = this.props.FooterLoadingIndicator;\n\n              return <FooterLoadingIndicator />;\n            }\n\n            return null;\n          }}\n          renderItem={({ item: channel }) => (\n            <ChannelPreview\n              {...this.props}\n              key={channel.cid}\n              channel={channel}\n              Preview={this.props.Preview}\n            />\n          )}\n          keyExtractor={(item) => item.cid}\n          {...this.props.additionalFlatListProps}\n        />\n      </>\n    );\n\n    render() {\n      if (this.props.error && this.props.channels.length === 0) {\n        return this.renderLoadingError();\n      } else if (this.props.loadingChannels) {\n        return this.renderLoading();\n      } else {\n        return this.renderChannels();\n      }\n    }\n  },\n);\n\nexport { ChannelListMessenger };\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { ChannelPreviewMessenger } from './ChannelPreviewMessenger';\nimport { withChatContext } from '../context';\nimport { ChannelListMessenger } from './ChannelListMessenger';\nimport Immutable from 'seamless-immutable';\nimport debounce from 'lodash/debounce';\n\nimport { LoadingIndicator } from './LoadingIndicator';\nimport { LoadingErrorIndicator } from './LoadingErrorIndicator';\nimport { EmptyStateIndicator } from './EmptyStateIndicator';\nimport uniqBy from 'lodash/uniqBy';\nimport uniqWith from 'lodash/uniqWith';\nimport isEqual from 'lodash/isEqual';\n\nexport const isPromise = (thing) => {\n  const promise = thing && typeof thing.then === 'function';\n  return promise;\n};\n\nexport const DEFAULT_QUERY_CHANNELS_LIMIT = 10;\nexport const MAX_QUERY_CHANNELS_LIMIT = 30;\n\n/**\n * ChannelList - A preview list of channels, allowing you to select the channel you want to open.\n * This components doesn't provide any UI for the list. UI is provided by component `List` which should be\n * provided to this component as prop. By default ChannelListMessenger is used a list UI.\n *\n * @extends PureComponent\n * @example ./docs/ChannelList.md\n */\nconst ChannelList = withChatContext(\n  class ChannelList extends PureComponent {\n    static propTypes = {\n      /** The Preview to use, defaults to [ChannelPreviewMessenger](https://getstream.github.io/stream-chat-react-native/#channelpreviewmessenger) */\n      Preview: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n\n      /** The loading indicator to use */\n      LoadingIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /** The indicator to use when there is error in fetching channels */\n      LoadingErrorIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /** The indicator to use when channel list is empty */\n      EmptyStateIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * The indicator to display network-down error at top of list, if there is connectivity issue\n       * Default: [ChannelListHeaderNetworkDownIndicator](https://getstream.github.io/stream-chat-react-native/#ChannelListHeaderNetworkDownIndicator)\n       */\n      HeaderNetworkDownIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * The indicator to display error at top of list, if there was an error loading some page/channels after the first page.\n       * Default: [ChannelListHeaderErrorIndicator](https://getstream.github.io/stream-chat-react-native/#ChannelListHeaderErrorIndicator)\n       */\n      HeaderErrorIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * Loading indicator to display at bottom of the list, while loading further pages.\n       * Default: [ChannelListFooterLoadingIndicator](https://getstream.github.io/stream-chat-react-native/#ChannelListFooterLoadingIndicator)\n       */\n      FooterLoadingIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      List: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      onSelect: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when new message is received on channel that is not being watched\n       *\n       * @param {Component} thisArg Reference to ChannelList component\n       * @param {Event} event       [Event object](https://getstream.io/chat/docs/event_object) corresponding to `notification.message_new` event\n       * */\n      onMessageNew: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when users gets added to a channel\n       *\n       * @param {Component} thisArg Reference to ChannelList component\n       * @param {Event} event       [Event object](https://getstream.io/chat/docs/event_object) corresponding to `notification.added_to_channel` event\n       * */\n      onAddedToChannel: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when users gets removed from a channel\n       *\n       * @param {Component} thisArg Reference to ChannelList component\n       * @param {Event} event       [Event object](https://getstream.io/chat/docs/event_object) corresponding to `notification.removed_from_channel` event\n       * */\n      onRemovedFromChannel: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when channel gets updated\n       *\n       * @param {Component} thisArg Reference to ChannelList component\n       * @param {Event} event       [Event object](https://getstream.io/chat/docs/event_object) corresponding to `channel.updated` event\n       * */\n      onChannelUpdated: PropTypes.func,\n      /**\n       * Function to customize behaviour when channel gets truncated\n       *\n       * @param {Component} thisArg Reference to ChannelList component\n       * @param {Event} event       [Event object](https://getstream.io/chat/docs/event_object) corresponding to `channel.truncated` event\n       * */\n      onChannelTruncated: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when channel gets deleted. In absence of this prop, channel will be removed from the list.\n       *\n       * @param {Component} thisArg Reference to ChannelList component\n       * @param {Event} event       [Event object](https://getstream.io/chat/docs/event_object) corresponding to `channel.deleted` event\n       * */\n      onChannelDeleted: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when channel gets hidden. In absence of this prop, channel will be removed from the list.\n       *\n       * @param {Component} thisArg Reference to ChannelList component\n       * @param {Event} event       [Event object](https://getstream.io/chat/docs/event_object) corresponding to `channel.hidden` event\n       * */\n      onChannelHidden: PropTypes.func,\n      /**\n       * Object containing query filters\n       * @see See [Channel query documentation](https://getstream.io/chat/docs/query_channels) for a list of available fields for filter.\n       * */\n      filters: PropTypes.object,\n      /**\n       * Object containing query options\n       * @see See [Channel query documentation](https://getstream.io/chat/docs/query_channels) for a list of available fields for options.\n       * */\n      options: PropTypes.object,\n      /**\n       * Object containing sort parameters\n       * @see See [Channel query documentation](https://getstream.io/chat/docs/query_channels) for a list of available fields for sort.\n       * */\n      sort: PropTypes.object,\n      /** For flatlist  */\n      loadMoreThreshold: PropTypes.number,\n      /** Client object. Avaiable from [Chat context](#chatcontext) */\n      client: PropTypes.object,\n      /**\n       * Function to set change active channel. This function acts as bridge between channel list and currently active channel component.\n       *\n       * @param channel A Channel object\n       */\n      setActiveChannel: PropTypes.func,\n      /**\n       * If true, channels won't be dynamically sorted by most recent message.\n       */\n      lockChannelOrder: PropTypes.bool,\n      /**\n       * Besides existing (default) UX behaviour of underlying flatlist of ChannelList component, if you want\n       * to attach some additional props to un derlying flatlist, you can add it to following prop.\n       *\n       * You can find list of all the available FlatList props here - https://facebook.github.io/react-native/docs/flatlist#props\n       *\n       * **NOTE** Don't use `additionalFlatListProps` to get access to ref of flatlist. Use `setFlatListRef` instead.\n       *\n       * e.g.\n       * ```\n       * <ChannelList\n       *  filters={filters}\n       *  sort={sort}\n       *  additionalFlatListProps={{ bounces: true }} />\n       * ```\n       */\n      additionalFlatListProps: PropTypes.object,\n      /**\n       * Use `setFlatListRef` to get access to ref to inner FlatList.\n       *\n       * e.g.\n       * ```\n       * <ChannelList\n       *  setFlatListRef={(ref) => {\n       *    // Use ref for your own good\n       *  }}\n       * ```\n       */\n      setFlatListRef: PropTypes.func,\n    };\n\n    static defaultProps = {\n      Preview: ChannelPreviewMessenger,\n      List: ChannelListMessenger,\n      LoadingIndicator,\n      LoadingErrorIndicator,\n      EmptyStateIndicator,\n      filters: {},\n      options: {},\n      sort: {},\n      // https://github.com/facebook/react-native/blob/a7a7970e543959e9db5281914d5f132beb01db8d/Libraries/Lists/VirtualizedList.js#L466\n      loadMoreThreshold: 2,\n      lockChannelOrder: false,\n      additionalFlatListProps: {},\n      logger: () => {},\n    };\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        error: false,\n        channels: Immutable([]),\n        channelIds: Immutable([]),\n        refreshing: false,\n        loadingChannels: true,\n        loadingNextPage: false,\n        hasNextPage: true,\n        offset: 0,\n      };\n      this.listRef = React.createRef();\n      this.lastRefresh = new Date();\n      this._queryChannelsDebounced = debounce(\n        async (params = {}) => {\n          await this.queryChannelsPromise;\n          if (this.state.error) {\n            return;\n          }\n\n          if (!this.state.hasNextPage) {\n            return;\n          }\n\n          this.queryChannels(params.queryType);\n        },\n        1000,\n        {\n          leading: true,\n          trailing: true,\n        },\n      );\n      this._unmounted = false;\n    }\n\n    async componentDidMount() {\n      await this.queryChannels('reload');\n      this.listenToChanges();\n    }\n\n    async componentDidUpdate(prevProps) {\n      // do we need deepequal?\n      if (\n        !isEqual(prevProps.filters, this.props.filters) ||\n        !isEqual(prevProps.sort, this.props.sort)\n      ) {\n        this._queryChannelsDebounced.cancel();\n        await this.queryChannels('reload');\n      }\n    }\n\n    componentWillUnmount() {\n      this._unmounted = true;\n      this.props.client.off(this.handleEvent);\n      this._queryChannelsDebounced.cancel();\n    }\n\n    static getDerivedStateFromError(error) {\n      return { error };\n    }\n\n    componentDidCatch(error, info) {\n      console.warn(error, error.isUnmounted, info);\n    }\n\n    setStateAsync = (newState) => {\n      if (this._unmounted) {\n        this._queryChannelsDebounced.cancel();\n        return;\n      }\n\n      return new Promise((resolve) => {\n        this.setState(newState, resolve);\n      });\n    };\n\n    wait = (ms) =>\n      new Promise((resolve) => {\n        setTimeout(resolve, ms);\n      });\n\n    queryChannelsRequest = async (filters, sort, options, retryCount = 1) => {\n      let channelQueryResponse;\n      try {\n        channelQueryResponse = await this.props.client.queryChannels(\n          filters,\n          sort,\n          options,\n        );\n      } catch (e) {\n        // Wait for 2 seconds before making another attempt\n        await this.wait(2000);\n        // Don't try more than 3 times.\n        if (retryCount === 3) {\n          throw e;\n        }\n        return this.queryChannelsRequest(\n          filters,\n          sort,\n          options,\n          retryCount + 1,\n        );\n      }\n\n      return channelQueryResponse;\n    };\n\n    getQueryParams = (queryType) => {\n      const { options, filters, sort } = this.props;\n      let offset;\n      let limit;\n\n      if (queryType === 'refresh' || queryType === 'reload') {\n        offset = 0;\n        limit = MAX_QUERY_CHANNELS_LIMIT;\n        if (this.state.channels.length === 0) {\n          limit = options.limit || DEFAULT_QUERY_CHANNELS_LIMIT;\n        } else if (this.state.channels.length < MAX_QUERY_CHANNELS_LIMIT) {\n          limit = Math.max(\n            this.state.channels.length,\n            DEFAULT_QUERY_CHANNELS_LIMIT,\n          );\n        }\n      } else {\n        limit = options.limit || DEFAULT_QUERY_CHANNELS_LIMIT;\n        offset = this.state.offset;\n      }\n\n      const queryOptions = {\n        ...options,\n        offset,\n        limit,\n      };\n\n      return {\n        filters,\n        sort,\n        options: queryOptions,\n      };\n    };\n\n    setRefreshingUIState = () =>\n      this.setStateAsync({\n        refreshing: true,\n        loadingChannels: false,\n        loadingNextPage: false,\n      });\n\n    setReloadingUIState = () =>\n      this.setStateAsync({\n        refreshing: false,\n        loadingChannels: true,\n        loadingNextPage: false,\n        error: false,\n        channels: Immutable([]),\n        channelIds: Immutable([]),\n      });\n\n    setLoadingNextPageUIState = () =>\n      this.setStateAsync({\n        refreshing: false,\n        loadingChannels: false,\n        loadingNextPage: true,\n      });\n\n    // Sets the loading UI state before the star\n    startQueryLoadingUIState = async (queryType) => {\n      switch (queryType) {\n        case 'refresh':\n          await this.setRefreshingUIState();\n          break;\n        case 'reload':\n          await this.setReloadingUIState();\n          break;\n        default:\n          await this.setLoadingNextPageUIState();\n          break;\n      }\n    };\n\n    finishQueryLoadingUIState = () =>\n      this.setStateAsync({\n        refreshing: false,\n        loadingChannels: false,\n        loadingNextPage: false,\n      });\n\n    /**\n     * queryType - 'refresh' | 'reload'\n     *\n     * refresh - Refresh the channel list. You will see the existing channels during refreshing.a\n     *  Mainly used for pull to refresh or resyning upong network recovery.\n     *\n     * reload  - Reload the channel list from begining. You won't see existing channels during reload.\n     */\n    queryChannels = (queryType) => {\n      // Don't query again if query is already active or there are no more results.\n      this.queryChannelsPromise = new Promise(async (resolve) => {\n        try {\n          await this.startQueryLoadingUIState(queryType);\n\n          const { filters, sort, options } = this.getQueryParams(queryType);\n          const channelQueryResponse = await this.queryChannelsRequest(\n            filters,\n            sort,\n            options,\n          );\n\n          // Set the active channel only in case of reload.\n          if (queryType === 'reload' && channelQueryResponse.length >= 1) {\n            this.props.setActiveChannel(channelQueryResponse[0]);\n          }\n\n          this.finishQueryLoadingUIState();\n          const hasNextPage =\n            channelQueryResponse.length >=\n            (options.limit || DEFAULT_QUERY_CHANNELS_LIMIT);\n\n          if (queryType === 'refresh' || queryType === 'reload') {\n            await this.setChannels(channelQueryResponse, {\n              hasNextPage,\n              error: false,\n            });\n          } else {\n            await this.appendChannels(channelQueryResponse, {\n              hasNextPage,\n              error: false,\n            });\n          }\n\n          resolve(true);\n        } catch (e) {\n          await this.handleError(e);\n\n          resolve(false);\n          return;\n        }\n      });\n\n      return this.queryChannelsPromise;\n    };\n\n    handleError = () => {\n      this._queryChannelsDebounced.cancel();\n      this.finishQueryLoadingUIState();\n      return this.setStateAsync({\n        error: true,\n      });\n    };\n\n    appendChannels = (channels = [], additionalState = {}) => {\n      // Remove duplicate channels in worse case we get repeted channel from backend.\n      let distinctChannels = channels.filter(\n        (c) => this.state.channelIds.indexOf(c.id) === -1,\n      );\n\n      distinctChannels = [...this.state.channels, ...distinctChannels];\n      const channelIds = [\n        ...this.state.channelIds,\n        ...distinctChannels.map((c) => c.id),\n      ];\n\n      return this.setStateAsync({\n        channels: distinctChannels,\n        channelIds,\n        offset: distinctChannels.length,\n        ...additionalState,\n      });\n    };\n\n    setChannels = (channels = [], additionalState = {}) => {\n      const distinctChannels = [...channels];\n      const channelIds = [...channels.map((c) => c.id)];\n\n      return this.setStateAsync({\n        channels: distinctChannels,\n        channelIds,\n        offset: distinctChannels.length,\n        ...additionalState,\n      });\n    };\n\n    listenToChanges() {\n      this.props.client.on(this.handleEvent);\n    }\n\n    handleEvent = async (e) => {\n      if (e.type === 'channel.hidden') {\n        if (\n          this.props.onChannelHidden &&\n          typeof this.props.onChannelHidden === 'function'\n        ) {\n          this.props.onChannelHidden(this, e);\n        } else {\n          const channels = this.state.channels;\n          const channelIndex = channels.findIndex(\n            (channel) => channel.cid === e.cid,\n          );\n\n          if (channelIndex < 0) return;\n\n          // Remove the hidden channel from the list.\n          channels.splice(channelIndex, 1);\n          this.setStateAsync({\n            channels: [...channels],\n          });\n        }\n      }\n\n      if (e.type === 'user.presence.changed' || e.type === 'user.updated') {\n        let newChannels = this.state.channels;\n\n        newChannels = newChannels.map((channel) => {\n          if (!channel.state.members[e.user.id]) return channel;\n\n          channel.state.members.setIn([e.user.id, 'user'], e.user);\n\n          return channel;\n        });\n\n        this.setStateAsync({ channels: [...newChannels] });\n      }\n\n      if (e.type === 'message.new') {\n        !this.props.lockChannelOrder && this.moveChannelUp(e.cid);\n      }\n\n      // make sure to re-render the channel list after connection is recovered\n      if (e.type === 'connection.recovered') {\n        this._queryChannelsDebounced.cancel();\n        this.queryChannels('refresh');\n      }\n\n      // move channel to start\n      if (e.type === 'notification.message_new') {\n        if (\n          this.props.onMessageNew &&\n          typeof this.props.onMessageNew === 'function'\n        ) {\n          this.props.onMessageNew(this, e);\n        } else {\n          const channel = await this.getChannel(e.channel.type, e.channel.id);\n\n          // move channel to starting position\n          if (this._unmounted) return;\n          this.setState((prevState) => ({\n            channels: uniqBy([channel, ...prevState.channels], 'cid'),\n            channelIds: uniqWith(\n              [channel.id, ...prevState.channelIds],\n              isEqual,\n            ),\n            offset: prevState.offset + 1,\n          }));\n        }\n      }\n\n      // add to channel\n      if (e.type === 'notification.added_to_channel') {\n        if (\n          this.props.onAddedToChannel &&\n          typeof this.props.onAddedToChannel === 'function'\n        ) {\n          this.props.onAddedToChannel(this, e);\n        } else {\n          const channel = await this.getChannel(e.channel.type, e.channel.id);\n\n          if (this._unmounted) return;\n          this.setState((prevState) => ({\n            channels: uniqBy([channel, ...prevState.channels], 'cid'),\n            channelIds: uniqWith(\n              [channel.id, ...prevState.channelIds],\n              isEqual,\n            ),\n            offset: prevState.offset + 1,\n          }));\n        }\n      }\n\n      // remove from channel\n      if (e.type === 'notification.removed_from_channel') {\n        if (\n          this.props.onRemovedFromChannel &&\n          typeof this.props.onRemovedFromChannel === 'function'\n        ) {\n          this.props.onRemovedFromChannel(this, e);\n        } else {\n          if (this._unmounted) return;\n          this.setState((prevState) => {\n            const channels = prevState.channels.filter(\n              (channel) => channel.cid !== e.channel.cid,\n            );\n            const channelIds = prevState.channelIds.filter(\n              (cid) => cid !== e.channel.cid,\n            );\n            return {\n              channels,\n              channelIds,\n            };\n          });\n        }\n      }\n\n      // Channel data is updated\n      if (e.type === 'channel.updated') {\n        const channels = this.state.channels;\n        const channelIndex = channels.findIndex(\n          (channel) => channel.cid === e.channel.cid,\n        );\n\n        if (channelIndex > -1) {\n          channels[channelIndex].data = Immutable(e.channel);\n          this.setStateAsync({\n            channels: [...channels],\n          });\n        }\n\n        if (\n          this.props.onChannelUpdated &&\n          typeof this.props.onChannelUpdated === 'function'\n        )\n          this.props.onChannelUpdated(this, e);\n      }\n\n      // Channel is deleted\n      if (e.type === 'channel.deleted') {\n        if (\n          this.props.onChannelDeleted &&\n          typeof this.props.onChannelDeleted === 'function'\n        ) {\n          this.props.onChannelDeleted(this, e);\n        } else {\n          const channels = this.state.channels;\n          const channelIndex = channels.findIndex(\n            (channel) => channel.cid === e.channel.cid,\n          );\n\n          if (channelIndex < 0) return;\n\n          // Remove the deleted channel from the list.\n          channels.splice(channelIndex, 1);\n          this.setStateAsync({\n            channels: [...channels],\n          });\n        }\n      }\n\n      if (e.type === 'channel.truncated') {\n        this.setState((prevState) => ({\n          channels: [...prevState.channels],\n        }));\n\n        if (\n          this.props.onChannelTruncated &&\n          typeof this.props.onChannelTruncated === 'function'\n        )\n          this.props.onChannelTruncated(this, e);\n      }\n\n      return null;\n    };\n\n    getChannel = async (type, id) => {\n      const channel = this.props.client.channel(type, id);\n      await channel.watch();\n      return channel;\n    };\n\n    moveChannelUp = (cid) => {\n      if (this._unmounted) return;\n      const channels = this.state.channels;\n\n      // get channel index\n      const channelIndex = this.state.channels.findIndex(\n        (channel) => channel.cid === cid,\n      );\n      if (channelIndex <= 0) return;\n\n      // get channel from channels\n      const channel = channels[channelIndex];\n\n      //remove channel from current position\n      channels.splice(channelIndex, 1);\n      //add channel at the start\n      channels.unshift(channel);\n\n      // set new channel state\n      if (this._unmounted) return;\n      this.setStateAsync({\n        channels: [...channels],\n      });\n    };\n\n    // Refreshes the list. Existing list of channels will still be visible on UI while refreshing.\n    refreshList = async () => {\n      const now = new Date();\n      // Only allow pull-to-refresh 10 seconds after last successful refresh.\n      if (now - this.lastRefresh < 10000 && !this.state.error) {\n        return;\n      }\n\n      // if (!this.state.error) return;\n      this.listRef.scrollToIndex({ index: 0 });\n      this._queryChannelsDebounced.cancel();\n      const success = await this.queryChannels('refresh');\n\n      if (success) this.lastRefresh = new Date();\n    };\n\n    // Reloads the channel list. All the existing channels will be wiped out first from UI, and then\n    // queryChannels api will be called to fetch new channels.\n    reloadList = () => {\n      this._queryChannelsDebounced.cancel();\n      this.queryChannels('reload');\n    };\n\n    loadNextPage = () => {\n      this._queryChannelsDebounced();\n    };\n\n    render() {\n      const context = {\n        loadNextPage: this.loadNextPage,\n        refreshList: this.refreshList,\n        reloadList: this.reloadList,\n      };\n      const List = this.props.List;\n      const props = { ...this.props, setActiveChannel: this.props.onSelect };\n\n      return (\n        <React.Fragment>\n          <List\n            {...props}\n            {...this.state}\n            {...context}\n            setFlatListRef={(ref) => {\n              this.listRef = ref;\n              this.props.setFlatListRef && this.props.setFlatListRef(ref);\n            }}\n          />\n        </React.Fragment>\n      );\n    }\n  },\n);\n\nexport { ChannelList };\n","import React from 'react';\n\nimport { withChannelContext, withTranslationContext } from '../context';\nimport { MessageList } from './MessageList';\nimport { MessageInput } from './MessageInput';\nimport PropTypes from 'prop-types';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\n\nimport { Message } from './Message';\n\nconst NewThread = styled.View`\n  padding: 8px;\n  background-color: #f4f9ff;\n  margin: 10px;\n  border-radius: 4;\n  display: flex;\n  align-items: center;\n  ${({ theme }) => theme.thread.newThread.css};\n`;\n\nconst NewThreadText = styled.Text`\n  ${({ theme }) => theme.thread.newThread.text.css};\n`;\n\n/**\n * Thread - The Thread renders a parent message with a list of replies. Use the standard message list of the main channel's messages.\n * The thread is only used for the list of replies to a message.\n *\n * Thread is a consumer of [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)\n * Underlying MessageList, MessageInput and Message components can be customized using props:\n * - additionalParentMessageProps\n * - additionalMessageListProps\n * - additionalMessageInputProps\n *\n * @example ./docs/Thread.md\n * @extends Component\n */\nclass Thread extends React.PureComponent {\n  static themePath = 'thread';\n  static propTypes = {\n    /** Make input focus on mounting thread */\n    autoFocus: PropTypes.bool,\n    /**\n     * **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)**\n     * */\n    channel: PropTypes.object.isRequired,\n    /**\n     *  **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)**\n     * */\n    Message: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /**\n     * **Customized MessageInput component to used within Thread instead of default MessageInput\n     * **Available from [MessageInput](https://getstream.github.io/stream-chat-react-native/#messageinput)**\n     * */\n    MessageInput: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /**\n     * **Customized MessageList component to used within Thread instead of default MessageList\n     * **Available from [MessageList](https://getstream.github.io/stream-chat-react-native/#messagelist)**\n     * */\n    MessageList: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /**\n     * **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)**\n     * The thread (the parent [message object](https://getstream.io/chat/docs/#message_format)) */\n    thread: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n    /**\n     * **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)**\n     * The array of immutable messages to render. By default they are provided by parent Channel component */\n    threadMessages: PropTypes.array.isRequired,\n    /**\n     * **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)**\n     *\n     * Function which provides next page of thread messages.\n     * loadMoreThread is called when infinite scroll wants to load more messages\n     * */\n    loadMoreThread: PropTypes.func.isRequired,\n    /**\n     * **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)**\n     * If there are more messages available, set to false when the end of pagination is reached.\n     * */\n    threadHasMore: PropTypes.bool,\n    /**\n     * **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)**\n     * If the thread is currently loading more messages. This is helpful to display a loading indicator on threadlist */\n    threadLoadingMore: PropTypes.bool,\n    /** Disables the thread UI. So MessageInput and MessageList will be disabled. */\n    disabled: PropTypes.bool,\n    /**\n     * Additional props for underlying Message component of parent message at the top.\n     * Available props - https://getstream.github.io/stream-chat-react-native/#message\n     * */\n    additionalParentMessageProps: PropTypes.object,\n    /**\n     * Additional props for underlying MessageList component.\n     * Available props - https://getstream.github.io/stream-chat-react-native/#messagelist\n     * */\n    additionalMessageListProps: PropTypes.object,\n    /**\n     * Additional props for underlying MessageInput component.\n     * Available props - https://getstream.github.io/stream-chat-react-native/#messageinput\n     * */\n    additionalMessageInputProps: PropTypes.object,\n  };\n\n  static defaultProps = {\n    threadHasMore: true,\n    threadLoadingMore: true,\n    autoFocus: true,\n    MessageList,\n    MessageInput,\n  };\n\n  render() {\n    if (!this.props.thread) {\n      return null;\n    }\n\n    const parentID = this.props.thread.id;\n    const cid = this.props.channel.cid;\n\n    const key = `thread-${parentID}-${cid}`;\n    // We use a wrapper to make sure the key variable is set.\n    // this ensures that if you switch thread the component is recreated\n    return <ThreadInner {...this.props} key={key} />;\n  }\n}\n\nclass ThreadInner extends React.PureComponent {\n  static propTypes = {\n    /** Channel is passed via the Channel Context */\n    channel: PropTypes.object.isRequired,\n    /** the thread (just a message) that we're rendering */\n    thread: PropTypes.object.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.messageList = React.createRef();\n  }\n\n  async componentDidMount() {\n    const parentID = this.props.thread.id;\n    if (parentID && this.props.thread.reply_count) {\n      await this.props.loadMoreThread();\n    }\n  }\n\n  render() {\n    const {\n      t,\n      thread,\n      additionalParentMessageProps,\n      threadMessages,\n      loadMoreThread,\n      threadHasMore,\n      threadLoadingMore,\n      additionalMessageListProps,\n      autoFocus,\n      additionalMessageInputProps,\n      MessageList: MessageListComponent,\n      MessageInput: MessageInputComponent,\n      disabled,\n    } = this.props;\n    if (!thread) {\n      return null;\n    }\n\n    const read = {};\n    const headerComponent = (\n      <React.Fragment>\n        <Message\n          message={thread}\n          initialMessage\n          threadList\n          readOnly\n          groupStyles={['single']}\n          Message={this.props.Message}\n          // TODO: remove the following line in next release, since we already have additionalParentMessageProps now.\n          {...this.props}\n          {...additionalParentMessageProps}\n        />\n        <NewThread>\n          <NewThreadText>{t('Start of a new thread')}</NewThreadText>\n        </NewThread>\n      </React.Fragment>\n    );\n\n    return (\n      <React.Fragment>\n        <MessageListComponent\n          messages={threadMessages}\n          HeaderComponent={headerComponent}\n          read={read}\n          threadList\n          loadMore={loadMoreThread}\n          hasMore={threadHasMore}\n          loadingMore={threadLoadingMore}\n          Message={this.props.Message}\n          {...additionalMessageListProps}\n        />\n        <MessageInputComponent\n          parent={thread}\n          focus={autoFocus}\n          disabled={disabled}\n          {...additionalMessageInputProps}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nconst ThreadWithContext = withTranslationContext(\n  withChannelContext(themed(Thread)),\n);\n\nexport { ThreadWithContext as Thread };\n","import * as React from 'react';\n\nimport styled from '@stream-io/styled-components';\n\nconst Container = styled.View``;\n\nconst Icon = styled.View`\n  padding-top: 5;\n  align-self: center;\n  border-radius: 20;\n  align-items: center;\n  justify-content: center;\n  ${({ theme }) => theme.iconBadge.icon.css}\n`;\n\nconst IconInner = styled.View`\n  background-color: green;\n  justify-content: center;\n  align-items: center;\n  align-self: flex-start;\n  min-width: 15;\n  height: 15;\n  padding-left: 3;\n  padding-right: 3;\n  border-radius: 20;\n  ${({ theme }) => theme.iconBadge.iconInner.css}\n`;\n\nconst UnreadCount = styled.Text`\n  font-size: 10;\n  color: #ffffff;\n  ${({ theme }) => theme.iconBadge.unreadCount.css}\n`;\n\nexport class IconBadge extends React.Component {\n  render() {\n    const { children, showNumber, unread } = this.props;\n\n    return (\n      <Container>\n        {children}\n        {unread > 0 && (\n          <Icon>\n            <IconInner>\n              {showNumber && <UnreadCount>{unread}</UnreadCount>}\n            </IconInner>\n          </Icon>\n        )}\n      </Container>\n    );\n  }\n}\n"],"names":["ChatContext","React","createContext","client","withChatContext","OriginalComponent","ContextAwareComponent","getContextAwareComponent","TranslationContext","t","withTranslationContext","ChannelContext","withChannelContext","SuggestionsContext","withSuggestionsContext","MessageContentContext","withMessageContentContext","KeyboardContext","dismissKeyboard","Keyboard","dismiss","withKeyboardContext","context","originalComponent","Context","props","c","themePath","extraThemePaths","displayName","name","replace","InputBox","styled","TextInput","theme","messageInput","inputBox","css","AutoCompleteInput","isTrackingStarted","triggerSettings","state","currentTrigger","component","title","openSuggestions","closeSuggestions","q","setState","currentTokenForSuggestions","triggers","dataProvider","value","data","query","updateSuggestions","onSelect","onSelectSuggestion","text","fromUpdate","onChange","handleSuggestions","nativeEvent","selection","start","end","selectionStart","selectionEnd","item","newToken","output","computeCaretPosition","token","startToken","length","textToModify","slice","startOfTokenPosition","search","RegExp","newTokenString","newCaretPosition","modifiedText","substring","stopTracking","syncCaretPosition","callback","position","tokens","split","isCommand","startTracking","actualToken","trim","minChar","tokenMatch","match","lastToken","Object","keys","find","a","setTimeout","handleCommand","handleMentions","prevProps","handleChange","setInputBoxRef","handleSelectionChange","additionalTextInputProps","PureComponent","PropTypes","string","func","object","undefined","AutoCompleteInputWithContext","Colors","primary","secondary","danger","light","textLight","textDark","textGrey","transparent","defaultTheme","colors","avatar","container","image","fallback","channelListHeaderErrorIndicator","errorText","channelListHeaderNetworkDownIndicator","channelListFooterLoadingIndicator","loadingErrorIndicator","retryText","channelPreview","details","detailsTop","date","message","color","unreadColor","fontWeight","unreadFontWeight","closeButton","iconBadge","icon","iconInner","unreadCount","iconSquare","content","borderRadiusL","borderRadiusS","containerInner","metaContainer","metaText","errorContainer","backgroundColor","deletedContainer","deletedText","textContainer","leftBorderWidth","leftBorderColor","rightBorderWidth","rightBorderColor","markdown","status","spacer","deliveredContainer","deliveredCircle","checkMark","sendingContainer","sendingImage","readByContainer","readByCount","avatarWrapper","replies","messageRepliesText","file","size","actions","button","primaryBackgroundColor","defaultBackgroundColor","primaryBorderColor","defaultBorderColor","buttonText","primaryColor","defaultColor","card","cover","footer","description","link","logo","gallery","width","halfSize","doubleSize","single","imageContainer","galleryContainer","header","reactionList","reactionCount","reactionPicker","containerView","column","emoji","actionSheet","titleContainer","titleText","buttonContainer","cancelButtonContainer","cancelButtonText","loadingIndicator","loadingText","conditionalPadding","inputBoxContainer","editingBoxContainer","editingBoxHeader","editingBoxHeaderTitle","attachButton","attachButtonIcon","sendButton","sendButtonIcon","imageUploadPreview","itemContainer","dismissImage","upload","uploadProgressIndicator","overlay","suggestions","wrapper","maxHeight","itemHeight","separator","mention","command","top","args","messageList","listContainer","messageNotification","errorNotification","errorNotificationText","dateSeparator","line","dateText","messageSystem","eventIndicator","memberUpdateContainer","memberUpdateTextContainer","memberUpdateText","typingIndicatorContainer","spinner","thread","newThread","typingIndicator","fontSize","themed","Error","ThemedComponent","style","ThemeConsumer","themeProviderTheme","modifiedTheme","themeDiff","path","replaceCssShorthand","v","isPlainObject","m","mapValues","k","push","pop","lodashGet","join","merge","lodashSet","ThemeProvider","getDisplayName","WrappedComponent","BASE_AVATAR_FALLBACK_TEXT_SIZE","BASE_AVATAR_SIZE","AvatarContainer","View","AvatarImage","Image","AvatarFallback","AvatarText","Text","Avatar","imageError","map","charAt","initials","getInitials","uri","setError","number","Container","Name","MentionsItem","id","Component","propTypes","Top","Title","CommandArgs","CommandDescription","CommandsItem","renderText","styles","markdownRules","mentioned_users","urls","anchorme","list","urlInfo","displayLink","truncate","encoded","omission","mkdown","protocol","raw","newText","i","username","re","markdownStyles","defaultMarkdownStyles","textDecorationLine","url","inlineCode","borderColor","padding","paddingHorizontal","renderReactions","reactions","supportedReactions","reactionsByType","type","emojiDataByType","forEach","e","reactionTypes","indexOf","defaultNS","defaultLng","Dayjs","extend","updateLocale","format","LT","LTS","L","LL","LLL","LLLL","calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","meridiemParse","meridiemHour","hour","meridiem","en_locale","weekdays","months","defaultStreami18nOptions","language","disableDateTimeTranslations","debug","logger","msg","console","warn","dayjsLocaleConfigForLanguage","DateTimeParser","Moment","Streami18n","options","i18n","createInstance","en","enTranslations","nl","nlTranslations","ru","ruTranslations","tr","trTranslations","fr","frTranslations","hi","hiTranslations","it","itTranslations","isCustomDateTimeParser","Ls","availableLanguages","translations","currentLanguage","getAvailableLanguages","i18nInstance","finalOptions","LocalizedFormat","localeData","relativeTime","error","translationsForLanguage","i18nextConfig","nsSeparator","keySeparator","fallbackLng","lng","interpolation","escapeValue","parseMissingKeyHandler","key","validateCurrentLanguage","addOrUpdateLocale","localeExists","tDateTimeParser","timestamp","locale","init","resources","initialized","dayjsLocales","translation","customDayjsLocale","addResources","config","changeLanguage","setLanguageCallback","emojiData","capitalize","s","toUpperCase","FileState","freeze","NO_FILE","UPLOADING","UPLOADED","UPLOAD_FAILED","ProgressIndicatorTypes","IN_PROGRESS","RETRY","getCommands","channel","getConfig","allCommands","commands","getMembers","result","members","values","member","user","getWatchers","watchers","getMembersAndWatchers","users","uniqueUsers","usersArray","queryMembers","onReady","$autocomplete","response","queryMembersDebounced","debounce","trailing","leading","ACITriggerSettings","onMentionSelectItem","matchingUsers","filter","toLowerCase","entity","caretPosition","selectedCommands","sort","b","nameA","nameB","MESSAGE_ACTIONS","edit","reply","makeImageCompatibleUrl","newUrl","TouchableOpacity","alignment","CardCover","CardFooter","FooterTitle","FooterDescription","FooterLink","FooterLogo","Card","trimmedUrl","Linking","canOpenURL","then","supported","openURL","log","image_url","thumb_url","title_link","og_scrape_url","onLongPress","additionalTouchableProps","Header","Cover","Footer","_goToURL","display","flexDirection","trimUrl","giphyLogo","oneOfType","node","elementType","Line","DateText","Date","DateSeparator","formatDate","isRequired","DateSeparatorWithContext","EmptyStateIndicator","listType","Indicator","MemberUpdateContainer","MemberUpdateTextContainer","MemberUpdateText","EventIndicator","event","received_at","EventIndicatorWithContext","img","Icon","wordMimeTypes","excelMimeTypes","powerpointMimeTypes","archiveFileTypes","codeFileTypes","mimeTypeToIconMap","iconPDF","iconDOC","iconXLS","iconPPT","iconTAR","mimeTypeToIcon","mimeType","FileIcon","React.createElement","height","Button","buttonStyle","rest","ButtonText","AttachmentActions","actionHandler","action","bind","array","CloseButton","closeRound","Single","GalleryContainer","ImageContainer","Gallery","viewerModalOpen","viewerModalImageIndex","images","Modal","SafeAreaView","flex","alignItems","justifyContent","imageCount","arrayOf","shape","HeaderContainer","HeaderButton","GalleryHeader","handleDismiss","GalleyWithContext","FileContainer","groupStyle","FileDetails","FileTitle","FileSize","goToURL","FileAttachment","attachment","AttachmentFileIcon","asset_url","mime_type","file_size","oneOf","Attachment","CardHeader","Giphy","UrlPreview","cardProps","FileAttachmentGroup","messageId","files","handleAction","index","Overlay","UploadProgressIndicator","active","children","left","right","bottom","ActivityIndicator","iconReload","bool","FILE_PREVIEW_HEIGHT","FILE_PREVIEW_PADDING","FileUploadPreview","retryUpload","marginBottom","borderWidth","paddingLeft","concat","removeFile","fileUploads","marginRight","marginLeft","FlatList","_renderItem","StyledTouchableOpacity","StyledView","IconSquare","onPress","ItemContainer","Dismiss","Upload","DismissImage","ImageUploadPreview","removeImage","imageUploads","KeyboardCompatibleView","nextAppState","appState","setupKeyboardListeners","channelHeight","Animated","Value","initialHeight","removeKeyboardListeners","AppState","addEventListener","_handleAppStateChange","removeEventListener","Platform","OS","keyboardDidShowListener","addListener","keyboardDidShow","keyboardDidHideListener","keyboardDidHide","remove","enabled","keyboardHidingInProgressBeforeMeasure","_hidingKeyboardInProgress","keyboardHeight","endCoordinates","rootChannelView","measureInWindow","x","y","Dimensions","get","windowHeight","finalHeight","StatusBar","currentHeight","timing","toValue","duration","keyboardOpenAnimationDuration","useNativeDriver","setValue","safeSetState","_keyboardOpen","keyboardDismissAnimationDuration","unmounted","Promise","resolve","finished","o","layout","keyboardWillDismiss","currentState","setupListeners","removeListeners","animatedViewProps","onLayout","getContext","setRootChannelView","ErrorText","RetryText","LoadingErrorIndicator","retry","Loader","LoadingErrorIndicatorWithContext","AnimatedView","createAnimatedComponent","Circle","Spinner","rotateValue","loop","easing","Easing","linear","_start","transform","rotate","interpolate","inputRange","outputRange","LoadingText","LoadingIndicator","LoadingIndicatorWithContext","Spacer","MessageAvatar","groupStyles","showAvatar","visible","isMyMessage","TouchableWrapper","ReactionCount","reactionCounts","ImageWrapper","LeftTail","LeftCenter","LeftEnd","RightTail","RightCenter","RightEnd","Reactions","ReactionList","latestReactions","getTotalReactionCount","leftTail","leftCenter","leftEnd","rightEnd","rightCenter","rightTail","openReactionSelector","TextContainer","MessageTextContainer","withTheme","MessageText","hasAttachment","attachments","MessageRepliesText","MessageRepliesImage","MessageReplies","isThreadList","openThread","reply_count","iconPath","replyCount","MessageRepliesWithContext","leftAlign","ContainerView","Column","Emoji","ReactionPicker","filtered","getUsersPerReaction","hideReactionCount","hideReactionOwners","reactionPickerVisible","handleReaction","rpLeft","rpTop","rpRight","marginTop","Boolean","latestUser","getLatestUser","count","ReactionPickerWrapper","offset","messageContainer","Math","round","_setReactionPickerPosition","dismissReactionPicker","openReactionPicker","latest_reactions","reaction_counts","any","ContainerInner","MetaContainer","MetaText","DeletedContainer","DeletedText","FailedText","ActionSheetTitleContainer","ActionSheetTitleText","ActionSheetButtonContainer","ActionSheetButtonText","ActionSheetCancelButtonContainer","ActionSheetCancelButtonText","MessageContent","onThreadSelect","ActionSheet","show","handleDelete","handleEdit","readOnly","disabled","Message","threadList","retrySendMessage","messageActions","reactionsEnabled","repliesEnabled","canEditMessage","canDeleteMessage","MessageHeader","MessageFooter","showTime","hasReactions","splice","deleted_at","contentProps","onMessageTouch","showActionSheet","activeOpacity","Immutable","created_at","onActionPress","actionSheetStyles","MessageContentWithContext","StatusContainer","DeliveredContainer","DeliveredCircle","CheckMark","SendingContainer","SendingImage","ReadByContainer","MessageStatus","readBy","lastReceivedId","renderStatus","justReadByMe","loadingGif","lastReadUser","iconDeliveredUnseen","MessageSystem","MessageSystemWithContext","hasMarginBottom","isVeryLastMessage","MessageSimple","forceAlign","showMessageStatus","lastMessage","messages","forwardedProps","handleRetry","showReactionsList","DefaultMessageAvatar","DefaultMessageContent","DefaultMessageStatus","DefaultMessageSystem","role","membership","isModerator","isOwner","isAdmin","preventDefault","flagMessage","setEditingState","deleteMessage","updateMessage","reactionType","userExistingReaction","currentUser","userID","own_reactions","reaction","originalMessage","removeReaction","reactionChangePromise","deleteReaction","messageID","tmpReaction","message_id","addReaction","sendReaction","formData","sendAction","removeMessage","dismissKeyboardOnMessageTouch","loading","nextProps","shouldUpdate","deepequal","editing","actionsEnabled","actionProps","handleFlag","handleMute","MessageNotificationText","MessageNotification","notificationOpacity","showNotification","opacity","MessageNotificationWithContext","Wrapper","min","Separator","SuggestionsItem","SuggestionsProvider","all","getInputBoxPosition","getChatBoxPosition","inputBoxPosition","chatBoxPosition","suggestionsBottomMargin","suggestionsLeftMargin","suggestionsWidth","suggestionsViewActive","suggestionsBackdropHeight","suggestionsTitle","messageInputBox","nodeHandleRoot","findNodeHandle","rootView","measureLayout","setInputBoxContainerRef","dismissSuggestionsList","setRootView","SuggestionsView","backdropHeight","SuggestionsSeparator","renderItem","SuggestionsHeader","fail","NetInfo","fetch","pickImage","pickDocument","registerNativeHandlers","handlers","Chat","isConnected","wsConnection","onlineStatusChanged","notifyChatClient","unsubscribeNetInfo","tags","_unmounted","setActiveChannel","isOnline","connectionRecovering","setConnectionListener","on","online","streami18n","registerSetLanguageCallback","getTranslators","off","instanceOf","ChannelInner","disconnected","read_events","doMarkReadRequest","logChatPromiseExecution","markRead","threadMessages","threads","threadLoadingMore","parentID","oldMessages","oldestMessageID","limit","getReplies","id_lt","queryResponse","hasMore","_loadMoreThreadFinishedDebounced","threadHasMore","updatedMessage","extraState","addMessageSorted","parent_id","parent","extraFields","clientSideID","uuidv4","html","__html","doUpdateMessageRequest","cid","messageData","doSendMessageRequest","messageResponse","sendMessage","filterErrorMessages","messagePreview","createMessagePreview","userAutocomplete","_sendMessage","asMutable","threadState","messageToImmutable","addToEventHistory","_setStateThrottled","read","typing","watcher_count","prevState","lastMessageId","eventHistory","loadingMore","oldestMessage","oldestID","perPage","_loadMoreFinishedDebounced","editMessage","clearEditingState","_markReadThrottled","loadMore","_loadMoreThrottled","closeThread","loadMoreThread","frozen","disableIfFrozenChannel","getInitialStateFromProps","loadMoreFinished","throttle","loadMoreThreadFinished","resetState","initChannel","errored","watch","lastRead","copyChannelState","listenToChanges","handleEvent","cancel","countUnread","selectRegularMessages","core","renderLoadingError","renderLoading","disableKeyboardCompatibleView","ChannelInnerWithContext","Channel","ChannelWithContext","TypingText","TypingIndicator","dict","arr2","arr3","outStr","firstUser","secondUser","commaSeparatedUsers","lastUser","typingUsers","idx","constructTypingString","StreamChat","TypingIndicatorWithContext","ListContainer","ErrorNotificationText","ErrorNotification","TypingIndicatorContainer","MessageList","newMessages","none","entries","messageDate","getDay","prevMessageDate","eventsNextToMessage","l","messageGroupStyles","previousMessage","nextMessage","userId","isTopMessage","isBottomMessage","noGroupByUser","newMessagesNotification","flatList","scrollToIndex","readData","readState","last_read","userLastReadMsgId","updated_at","yOffset","contentOffset","removeNewMessageNotification","setLastReceived","currentLastMessage","previousLastMessage","hasNewMessage","userScrolledUp","scrollToBottom","hasEventHistory","renderEmptyState","HeaderComponent","headerComponent","messagesWithDates","insertDates","getGroupStyles","getReadStates","reverse","showTypingIndicator","disableWhileEditing","zIndex","fl","setFlatListRef","handleScroll","toISOString","minIndexForVisible","autoscrollToTopThreshold","additionalFlatListProps","goToNewMessages","loadMoreThreshold","messageGrouping","MessageListWithContext","SendButtonIcon","SendButton","iconEdit","iconSendNewMessage","AttachButtonIcon","AttachButton","handleOnPress","iconAddAttachment","generateRandomId","S4","random","toString","EditingBoxContainer","EditingBoxHeader","EditingBoxHeaderTitle","InputBoxContainer","MessageInput","initialValue","imageOrder","fileOrder","attach","numberOfUploads","asyncUploads","asyncIds","without","err","sending","clear","sendImageAsync","mu","updateMessagePromise","uniq","maxNumberOfFiles","cancelled","lookup","startsWith","uploadNewImage","uploadNewFile","setIn","_uploadFile","doc","doDocUploadRequest","sendFile","_uploadImage","set","_id","filename","contentType","doImageUploadRequest","sendImage","res","includes","keystroke","onChangeText","attachActionSheet","hide","hasImagePicker","hasFilePicker","Input","editable","_removeFile","_removeImage","iconClose","closeAttachActionSheet","iconGallery","iconFolder","_pickImage","_pickFile","getUsers","onSelectItem","isValidMessage","appendText","getMessageDetailsForState","focus","sendMessageAsync","renderInputContainer","MessageInputWithContext","AttachmentActionSheetItem","Details","DetailsTop","unread","ChannelPreviewMessenger","otherMembers","isValidName","formatLatestMessageDate","onSelectChannel","renderAvatar","_Date","latestMessage","messageObject","latestMessageLength","ChannelPreviewMessengerWithContext","ChannelPreview","isSame","handleNewMessageEvent","handleReadEvent","Preview","getLatestMessage","ChannelPreviewWithContext","ChannelListHeaderNetworkDownIndicator","ChannelListHeaderErrorIndicator","ChannelListFooterLoadingIndicator","ChannelListMessenger","reloadList","loadNextPage","refreshList","HeaderNetworkDownIndicator","HeaderErrorIndicator","renderHeaderIndicator","flRef","channels","refreshing","loadingNextPage","FooterLoadingIndicator","loadingChannels","renderChannels","objectOf","DEFAULT_QUERY_CHANNELS_LIMIT","MAX_QUERY_CHANNELS_LIMIT","ChannelList","newState","_queryChannelsDebounced","ms","filters","retryCount","queryChannels","channelQueryResponse","wait","queryChannelsRequest","queryType","max","queryOptions","setStateAsync","channelIds","setRefreshingUIState","setReloadingUIState","setLoadingNextPageUIState","queryChannelsPromise","startQueryLoadingUIState","getQueryParams","finishQueryLoadingUIState","hasNextPage","setChannels","appendChannels","handleError","additionalState","distinctChannels","onChannelHidden","channelIndex","findIndex","newChannels","lockChannelOrder","moveChannelUp","onMessageNew","getChannel","uniqBy","uniqWith","isEqual","onAddedToChannel","onRemovedFromChannel","onChannelUpdated","onChannelDeleted","onChannelTruncated","unshift","now","lastRefresh","listRef","success","createRef","params","info","isUnmounted","List","ref","NewThread","NewThreadText","Thread","autoFocus","additionalParentMessageProps","additionalMessageListProps","additionalMessageInputProps","ThreadInner","MessageListComponent","MessageInputComponent","ThreadWithContext","IconInner","UnreadCount","IconBadge","showNumber"],"mappings":"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"}